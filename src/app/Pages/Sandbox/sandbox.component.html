<div class="
    container
    d-flex
    justify-content-between
    align-items-center
    text-center
    content
  ">
    <h2 class="h4 text-body-secondary">{{title}}</h2>
</div>

<!-- Screen-reader live region (restored) -->
<div class="visually-hidden" aria-live="polite">
    {{hiddenAlert}}
</div>

<!-- Component Grouping -->

<div class="form-control border-primary-subtle border-2 container mt-3 mb-3">
    <div class="
    mt-3
    mb-3
    container
    justify-content-between
    align-items-center
    text-center
    content
  ">
    </div>
    <div class="container" id="details-container">
    </div>


    <!-- Minimal Surprise Box Demo (reuses existing aria-live via hiddenAlert) -->
    <div class="container mt-3 mb-3">
        <!-- Compose & send a custom aria-live message for the chest -->
        <div class="w-100 mb-5" id="chestMessageContainer">
            <div class="input-group">
                <label class="input-group-text" for="chestMessageInput">Leave a comment :)</label>
                <input id="chestMessageInput" type="text" class="form-control" placeholder="Enter custom message"
                    [(ngModel)]="chestInput" />
                <button class="btn btn-outline-secondary" type="button" (click)="sendCustomMessage()"
                    aria-label="Send custom message">
                    <i class="bi bi-send-fill text-primary"></i>
                </button>
            </div>
        </div>

        <div class="d-flex flex-column align-items-center" id="treasureStage">
            <h3 class="h3" *ngIf="customMessage && showMessage">
                {{ customMessage }}
            </h3>
            <lottie-player id="treasurePlayer" src="assets/lottie/empty-box.json" background="transparent" speed="0.6"
                style="width: 240px; height: 240px;" aria-label="Surprise Box Animation">
            </lottie-player>

            <button type="button" class="btn btn-primary mt-2" (click)="openChest()">
                Open the box
            </button>
        </div>

        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" aria-haspopup="dialog" aria-controls="exampleModal">
            Click Me!
        </button>
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-label="This is a change of context, and focus has been shifted" aria-modal="true">
            <div class="modal-dialog" >
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Custom Modal</h1>
                    </div>
                    <div class="modal-body" id="modalBody">
                        This is a <strong>change of context</strong> example using a modal dialog. Opening the modal shifts keyboard
                        focus into the dialog, which prompts screen readers to announce the change automatically.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                            Got it
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>







<!-- Component Grouping -->

<div *ngIf="showRadioDemo" class="form-control border-primary-subtle border-2 container mt-3 mb-3">
    <div class="container border border-primary-subtle mt-3 mb-3" id="content-container">
        <p>
            The same logic can be applied when displaying new content based on user interaction.
        </p>
    </div>
    <div class="
    mt-3
    mb-3
    container
    justify-content-between
    align-items-center
    text-center
    content
  ">
        <div class="override-container">
            <div aria-live="polite" *ngFor="let radio of radioGroupList">
                <cel-radio-button-group #radioGroupForms [header]=radio.header
                    [attr.data-show-radio-group-horizontal]="!isMobile" [groupName]="radio.groupName"
                    [list]="radio.radioGroup" (celRadioButtonChange)="displayToggle($event)"></cel-radio-button-group>
            </div>
        </div>
        <div class="accordion
              mb-3
              mt-3
              container
              justify-content-between
              align-items-center
              text-center
              content" id="accordion1">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button id="accordionButton1"
                        class="border border-secondary border-1 bg-info bg-opacity-10 accordion-button collapsed"
                        type="button" data-bs-toggle="collapse" data-bs-target="#codeContainer1" aria-expanded="false"
                        aria-controls="codeContainer1">
                        Expand Code
                    </button>
                </h2>
                <div id="codeContainer1" class="accordion-collapse collapse" data-bs-parent="#accordion3">
                    <div class="accordion-body">
                        <strong>Display Content</strong>
                        <pre></pre>
                        <code style="color: #006748;">
              <strong>
              &lt;div aria-live="polite" *ngFor="let radio of radioGroupList"&gt;
            </strong>
            </code>
                        <code>
            <strong>
              &lt;cel-radio-button-group
            </strong>
            </code>
                        <code>
              [attr.data-show-radio-group-horizontal]="!isMobile"
            </code>
                        <code>
              [header]="radio.header"
            </code>
                        <code>
              [groupName]="radio.groupName"
            </code>
                        <code>
              [list]="radio.radioGroup"
            </code>
                        <code>
              (celRadioButtonChange)="displayToggle($event)"<strong>&gt;
              &lt;/cel-radio-button-group&gt;
            </strong>
            </code>
                        <code style="color: #006748;">
            <strong>
              &lt;/div&gt;
            </strong>
            </code>
                        <pre></pre>
                    </div>
                </div>
            </div>
        </div>
        <div class="container" id="details-container">
            <p>
                There is some nuance with <strong>change of context & change of content</strong>. Technically we are not
                changing
                context, but we are changing the content of the page. Since the user initated the change, it is not
                considered
                an interruption or WCAG failure, however; it is still important to consider the user experience by
                providing the <code>aria-live</code> region.
            </p>
        </div>
    </div>
</div>