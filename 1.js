(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{IiQz:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}},kz7P:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MathEditor});var _commonjsHelpers_ba3f0406_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("IiQz"),dist=Object(_commonjsHelpers_ba3f0406_js__WEBPACK_IMPORTED_MODULE_0__.b)(function(module,exports){var u;self,u=()=>(()=>{var __webpack_modules__={755:function(e,t){var n;!function(t,n){"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(r,i){var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,h={},d=h.toString,p=h.hasOwnProperty,f=p.toString,m=f.call(Object),g={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},b=r.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function S(e,t,n){var r,i,o=(n=n||b).createElement("script");if(o.text=e,t)for(r in x)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var N="3.7.0",E=/HTML$/i,T=function(e,t){return new T.fn.init(e,t)};function A(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!y(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}T.fn=T.prototype={jquery:N,constructor:T,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(T.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(T.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||T.isPlainObject(n)?n:{},i=!1,s[t]=T.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},T.extend({expando:"jQuery"+(N+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=s(e))&&("function"!=typeof(n=p.call(t,"constructor")&&t.constructor)||f.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){S(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(A(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i)return e.textContent;if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(A(Object(e))?T.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&(e.ownerDocument||e).documentElement;return!E.test(e&&e.namespaceURI||t&&t.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(A(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var k=o.pop,M=o.sort,_=o.splice,O="[\\x20\\t\\r\\n\\f]",I=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g");T.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var L=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function R(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}T.escapeSelector=function(e){return(e+"").replace(L,R)};var D=b,F=c;!function(){var e,t,n,i,s,l,c,h,d,f,m=F,y=T.expando,v=0,b=0,x=ee(),S=ee(),w=ee(),N=ee(),E=function(e,t){return e===t&&(s=!0),0},A="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="(?:\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+O+"*("+L+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+O+"*\\]",P=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",q=new RegExp(O+"+","g"),B=new RegExp("^"+O+"*,"+O+"*"),j=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),z=new RegExp(O+"|>"),H=new RegExp(P),U=new RegExp("^"+L+"$"),$={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+A+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,W=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,X=new RegExp("\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\([^\\r\\n\\f])","g"),Y=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},K=function(){le()},Z=de(function(e){return!0===e.disabled&&C(e,"fieldset")},{dir:"parentNode",next:"legend"});try{m.apply(o=a.call(D.childNodes),D.childNodes)}catch(e){m={apply:function(e,t){F.apply(e,a.call(t))},call:function(e){F.apply(e,a.call(arguments,1))}}}function J(e,t,n,r){var i,o,s,a,c,u,p,f=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!r&&(le(t),t=t||l,h)){if(11!==v&&(c=W.exec(e)))if(i=c[1]){if(9===v){if(!(s=t.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(f&&(s=f.getElementById(i))&&J.contains(t,s)&&s.id===i)return m.call(n,s),n}else{if(c[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!(N[e+" "]||d&&d.test(e))){if(p=e,f=t,1===v&&(z.test(e)||j.test(e))){for((f=Q.test(e)&&ae(t.parentNode)||t)==t&&g.scope||((a=t.getAttribute("id"))?a=T.escapeSelector(a):t.setAttribute("id",a=y)),o=(u=ue(e)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+he(u[o]);p=u.join(",")}try{return m.apply(n,f.querySelectorAll(p)),n}catch(t){N(e,!0)}finally{a===y&&t.removeAttribute("id")}}}return ve(e.replace(I,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[y]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return C(t,"input")&&t.type===e}}function ie(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Z(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te(function(t){return t=+t,te(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var n,r=e?e.ownerDocument||e:D;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,h=!T.isXMLDoc(l),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,D!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",K),g.getById=ne(function(e){return c.appendChild(e).id=T.expando,!l.getElementsByName||!l.getElementsByName(T.expando).length}),g.disconnectedMatch=ne(function(e){return f.call(e,"*")}),g.scope=ne(function(){return l.querySelectorAll(":scope")}),g.cssHas=ne(function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),g.getById?(t.filter.ID=function(e){var t=e.replace(X,Y);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(X,Y);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},d=[],ne(function(e){var t;c.appendChild(e).innerHTML="<a id='"+y+"' href='' disabled='disabled'></a><select id='"+y+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+O+"*(?:value|"+A+")"),e.querySelectorAll("[id~="+y+"-]").length||d.push("~="),e.querySelectorAll("a#"+y+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+O+"*name"+O+"*="+O+"*(?:''|\"\")")}),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),E=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==D&&J.contains(D,e)?-1:t===l||t.ownerDocument==D&&J.contains(D,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in J.matches=function(e,t){return J(e,null,null,t)},J.matchesSelector=function(e,t){if(le(e),h&&!N[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return J(t,l,null,[e]).length>0},J.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),T.contains(e,t)},J.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var r=t.attrHandle[n.toLowerCase()],i=r&&p.call(t.attrHandle,n.toLowerCase())?r(e,n,!h):void 0;return void 0!==i?i:e.getAttribute(n)},J.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},T.uniqueSort=function(e){var t,n=[],r=0,o=0;if(s=!g.sortStable,i=!g.sortStable&&a.call(e,0),M.call(e,E),s){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)_.call(e,n[r],1)}return i=null,e},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(a.apply(this)))},(t=T.expr={cacheLength:50,createPseudo:te,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(X,Y),e[3]=(e[3]||e[4]||e[5]||"").replace(X,Y),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||J.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&J.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(X,Y).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&x(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=J.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f=o!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),b=!l&&!a,x=!1;if(m){if(o){for(;f;){for(h=t;h=h[f];)if(a?C(h,g):1===h.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(x=(d=(c=(u=m[y]||(m[y]={}))[e]||[])[0]===v&&c[1])&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[f]||(x=d=0)||p.pop();)if(1===h.nodeType&&++x&&h===t){u[e]=[v,d,x];break}}else if(b&&(x=d=(c=(u=t[y]||(t[y]={}))[e]||[])[0]===v&&c[1]),!1===x)for(;(h=++d&&h&&h[f]||(x=d=0)||p.pop())&&(!(a?C(h,g):1===h.nodeType)||!++x||(b&&((u=h[y]||(h[y]={}))[e]=[v,x]),h!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||J.error("unsupported pseudo: "+e);return i[y]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te(function(e,t){for(var r,o=i(e,n),s=o.length;s--;)e[r=u.call(e,o[s])]=!(t[r]=o[s])}):function(e){return i(e,0,r)}):i}},pseudos:{not:te(function(e){var t=[],n=[],r=ye(e.replace(I,"$1"));return r[y]?te(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:te(function(e){return function(t){return J(e,t).length>0}}),contains:te(function(e){return e=e.replace(X,Y),function(t){return(t.textContent||T.text(t)).indexOf(e)>-1}}),lang:te(function(e){return U.test(e||"")||J.error("unsupported lang: "+e),e=e.replace(X,Y).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return V.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){var t;return C(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se(function(){return[0]}),last:se(function(e,t){return[t-1]}),eq:se(function(e,t,n){return[n<0?n+t:n]}),even:se(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:se(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:se(function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:se(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var r,i,o,s,a,l,c,u=S[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(s in r&&!(i=B.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=j.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(I," ")}),a=a.slice(r.length)),t.filter)!(i=$[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?J.error(e):S(e,l).slice(0)}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function de(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=b++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,h=[v,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=t[y]||(t[y]={}),i&&C(t,i))t=t[r]||t;else{if((c=u[o])&&c[0]===v&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=e(t,n,l))return!0}return!1}}function pe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function fe(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function me(e,t,n,r,i,o){return r&&!r[y]&&(r=me(r)),i&&!i[y]&&(i=me(i,o)),te(function(o,s,a,l){var c,h,d,p,f=[],g=[],y=s.length,v=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)J(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),b=!e||!o&&t?v:fe(v,f,e,a,l);if(n?n(b,p=i||(o?e:y||r)?[]:s,a,l):p=b,r)for(c=fe(p,g),r(c,[],a,l),h=c.length;h--;)(d=c[h])&&(p[g[h]]=!(b[g[h]]=d));if(o){if(i||e){if(i){for(c=[],h=p.length;h--;)(d=p[h])&&c.push(b[h]=d);i(null,p=[],c,l)}for(h=p.length;h--;)(d=p[h])&&(c=i?u.call(o,d):f[h])>-1&&(o[c]=!(s[c]=d))}}else p=fe(p===s?p.splice(y,p.length):p),i?i(null,s,p,l):m.apply(s,p)})}function ge(e){for(var r,i,o,s=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,h=de(function(e){return e===r},l,!0),d=de(function(e){return u.call(r,e)>-1},l,!0),p=[function(e,t,i){var o=!a&&(i||t!=n)||((r=t).nodeType?h(e,t,i):d(e,t,i));return r=null,o}];c<s;c++)if(i=t.relative[e[c].type])p=[de(pe(p),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[y]){for(o=++c;o<s&&!t.relative[e[o].type];o++);return me(c>1&&pe(p),c>1&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(I,"$1"),i,c<o&&ge(e.slice(c,o)),o<s&&ge(e=e.slice(o)),o<s&&he(e))}p.push(i)}return pe(p)}function ye(e,r){var i,o=[],s=[],a=w[e+" "];if(!a){for(r||(r=ue(e)),i=r.length;i--;)(a=ge(r[i]))[y]?o.push(a):s.push(a);(a=w(e,function(e,r){var i=r.length>0,o=e.length>0,s=function(s,a,c,u,d){var p,f,g,y=0,b="0",x=s&&[],S=[],w=n,N=s||o&&t.find.TAG("*",d),E=v+=null==w?1:Math.random()||.1,A=N.length;for(d&&(n=a==l||a||d);b!==A&&null!=(p=N[b]);b++){if(o&&p){for(f=0,a||p.ownerDocument==l||(le(p),c=!h);g=e[f++];)if(g(p,a||l,c)){m.call(u,p);break}d&&(v=E)}i&&((p=!g&&p)&&y--,s&&x.push(p))}if(y+=b,i&&b!==y){for(f=0;g=r[f++];)g(x,S,a,c);if(s){if(y>0)for(;b--;)x[b]||S[b]||(S[b]=k.call(u));S=fe(S)}m.apply(u,S),d&&!s&&S.length>0&&y+r.length>1&&T.uniqueSort(u)}return d&&(v=E,n=w),x};return i?te(s):s}(s,o))).selector=e}return a}function ve(e,n,r,i){var o,s,a,l,c,u="function"==typeof e&&e,d=!i&&ue(e=u.selector||e);if(r=r||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&h&&t.relative[s[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(X,Y),n)||[])[0]))return r;u&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(o=$.needsContext.test(e)?0:s.length;o--&&!t.relative[l=(a=s[o]).type];)if((c=t.find[l])&&(i=c(a.matches[0].replace(X,Y),Q.test(s[0].type)&&ae(n.parentNode)||n))){if(s.splice(o,1),!(e=i.length&&he(s)))return m.apply(r,i),r;break}}return(u||ye(e,d))(i,n,!h,r,!n||Q.test(e)&&ae(n.parentNode)||n),r}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=y.split("").sort(E).join("")===y,le(),g.sortDetached=ne(function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))}),T.find=J,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,J.compile=ye,J.select=ve,J.setDocument=le,J.escape=T.escapeSelector,J.getText=T.text,J.isXML=T.isXMLDoc,J.selectors=T.expr,J.support=T.support,J.uniqueSort=T.uniqueSort}();var P=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&T(e).is(n))break;r.push(e)}return r},q=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},B=T.expr.match.needsContext,j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function z(e,t,n){return y(t)?T.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?T.grep(e,function(e){return e===t!==n}):"string"!=typeof t?T.grep(e,function(e){return u.call(t,e)>-1!==n}):T.filter(t,e,n)}T.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?T.find.matchesSelector(r,e)?[r]:[]:T.find.matches(e,T.grep(t,function(e){return 1===e.nodeType}))},T.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(T(e).filter(function(){for(t=0;t<r;t++)if(T.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)T.find(e,i[t],n);return r>1?T.uniqueSort(n):n},filter:function(e){return this.pushStack(z(this,e||[],!1))},not:function(e){return this.pushStack(z(this,e||[],!0))},is:function(e){return!!z(this,"string"==typeof e&&B.test(e)?T(e):e||[],!1).length}});var H,U=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||H,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:U.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(T.merge(this,T.parseHTML(r[1],(t=t instanceof T?t[0]:t)&&t.nodeType?t.ownerDocument||t:b,!0)),j.test(r[1])&&T.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(T):T.makeArray(e,this)}).prototype=T.fn,H=T(b);var $=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function V(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(T.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&T(e);if(!B.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(T(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return P(e,"parentNode")},parentsUntil:function(e,t,n){return P(e,"parentNode",n)},next:function(e){return V(e,"nextSibling")},prev:function(e){return V(e,"previousSibling")},nextAll:function(e){return P(e,"nextSibling")},prevAll:function(e){return P(e,"previousSibling")},nextUntil:function(e,t,n){return P(e,"nextSibling",n)},prevUntil:function(e,t,n){return P(e,"previousSibling",n)},siblings:function(e){return q((e.parentNode||{}).firstChild,e)},children:function(e){return q(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},function(e,t){T.fn[e]=function(n,r){var i=T.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=T.filter(r,i)),this.length>1&&(G[e]||T.uniqueSort(i),$.test(e)&&i.reverse()),this.pushStack(i)}});var W=/[^\x20\t\r\n\f]+/g;function Q(e){return e}function X(e){throw e}function Y(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}T.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return T.each(e.match(W)||[],function(e,n){t[n]=!0}),t}(e):T.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){T.each(n,function(n,r){y(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==w(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return T.each(arguments,function(e,t){for(var n;(n=T.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?T.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},T.extend({Deferred:function(e){var t=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return T.Deferred(function(n){T.each(t,function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<o)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");y(c=r&&("object"==typeof r||"function"==typeof r)&&r.then)?i?c.call(r,s(o,t,Q,i),s(o,t,X,i)):(o++,c.call(r,s(o,t,Q,i),s(o,t,X,i),s(o,t,Q,t.notifyWith))):(n!==Q&&(a=void 0,l=[r]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(r){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(r,u.error),e+1>=o&&(n!==X&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?u():(T.Deferred.getErrorHook?u.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(u.error=T.Deferred.getStackHook()),r.setTimeout(u))}}return T.Deferred(function(r){t[0][3].add(s(0,r,y(i)?i:Q,r.notifyWith)),t[1][3].add(s(0,r,y(e)?e:Q)),t[2][3].add(s(0,r,y(n)?n:X))}).promise()},promise:function(e){return null!=e?T.extend(e,i):i}},o={};return T.each(t,function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add(function(){n=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=T.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(Y(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)Y(i[n],s(n),o.reject);return o.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&K.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){r.setTimeout(function(){throw e})};var Z=T.Deferred();function J(){b.removeEventListener("DOMContentLoaded",J),r.removeEventListener("load",J),T.ready()}T.fn.ready=function(e){return Z.then(e).catch(function(e){T.readyException(e)}),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||Z.resolveWith(b,[T]))}}),T.ready.then=Z.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(T.ready):(b.addEventListener("DOMContentLoaded",J),r.addEventListener("load",J));var ee=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===w(n))for(a in i=!0,n)ee(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,y(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(T(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=T.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(W)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||T.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var ae=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function he(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}le.set(e,t,n)}else n=void 0;return n}T.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),T.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=le.get(o),1===o.nodeType&&!ae.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=ie(r.slice(5)),he(o,r,i[r]));ae.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){le.set(this,e)}):ee(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=le.get(o,e))||void 0!==(n=he(o,e))?n:void 0;this.each(function(){le.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){le.remove(this,e)})}}),T.extend({queue:function(e,t,n){var r;if(e)return r=ae.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=ae.access(e,t,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=T.queue(e,t=t||"fx"),r=n.length,i=n.shift(),o=T._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){T.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:T.Callbacks("once memory").add(function(){ae.remove(e,[t+"queue",n])})})}}),T.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?T.queue(this[0],e):void 0===t?this:this.each(function(){var n=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&T.dequeue(this,e)})},dequeue:function(e){return this.each(function(){T.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=T.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ae.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],me=b.documentElement,ge=function(e){return T.contains(e.ownerDocument,e)},ye={composed:!0};me.getRootNode&&(ge=function(e){return T.contains(e.ownerDocument,e)||e.getRootNode(ye)===e.ownerDocument});var ve=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===T.css(e,"display")};function be(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return T.css(e,t,"")},l=a(),c=n&&n[3]||(T.cssNumber[t]?"":"px"),u=e.nodeType&&(T.cssNumber[t]||"px"!==c&&+l)&&pe.exec(T.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;s--;)T.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;T.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var xe={};function Se(e){var t,n=e.ownerDocument,r=e.nodeName,i=xe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=T.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),xe[r]=i,i)}function we(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=ae.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ve(r)&&(i[o]=Se(r))):"none"!==n&&(i[o]="none",ae.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}T.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ve(this)?T(this).show():T(this).hide()})}});var Ne,Ee,Te=/^(?:checkbox|radio)$/i,Ae=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;Ne=b.createDocumentFragment().appendChild(b.createElement("div")),(Ee=b.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),Ne.appendChild(Ee),g.checkClone=Ne.cloneNode(!0).cloneNode(!0).lastChild.checked,Ne.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!Ne.cloneNode(!0).lastChild.defaultValue,Ne.innerHTML="<option></option>",g.option=!!Ne.lastChild;var ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?T.merge([e],n):n}function _e(e,t){for(var n=0,r=e.length;n<r;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,g.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var Oe=/<|&#?\w+;/;function Ie(e,t,n,r,i){for(var o,s,a,l,c,u,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===w(o))T.merge(d,o.nodeType?[o]:o);else if(Oe.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(Ae.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(l=ke[a]||ke._default)[1]+T.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;T.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(r&&T.inArray(o,r)>-1)i&&i.push(o);else if(c=ge(o),s=Me(h.appendChild(o),"script"),c&&_e(s),n)for(u=0;o=s[u++];)Ce.test(o.type||"")&&n.push(o);return h}var Le=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function De(){return!1}function Fe(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Fe(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=De;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return T().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=T.guid++)),e.each(function(){T.event.add(this,t,i,r,n)})}function Pe(e,t,n){n?(ae.set(e,t,!1),T.event.add(e,t,{namespace:!1,handler:function(e){var n,r=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(T.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),ae.set(this,t,r),this[t](),n=ae.get(this,t),ae.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(ae.set(this,t,T.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Re)}})):void 0===ae.get(e,t)&&T.event.add(e,t,Re)}T.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,p,f,m,g=ae.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&T.find.matchesSelector(me,i),n.guid||(n.guid=T.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(W)||[""]).length;c--;)p=m=(a=Le.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=T.event.special[p]||{},h=T.event.special[p=(i?h.delegateType:h.bindType)||p]||{},u=T.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,f,s)||e.addEventListener&&e.addEventListener(p,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),T.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,p,f,m,g=ae.hasData(e)&&ae.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(W)||[""]).length;c--;)if(p=m=(a=Le.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=T.event.special[p]||{},d=l[p=(r?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||T.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)T.event.remove(e,p+t[c],n,r,!0);T.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),l=T.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=T.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=T.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?T(i,this).index(c)>-1:T.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Te.test(t.type)&&t.click&&C(t,"input")&&Pe(t,"click",!0),!1},trigger:function(e){var t=this||e;return Te.test(t.type)&&t.click&&C(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return Te.test(t.type)&&t.click&&C(t,"input")&&ae.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:De,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:De,isPropagationStopped:De,isImmediatePropagationStopped:De,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(b.documentMode){var n=ae.get(this,"handle"),r=T.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else T.event.simulate(t,e.target,T.event.fix(e))}T.event.special[e]={setup:function(){var r;if(Pe(this,e,!0),!b.documentMode)return!1;(r=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(r||0)+1)},trigger:function(){return Pe(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},T.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t);o||(b.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),ae.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t)-1;o?ae.set(i,t,o):(b.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),ae.remove(i,t))}}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||T.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),T.fn.extend({on:function(e,t,n,r){return Fe(this,e,t,n,r)},one:function(e,t,n,r){return Fe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,T(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=De),this.each(function(){T.event.remove(this,e,n,t)})}});var qe=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ze(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ue(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function $e(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)T.event.add(t,i,a[i][n]);le.hasData(e)&&(o=le.access(e),s=T.extend({},o),le.set(t,s))}}function Ge(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Te.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ve(e,t,n,r){t=l(t);var i,o,s,a,c,u,h=0,d=e.length,p=d-1,f=t[0],m=y(f);if(m||d>1&&"string"==typeof f&&!g.checkClone&&Be.test(f))return e.each(function(i){var o=e.eq(i);m&&(t[0]=f.call(this,i,o.html())),Ve(o,t,n,r)});if(d&&(o=(i=Ie(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=T.map(Me(i,"script"),He)).length;h<d;h++)c=i,h!==p&&(c=T.clone(c,!0,!0),a&&T.merge(s,Me(c,"script"))),n.call(e[h],c,h);if(a)for(u=s[s.length-1].ownerDocument,T.map(s,Ue),h=0;h<a;h++)Ce.test((c=s[h]).type||"")&&!ae.access(c,"globalEval")&&T.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):S(c.textContent.replace(je,""),c,u))}return e}function We(e,t,n){for(var r,i=t?T.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||T.cleanData(Me(r)),r.parentNode&&(n&&ge(r)&&_e(Me(r,"script")),r.parentNode.removeChild(r));return e}T.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||T.isXMLDoc(e)))for(s=Me(a),r=0,i=(o=Me(e)).length;r<i;r++)Ge(o[r],s[r]);if(t)if(n)for(o=o||Me(e),s=s||Me(a),r=0,i=o.length;r<i;r++)$e(o[r],s[r]);else $e(e,a);return(s=Me(a,"script")).length>0&&_e(s,!l&&Me(e,"script")),a},cleanData:function(e){for(var t,n,r,i=T.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[ae.expando]){if(t.events)for(r in t.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,t.handle);n[ae.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),T.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return ee(this,function(e){return void 0===e?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ve(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ze(this,e).appendChild(e)})},prepend:function(){return Ve(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ze(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ve(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ve(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(Me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return T.clone(this,e,t)})},html:function(e){return ee(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ke[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(T.cleanData(Me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,function(t){var n=this.parentNode;T.inArray(this,e)<0&&(T.cleanData(Me(this)),n&&n.replaceChild(t,this))},e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){T.fn[e]=function(e){for(var n,r=[],i=T(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),T(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var Qe=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Xe=/^--/,Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ke=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ze=new RegExp(fe.join("|"),"i");function Je(e,t,n){var r,i,o,s,a=Xe.test(t),l=e.style;return(n=n||Ye(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(I,"$1")||void 0),""!==s||ge(e)||(s=T.style(e,t)),!g.pixelBoxStyles()&&Qe.test(s)&&Ze.test(t)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==s?s+"":s}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),me.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,T.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",me.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,me.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],nt=b.createElement("div").style,rt={};function it(e){return T.cssProps[e]||rt[e]||(e in nt?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var r=pe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ct(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=T.css(e,n+fe[s],!0,i)),r?("content"===n&&(l-=T.css(e,"padding"+fe[s],!0,i)),"margin"!==n&&(l-=T.css(e,"border"+fe[s]+"Width",!0,i))):(l+=T.css(e,"padding"+fe[s],!0,i),"padding"!==n?l+=T.css(e,"border"+fe[s]+"Width",!0,i):a+=T.css(e,"border"+fe[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l+c}function ut(e,t,n){var r=Ye(e),i=(!g.boxSizingReliable()||n)&&"border-box"===T.css(e,"boxSizing",!1,r),o=i,s=Je(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Qe.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&C(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===T.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===T.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ct(e,t,n||(i?"border":"content"),o,r,s)+"px"}function ht(e,t,n,r,i){return new ht.prototype.init(e,t,n,r,i)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie(t),l=Xe.test(t),c=e.style;if(l||(t=it(a)),s=T.cssHooks[t]||T.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"==(o=typeof n)&&(i=pe.exec(n))&&i[1]&&(n=be(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(T.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=ie(t);return Xe.test(t)||(t=it(a)),(s=T.cssHooks[t]||T.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Je(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),T.each(["height","width"],function(e,t){T.cssHooks[t]={get:function(e,n,r){if(n)return!ot.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,r):Ke(e,st,function(){return ut(e,t,r)})},set:function(e,n,r){var i,o=Ye(e),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===T.css(e,"boxSizing",!1,o),l=r?ct(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ct(e,t,"border",!1,o)-.5)),l&&(i=pe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=T.css(e,t)),lt(0,n,l)}}}),T.cssHooks.marginLeft=et(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(e,t){T.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+fe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(T.cssHooks[e+t].set=lt)}),T.fn.extend({css:function(e,t){return ee(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Ye(e),i=t.length;s<i;s++)o[t[s]]=T.css(e,t[s],!1,r);return o}return void 0!==n?T.style(e,t,n):T.css(e,t)},e,t,arguments.length>1)}}),T.Tween=ht,(ht.prototype={constructor:ht,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,n=ht.propHooks[this.prop];return this.pos=t=this.options.duration?T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ht.propHooks._default.set(this),this}}).init.prototype=ht.prototype,(ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||!T.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=ht.prototype.init,T.fx.step={};var dt,pt,ft=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;function gt(){pt&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(gt):r.setTimeout(gt,T.fx.interval),T.fx.tick())}function yt(){return r.setTimeout(function(){dt=void 0}),dt=Date.now()}function vt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=fe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function bt(e,t,n){for(var r,i=(xt.tweeners[t]||[]).concat(xt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function xt(e,t,n){var r,i,o=0,s=xt.prefilters.length,a=T.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=dt||yt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||yt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=T.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=T.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=xt.prefilters[o].call(c,e,u,c.opts))return y(r.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return T.map(u,bt,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(xt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,pe.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(W);for(var n,r=0,i=e.length;r<i;r++)(xt.tweeners[n=e[r]]=xt.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u,h="width"in t||"height"in t,d=this,p={},f=e.style,m=e.nodeType&&ve(e),g=ae.get(e,"fxshow");for(r in n.queue||(null==(s=T._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,T.queue(e,"fx").length||s.empty.fire()})})),t)if(ft.test(i=t[r])){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||T.style(e,r)}if((l=!T.isEmptyObject(t))||!T.isEmptyObject(p))for(r in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=ae.get(e,"display")),"none"===(u=T.css(e,"display"))&&(c?u=c:(we([e],!0),c=e.style.display||c,u=T.css(e,"display"),we([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===T.css(e,"float")&&(l||(d.done(function(){f.display=c}),null==c&&(c="none"===(u=f.display)?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=ae.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&we([e],!0),d.done(function(){for(r in m||we([e]),ae.remove(e,"fxshow"),p)T.style(e,r,p[r])})),l=bt(m?g[r]:0,r,d),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?xt.prefilters.unshift(e):xt.prefilters.push(e)}}),T.speed=function(e,t,n){var r=e&&"object"==typeof e?T.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return T.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in T.fx.speeds?T.fx.speeds[r.duration]:T.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=T.isEmptyObject(e),o=T.speed(t,n,r),s=function(){var t=xt(this,T.extend({},e),o);(i||ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=T.timers,s=ae.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&mt.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||T.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ae.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=T.timers,s=r?r.length:0;for(n.finish=!0,T.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),T.each(["toggle","show","hide"],function(e,t){var n=T.fn[t];T.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(vt(t,!0),e,r,i)}}),T.each({slideDown:vt("show"),slideUp:vt("hide"),slideToggle:vt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){T.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),T.timers=[],T.fx.tick=function(){var e,t=0,n=T.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||T.fx.stop(),dt=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){pt||(pt=!0,gt())},T.fx.stop=function(){pt=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(e,t){return e=T.fx&&T.fx.speeds[e]||e,this.queue(t=t||"fx",function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var St,wt=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return ee(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){T.removeAttr(this,e)})}}),T.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?T.prop(e,t,n):(1===o&&T.isXMLDoc(e)||(i=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?St:void 0)),void 0!==n?null===n?void T.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=T.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(W);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),St={set:function(e,t,n){return!1===t?T.removeAttr(e,n):e.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||T.find.attr;wt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=wt[s],wt[s]=i,i=null!=n(e,t,r)?s:null,wt[s]=o),i}});var Nt=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;function Tt(e){return(e.match(W)||[]).join(" ")}function At(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(W)||[]}T.fn.extend({prop:function(e,t){return ee(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[T.propFix[e]||e]})}}),T.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(e)||(i=T.propHooks[t=T.propFix[t]||t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):Nt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(T.propHooks.selected={get:function(e){return null},set:function(e){}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(e){var t,n,r,i,o,s;return y(e)?this.each(function(t){T(this).addClass(e.call(this,t,At(this)))}):(t=Ct(e)).length?this.each(function(){if(r=At(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<t.length;o++)n.indexOf(" "+(i=t[o])+" ")<0&&(n+=i+" ");s=Tt(n),r!==s&&this.setAttribute("class",s)}}):this},removeClass:function(e){var t,n,r,i,o,s;return y(e)?this.each(function(t){T(this).removeClass(e.call(this,t,At(this)))}):arguments.length?(t=Ct(e)).length?this.each(function(){if(r=At(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=Tt(n),r!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,s=typeof e,a="string"===s||Array.isArray(e);return y(e)?this.each(function(n){T(this).toggleClass(e.call(this,n,At(this),t),t)}):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=Ct(e),this.each(function(){if(a)for(o=T(this),i=0;i<n.length;i++)o.hasClass(r=n[i])?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==s||((r=At(this))&&ae.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":ae.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Tt(At(n))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;T.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,T(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,function(e){return null==e?"":e+""})),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(kt,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:Tt(T.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=T(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=T.makeArray(t),s=i.length;s--;)((r=i[s]).selected=T.inArray(T.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}},g.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Mt=r.location,_t={guid:Date.now()},Ot=/\?/;T.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||T.error("Invalid XML: "+(n?T.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var It=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(e,t,n,i){var o,s,a,l,c,u,h,d,f=[n||b],m=p.call(e,"type")?e.type:e,g=p.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!It.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[T.expando]?e:new T.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:T.makeArray(t,[e]),h=T.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!v(n)){for(It.test((l=h.delegateType||m)+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||b)&&f.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?l:h.bindType||m,(u=(ae.get(s,"events")||Object.create(null))[e.type]&&ae.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&oe(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!oe(n)||c&&y(n[m])&&!v(n)&&((a=n[c])&&(n[c]=null),T.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,Lt),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,Lt),T.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=T.extend(new T.Event,n,{type:e,isSimulated:!0});T.event.trigger(r,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each(function(){T.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return T.event.trigger(e,t,n,!0)}});var Rt=/\[\]$/,Dt=/\r?\n/g,Ft=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function qt(e,t,n,r){var i;if(Array.isArray(t))T.each(t,function(t,i){n||Rt.test(e)?r(e,i):qt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==w(t))r(e,t);else for(i in t)qt(e+"["+i+"]",t[i],n,r)}T.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,function(){i(this.name,this.value)});else for(n in e)qt(n,e[n],t,i);return r.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&Pt.test(this.nodeName)&&!Ft.test(e)&&(this.checked||!Te.test(e))}).map(function(e,t){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Bt=/%20/g,jt=/#.*$/,zt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,$t=/^\/\//,Gt={},Vt={},Wt="*/".concat("*"),Qt=b.createElement("a");function Xt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(W)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Yt(e,t,n,r){var i={},o=e===Vt;function s(a){var l;return i[a]=!0,T.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Kt(e,t){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&T.extend(!0,e,r),e}Qt.href=Mt.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,T.ajaxSettings),t):Kt(T.ajaxSettings,e)},ajaxPrefilter:Xt(Gt),ajaxTransport:Xt(Vt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var n,i,o,s,a,l,c,u,h,d,p=T.ajaxSetup({},t=t||{}),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?T(f):T.event,g=T.Deferred(),y=T.Callbacks("once memory"),v=p.statusCode||{},x={},S={},w="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ht.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)N.always(e[N.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),E(0,t),this}};if(g.promise(N),p.url=((e||p.url||Mt.href)+"").replace($t,Mt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(W)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Qt.protocol+"//"+Qt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=T.param(p.data,p.traditional)),Yt(Gt,p,t,N),c)return N;for(h in(u=T.event&&p.global)&&0==T.active++&&T.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ut.test(p.type),i=p.url.replace(jt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Bt,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Ot.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(zt,"$1"),d=(Ot.test(i)?"&":"?")+"_="+_t.guid+++d),p.url=i+d),p.ifModified&&(T.lastModified[i]&&N.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&N.setRequestHeader("If-None-Match",T.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Wt+"; q=0.01":""):p.accepts["*"]),p.headers)N.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,N,p)||c))return N.abort();if(w="abort",y.add(p.complete),N.done(p.success),N.fail(p.error),n=Yt(Vt,p,t,N)){if(N.readyState=1,u&&m.trigger("ajaxSend",[N,p]),c)return N;p.async&&p.timeout>0&&(a=r.setTimeout(function(){N.abort("timeout")},p.timeout));try{c=!1,n.send(x,E)}catch(e){if(c)throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,t,s,l){var h,d,b,x,S,w=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,o=l||"",N.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(x=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,N,s)),!h&&T.inArray("script",p.dataTypes)>-1&&T.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),x=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,x,N,h),h?(p.ifModified&&((S=N.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=S),(S=N.getResponseHeader("etag"))&&(T.etag[i]=S)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=x.state,d=x.data,h=!(b=x.error))):(b=w,!e&&w||(w="error",e<0&&(e=0))),N.status=e,N.statusText=(t||w)+"",h?g.resolveWith(f,[d,w,N]):g.rejectWith(f,[N,w,b]),N.statusCode(v),v=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[N,p,h?d:b]),y.fireWith(f,[N,w]),u&&(m.trigger("ajaxComplete",[N,p]),--T.active||T.event.trigger("ajaxStop")))}return N},getJSON:function(e,t,n){return T.get(e,t,n,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],function(e,t){T[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),T.ajax(T.extend({url:e,type:t,dataType:i,data:n,success:r},T.isPlainObject(e)&&e))}}),T.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),T._evalUrl=function(e,t,n){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){T.globalEval(e,t,n)}})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){T(this).wrapInner(e.call(this,t))}):this.each(function(){var t=T(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){T(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},Jt=T.ajaxSettings.xhr();g.cors=!!Jt&&"withCredentials"in Jt,g.ajax=Jt=!!Jt,T.ajaxTransport(function(e){var t,n;if(g.cors||Jt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),T.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),T.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=T("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}});var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||T.expando+"_"+_t.guid++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(nn,"$1"+i):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||T.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always(function(){void 0===o?T(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,tn.push(i)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),g.createHTMLDocument=((en=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),T.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),o=!n&&[],(i=j.exec(e))?[t.createElement(i[1])]:(i=Ie([e],t,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)));var r,i,o},T.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=Tt(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&T.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?T("<div>").append(T.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},T.expr.pseudos.animated=function(e){return T.grep(T.timers,function(t){return e===t.elem}).length},T.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=T.css(e,"position"),u=T(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=T.css(e,"top"),l=T.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),y(t)&&(t=t.call(e,n,T.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):u.css(h)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){T.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?{top:(t=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),i.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-T.css(r,"marginTop",!0),left:t.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||me})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;T.fn[e]=function(r){return ee(this,function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),T.each(["top","left"],function(e,t){T.cssHooks[t]=et(g.pixelPosition,function(e,n){if(n)return n=Je(e,t),Qe.test(n)?T(e).position()[t]+"px":n})}),T.each({Height:"height",Width:"width"},function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){T.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return ee(this,function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?T.css(t,n,a):T.style(t,n,i,a)},t,s?i:void 0,s)}})}),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){T.fn[t]=function(e){return this.on(t,e)}}),T.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){T.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=a.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||T.guid++,i},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=C,T.isFunction=y,T.isWindow=v,T.camelCase=ie,T.type=w,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},T.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=(function(){return T}).apply(t,[]))||(e.exports=n);var on=r.jQuery,sn=r.$;return T.noConflict=function(e){return r.$===T&&(r.$=sn),e&&r.jQuery===T&&(r.jQuery=on),T},void 0===i&&(r.jQuery=r.$=T),T})},666:(e,t,n)=>{var r=n(381);!function(){var e,t=r,n="mathquill-command-id",i="mathquill-block-id",o=Math.min,s=Math.max;function a(){}var l=[].slice;function c(e){var t=e.length-1;return function(){var n=l.call(arguments,0,t),r=l.call(arguments,t);return e.apply(this,n.concat([r]))}}var u=c(function(e,t){return c(function(n,r){if(e in n)return n[e].apply(n,t.concat(r))})});function h(e){return c(function(t,n){return"function"!=typeof t&&(t=u(t)),e.call(this,function(e){return t.apply(e,[e].concat(n))})})}function d(e){var t=l.call(arguments,1);return function(){return e.apply(this,t)}}function p(e,t){if(!t)throw new Error("prayer failed: "+e)}var f=function(e,t,n){function r(e){return"object"==typeof e}function i(e){return"function"==typeof e}function o(){}return function n(s,a){function l(){var e=new c;return i(e.init)&&e.init.apply(e,arguments),e}function c(){}void 0===a&&(a=s,s=Object),l.Bare=c;var u,h=o[e]=s[e],d=c[e]=l[e]=l.p=new o;return d.constructor=l,l.extend=function(e){return n(l,e)},(l.open=function(e){if(u={},i(e)?u=e.call(l,d,h,l,s):r(e)&&(u=e),r(u))for(var n in u)t.call(u,n)&&(d[n]=u[n]);return i(d.init)||(d.init=s),l})(a)}}("prototype",{}.hasOwnProperty),m=-1;function g(e){p("a direction was passed",e===m||1===e)}var y=f(t,function(e){e.insDirOf=function(e,t){return e===m?this.insertBefore(t.first()):this.insertAfter(t.last())},e.insAtDirEnd=function(e,t){return e===m?this.prependTo(t):this.appendTo(t)}}),v=f(function(e){e.parent=0,e[m]=0,e[1]=0,e.init=function(e,t,n){this.parent=e,this[m]=t,this[1]=n},this.copy=function(e){return v(e.parent,e[m],e[1])}}),b=f(function(e){e[m]=0,e[1]=0,e.parent=0;var t=0;this.byId={},e.init=function(){this.id=t+=1,b.byId[this.id]=this,this.ends={},this.ends[m]=0,this.ends[1]=0},e.dispose=function(){delete b.byId[this.id]},e.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},e.jQ=y(),e.jQadd=function(e){return this.jQ=this.jQ.add(e)},e.jQize=function(e){function t(e){if(e.getAttribute){var n=e.getAttribute("mathquill-command-id"),r=e.getAttribute("mathquill-block-id");n&&b.byId[n].jQadd(e),r&&b.byId[r].jQadd(e)}for(e=e.firstChild;e;e=e.nextSibling)t(e)}e=y(e||this.html());for(var n=0;n<e.length;n+=1)t(e[n]);return e},e.createDir=function(e,t){g(e);var n=this;return n.jQize(),n.jQ.insDirOf(e,t.jQ),t[e]=n.adopt(t.parent,t[m],t[1]),n},e.createLeftOf=function(e){return this.createDir(m,e)},e.selectChildren=function(e,t){return T(e,t)},e.bubble=h(function(e){for(var t=this;t&&!1!==e(t);t=t.parent);return this}),e.postOrder=h(function(e){return function t(n){n.eachChild(t),e(n)}(this),this}),e.isEmpty=function(){return 0===this.ends[m]&&0===this.ends[1]},e.children=function(){return S(this.ends[m],this.ends[1])},e.eachChild=function(){var e=this.children();return e.each.apply(e,arguments),this},e.foldChildren=function(e,t){return this.children().fold(e,t)},e.withDirAdopt=function(e,t,n,r){return S(this,this).withDirAdopt(e,t,n,r),this},e.adopt=function(e,t,n){return S(this,this).adopt(e,t,n),this},e.disown=function(){return S(this,this).disown(),this},e.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}});function x(e,t,n){p("a parent is always present",e),p("leftward is properly set up",t?t[1]===n&&t.parent===e:e.ends[m]===n),p("rightward is properly set up",n?n[m]===t&&n.parent===e:e.ends[1]===t)}var S=f(function(t){t.init=function(t,n,r){if(r===e&&(r=m),g(r),p("no half-empty fragments",!t==!n),this.ends={},t){p("withDir is passed to Fragment",t instanceof b),p("oppDir is passed to Fragment",n instanceof b),p("withDir and oppDir have the same parent",t.parent===n.parent),this.ends[r]=t,this.ends[-r]=n;var i=this.fold([],function(e,t){return e.push.apply(e,t.jQ.get()),e});this.jQ=this.jQ.add(i)}},t.jQ=y(),t.withDirAdopt=function(e,t,n,r){return e===m?this.adopt(t,n,r):this.adopt(t,r,n)},t.adopt=function(e,t,n){x(e,t,n);var r=this;r.disowned=!1;var i=r.ends[m];if(!i)return this;var o=r.ends[1];return t||(e.ends[m]=i),n?n[m]=o:e.ends[1]=o,r.ends[1][1]=n,r.each(function(n){n[m]=t,n.parent=e,t&&(t[1]=n),t=n}),r},t.disown=function(){var e=this,t=e.ends[m];if(!t||e.disowned)return e;e.disowned=!0;var n=e.ends[1],r=t.parent;return x(r,t[m],t),x(r,n,n[1]),t[m]?t[m][1]=n[1]:r.ends[m]=n[1],n[1]?n[1][m]=t[m]:r.ends[1]=t[m],e},t.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},t.each=h(function(e){var t=this,n=t.ends[m];if(!n)return t;for(;n!==t.ends[1][1]&&!1!==e(n);n=n[1]);return t}),t.fold=function(e,t){return this.each(function(n){e=t.call(this,e,n)}),e}}),w={},N={},E=f(v,function(e){e.init=function(e,t){this.parent=e,this.options=t;var n=this.jQ=this._jQ=y('<span class="mq-cursor">&#8203;</span>');this.blink=function(){n.toggleClass("mq-blink")},this.upDownCache={}},e.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[1]?this.jQ.insertBefore(this.selection&&this.selection.ends[m][m]===this[m]?this.selection.jQ:this[1].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},e.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=y(),this},e.withDirInsertAt=function(e,t,n,r){var i=this.parent;this.parent=t,this[e]=n,this[-e]=r,i!==t&&i.blur&&i.blur(this)},e.insDirOf=function(e,t){return g(e),this.jQ.insDirOf(e,t.jQ),this.withDirInsertAt(e,t.parent,t[e],t),this.parent.jQ.addClass("mq-hasCursor"),this},e.insLeftOf=function(e){return this.insDirOf(m,e)},e.insRightOf=function(e){return this.insDirOf(1,e)},e.insAtDirEnd=function(e,t){return g(e),this.jQ.insAtDirEnd(e,t.jQ),this.withDirInsertAt(e,t,0,t.ends[e]),t.focus(),this},e.insAtLeftEnd=function(e){return this.insAtDirEnd(m,e)},e.insAtRightEnd=function(e){return this.insAtDirEnd(1,e)},e.jumpUpDown=function(e,t){var n=this;n.upDownCache[e.id]=v.copy(n);var r=n.upDownCache[t.id];if(r)r[1]?n.insLeftOf(r[1]):n.insAtRightEnd(r.parent);else{var i=n.offset().left;t.seek(i,n)}},e.offset=function(){var e=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),e},e.unwrapGramp=function(){var e=this.parent.parent,t=e.parent,n=e[1],r=e[m];if(e.disown().eachChild(function(i){i.isEmpty()||(i.children().adopt(t,r,n).each(function(t){t.jQ.insertBefore(e.jQ.first())}),r=i.ends[1])}),!this[1])if(this[m])this[1]=this[m][1];else for(;!this[1];){if(this.parent=this.parent[1],!this.parent){this[1]=e[1],this.parent=t;break}this[1]=this.parent.ends[m]}this[1]?this.insLeftOf(this[1]):this.insAtRightEnd(t),e.jQ.remove(),e[m].siblingDeleted&&e[m].siblingDeleted(this.options,1),e[1].siblingDeleted&&e[1].siblingDeleted(this.options,m)},e.startSelection=function(){for(var e=this.anticursor=v.copy(this),t=e.ancestors={},n=e;n.parent;n=n.parent)t[n.parent.id]=n},e.endSelection=function(){delete this.anticursor},e.select=function(){var e=this.anticursor;if(this[m]===e[m]&&this.parent===e.parent)return!1;for(var t=this;t.parent;t=t.parent)if(t.parent.id in e.ancestors){var n=t.parent;break}p("cursor and anticursor in the same tree",n);var r,i,o=e.ancestors[n.id],s=1;if(t[m]!==o)for(var a=t;a;a=a[1])if(a[1]===o[1]){s=m,r=t,i=o;break}return 1===s&&(r=o,i=t),r instanceof v&&(r=r[1]),i instanceof v&&(i=i[m]),this.hide().selection=n.selectChildren(r,i),this.insDirOf(s,this.selection.ends[s]),this.selectionChanged(),!0},e.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},e.deleteSelection=function(){this.selection&&(this[m]=this.selection.ends[m][m],this[1]=this.selection.ends[1][1],this.selection.remove(),this.selectionChanged(),delete this.selection)},e.replaceSelection=function(){var e=this.selection;return e&&(this[m]=e.ends[m][m],this[1]=e.ends[1][1],delete this.selection),e}}),T=f(S,function(e,t){e.init=function(){t.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},e.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),t.adopt.apply(this,arguments)},e.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},e.join=function(e){return this.fold("",function(t,n){return t+n[e]()})}}),A=f(function(e){e.init=function(e,t,n){this.id=e.id,this.data={},this.root=e,this.container=t,this.options=n,e.controller=this,this.cursor=e.cursor=E(e,n)},e.handle=function(e,t){var n=this.options.handlers;if(n&&n.fns[e]){var r=n.APIClasses[this.KIND_OF_MQ](this);t===m||1===t?n.fns[e](t,r):n.fns[e](r)}};var t=[];this.onNotify=function(e){t.push(e)},e.notify=function(){for(var e=0;e<t.length;e+=1)t[e].apply(this.cursor,arguments);return this}}),C={},k=f(),M={},_=f(),O={};function I(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014\u20132015) \u2192 v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function L(e){return I(),De(e)}L.prototype=_.p,L.interfaceVersion=function(e){if(1!==e)throw"Only interface version 1 supported. You specified: "+e;return(I=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014\u20132015) \u2192 v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),L},L.getInterface=F;var R=F.MIN=1,D=F.MAX=2;function F(e){if(!(R<=e&&e<=D))throw"Only interface versions between "+R+" and "+D+" supported. You specified: "+e;function n(e){if(!e||!e.nodeType)return null;var t=y(e).children(".mq-root-block").attr(i),n=t&&b.byId[t].controller;return n?r[n.KIND_OF_MQ](n):null}var r={};function o(e,t){for(var n in t&&t.handlers&&(t.handlers={fns:t.handlers,APIClasses:r}),t)if(t.hasOwnProperty(n)){var i=t[n],o=M[n];e[n]=o?o(i):i}}n.L=m,n.R=1,n.config=function(e){return o(k.p,e),this},n.registerEmbed=function(e,t){if(!/^[a-z][a-z0-9]*$/i.test(e))throw"Embed name must start with letter and be only letters and digits";O[e]=t};var s=r.AbstractMathQuill=f(_,function(e){e.init=function(e){this.__controller=e,this.__options=e.options,this.id=e.id,this.data=e.data},e.__mathquillify=function(e){var t=this.__controller,n=t.root,r=t.container;t.createTextarea();var o=r.addClass(e).contents().detach();n.jQ=y('<span class="mq-root-block"/>').attr(i,n.id).appendTo(r),this.latex(o.text()),this.revert=function(){return r.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(o)}},e.config=function(e){return o(this.__options,e),this},e.el=function(){return this.__controller.container[0]},e.text=function(){return this.__controller.exportText()},e.latex=function(e){return arguments.length>0?(this.__controller.renderLatexMath(e),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},e.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},e.reflow=function(){return this.__controller.root.postOrder("reflow"),this}});for(var l in n.prototype=s.prototype,r.EditableField=f(s,function(e,n){e.__mathquillify=function(){return n.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},e.focus=function(){return this.__controller.textarea.focus(),this},e.blur=function(){return this.__controller.textarea.blur(),this},e.write=function(e){return this.__controller.writeLatex(e),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},e.cmd=function(e){var t=this.__controller.notify(),n=t.cursor;if(/^\\[a-z]+$/i.test(e)){e=e.slice(1);var r=w[e];r&&(e=r(e),n.selection&&e.replaces(n.replaceSelection()),e.createLeftOf(n.show()),this.__controller.scrollHoriz())}else n.parent.write(n,e);return t.blurred&&n.hide().parent.blur(),this},e.select=function(){var e=this.__controller;for(e.notify("move").cursor.insAtRightEnd(e.root);e.cursor[m];)e.selectLeft();return this},e.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},e.moveToDirEnd=function(e){return this.__controller.notify("move").cursor.insAtDirEnd(e,this.__controller.root),this},e.moveToLeftEnd=function(){return this.moveToDirEnd(m)},e.moveToRightEnd=function(){return this.moveToDirEnd(1)},e.keystroke=function(e){e=e.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var t=0;t<e.length;t+=1)this.__controller.keystroke(e[t],{preventDefault:a});return this},e.typedText=function(e){for(var t=0;t<e.length;t+=1)this.__controller.typedText(e.charAt(t));return this},e.dropEmbedded=function(e,t,n){var r=e-y(window).scrollLeft(),i=t-y(window).scrollTop(),o=document.elementFromPoint(r,i);this.__controller.seek(y(o),e,t),Re().setOptions(n).createLeftOf(this.__controller.cursor)},e.clickAt=function(e,n,r){r=r||document.elementFromPoint(e,n);var i=this.__controller,o=i.root;return t.contains(o.jQ[0],r)||(r=o.jQ[0]),i.seek(y(r),e+pageXOffset,n+pageYOffset),i.blurred&&this.focus(),this},e.ignoreNextMousedown=function(e){return this.__controller.cursor.options.ignoreNextMousedown=e,this}}),(n.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"}).prototype=r.EditableField.prototype,C)!function(t,i){var o=r[t]=i(r);(n[t]=function(r,i){var s=n(r);if(s instanceof o||!r||!r.nodeType)return s;var a=A(o.RootBlock(),y(r),k());return a.KIND_OF_MQ=t,o(a).__mathquillify(i,e)}).prototype=o.prototype}(l,C[l]);return n}L.noConflict=function(){return window.MathQuill=P,L};var P=window.MathQuill;function q(e){for(var t="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),n=0;n<t.length;n+=1)!function(t){e[t]=function(e){this.controller.handle(t,e)}}(t[n]);e.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}window.MathQuill=L;var B,j=f(function(e,t,n){function r(e,t){throw"Parse Error: "+t+" at "+(e?"'"+e+"'":"EOF")}e.init=function(e){this._=e},e.parse=function(e){return this.skip(s)._(""+e,function(e,t){return t},r)},e.or=function(e){p("or is passed a parser",e instanceof n);var t=this;return n(function(n,r,i){return t._(n,r,function(t){return e._(n,r,i)})})},e.then=function(e){var t=this;return n(function(r,i,o){return t._(r,function(t,r){var s=e instanceof n?e:e(r);return p("a parser is returned",s instanceof n),s._(t,i,o)},o)})},e.many=function(){var e=this;return n(function(t,n,r){for(var i=[];e._(t,o,s););return n(t,i);function o(e,n){return t=e,i.push(n),!0}function s(){return!1}})},e.times=function(e,t){arguments.length<2&&(t=e);var r=this;return n(function(n,i,o){for(var s,a=[],l=!0,c=0;c<e;c+=1)if(!(l=r._(n,u,h)))return o(n,s);for(;c<t&&l;c+=1)l=r._(n,u,d);return i(n,a);function u(e,t){return a.push(t),n=e,!0}function h(e,t){return s=t,n=e,!1}function d(e,t){return!1}})},e.result=function(e){return this.then(o(e))},e.atMost=function(e){return this.times(0,e)},e.atLeast=function(e){var t=this;return t.times(e).then(function(e){return t.many().map(function(t){return e.concat(t)})})},e.map=function(e){return this.then(function(t){return o(e(t))})},e.skip=function(e){return this.then(function(t){return e.result(t)})},this.string=function(e){var t=e.length,r="expected '"+e+"'";return n(function(n,i,o){var s=n.slice(0,t);return s===e?i(n.slice(t),s):o(n,r)})};var i=this.regex=function(e){p("regexp parser is anchored","^"===e.toString().charAt(1));var t="expected "+e;return n(function(n,r,i){var o=e.exec(n);if(o){var s=o[0];return r(n.slice(s.length),s)}return i(n,t)})},o=n.succeed=function(e){return n(function(t,n){return n(t,e)})},s=(n.fail=function(e){return n(function(t,n,r){return r(t,e)})},n.letter=i(/^[a-z]/i),n.letters=i(/^[a-z]*/i),n.digit=i(/^[0-9]/),n.digits=i(/^[0-9]*/),n.whitespace=i(/^\s+/),n.optWhitespace=i(/^\s*/),n.any=n(function(e,t,n){return e?t(e.slice(1),e.charAt(0)):n(e,"expected any character")}),n.all=n(function(e,t,n){return t("",e)}),n.eof=n(function(e,t,n){return e?n(e,"expected EOF"):t(e,e)}))}),z=(B={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},function(e,n){var r,i=null,o=null,s=t(e),l=t(n.container||s),c=a;function u(e){c=e,clearTimeout(r),r=setTimeout(e)}l.bind("keydown keypress input keyup focusout paste",function(e){c(e)});var h=!1;function d(){n.keystroke(function(e){var t,n=e.which||e.keyCode,r=B[n],i=[];return e.ctrlKey&&i.push("Ctrl"),e.originalEvent&&e.originalEvent.metaKey&&i.push("Meta"),e.altKey&&i.push("Alt"),e.shiftKey&&i.push("Shift"),t=r||String.fromCharCode(n),i.length||r?(i.push(t),i.join("-")):t}(i),i)}function p(){if(!function(){var e=s[0];return"selectionStart"in e&&e.selectionStart!==e.selectionEnd}()){var e=s.val();1===e.length?(s.val(""),n.typedText(e)):e&&s[0].select&&s[0].select()}}function f(){var e=s.val();s.val(""),e&&n.paste(e)}return l.bind({keydown:function(e){i=e,o=null,h&&u(function(e){e&&"focusout"===e.type||!s[0].select||s[0].select(),c=a,clearTimeout(r)}),d()},keypress:function(e){i&&o&&d(),o=e,u(p)},focusout:function(){i=o=null},paste:function(e){s.focus(),u(f)}}),{select:function(e){c(),c=a,clearTimeout(r),s.val(e),e&&s[0].select&&s[0].select(),h=!!e}}});A.open(function(e,t){e.exportText=function(){return this.root.foldChildren("",function(e,t){return e+t.text()})}}),A.open(function(e){e.focusBlurEvents=function(){var e,t=this,n=t.root,r=t.cursor;function i(){clearTimeout(e),r.selection&&r.selection.jQ.addClass("mq-blur"),o()}function o(){r.hide().parent.blur(),t.container.removeClass("mq-focused"),y(window).off("blur",i)}t.textarea.focus(function(){t.blurred=!1,clearTimeout(e),t.container.addClass("mq-focused"),r.parent||r.insAtRightEnd(n),r.selection?(r.selection.jQ.removeClass("mq-blur"),t.selectionChanged()):r.show()}).blur(function(){t.blurred=!0,e=setTimeout(function(){n.postOrder("intentionalBlur"),r.clearSelection().endSelection(),o()}),y(window).on("blur",i)}),t.blurred=!0,r.hide().parent.blur()}}),A.open(function(e){e.keystroke=function(e,t){this.cursor.parent.keystroke(e,t,this)}}),b.open(function(e){e.keystroke=function(e,t,n){var r=n.cursor;switch(e){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(m);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(1,e,t);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(m,e,t);case"End":n.notify("move").cursor.insAtRightEnd(r.parent);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root);break;case"Shift-End":for(;r[1];)n.selectRight();break;case"Ctrl-Shift-End":for(;r[1]||r.parent!==n.root;)n.selectRight();break;case"Home":n.notify("move").cursor.insAtLeftEnd(r.parent);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root);break;case"Shift-Home":for(;r[m];)n.selectLeft();break;case"Ctrl-Shift-Home":for(;r[m]||r.parent!==n.root;)n.selectLeft();break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Ctrl-Right":break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":if(r[m])for(;r[m];)n.selectLeft();else n.selectLeft();case"Shift-Down":if(r[1])for(;r[1];)n.selectRight();else n.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(1);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":for(n.notify("move").cursor.insAtRightEnd(n.root);r[m];)n.selectLeft();break;default:return}t.preventDefault(),n.scrollHoriz()},e.moveOutOf=e.moveTowards=e.deleteOutOf=e.deleteTowards=e.unselectInto=e.selectOutOf=e.selectTowards=function(){p("overridden or never called on this node")}}),A.open(function(e){function t(e,t){var n=e.notify("upDown").cursor,r=t+"Into",i=t+"OutOf";return n[1][r]?n.insAtLeftEnd(n[1][r]):n[m][r]?n.insAtRightEnd(n[m][r]):n.parent.bubble(function(e){var t=e[i];if(t&&("function"==typeof t&&(t=e[i](n)),t instanceof b&&n.jumpUpDown(e,t),!0!==t))return!1}),e}this.onNotify(function(e){"move"!==e&&"upDown"!==e||this.show().clearSelection()}),e.escapeDir=function(e,t,n){g(e);var r=this.cursor;if(r.parent!==this.root&&n.preventDefault(),r.parent!==this.root)return r.parent.moveOutOf(e,r),this.notify("move")},M.leftRightIntoCmdGoes=function(e){if(e&&"up"!==e&&"down"!==e)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+e+'"';return e},e.moveDir=function(e){g(e);var t=this.cursor,n=t.options.leftRightIntoCmdGoes;return t.selection?t.insDirOf(e,t.selection.ends[e]):t[e]?t[e].moveTowards(e,t,n):t.parent.moveOutOf(e,t,n),this.notify("move")},e.moveLeft=function(){return this.moveDir(m)},e.moveRight=function(){return this.moveDir(1)},e.moveUp=function(){return t(this,"up")},e.moveDown=function(){return t(this,"down")},this.onNotify(function(e){"upDown"!==e&&(this.upDownCache={})}),this.onNotify(function(e){"edit"===e&&this.show().deleteSelection()}),e.deleteDir=function(e){g(e);var t=this.cursor,n=t.selection;return this.notify("edit"),n||(t[e]?t[e].deleteTowards(e,t):t.parent.deleteOutOf(e,t)),t[m].siblingDeleted&&t[m].siblingDeleted(t.options,1),t[1].siblingDeleted&&t[1].siblingDeleted(t.options,m),t.parent.bubble("reflow"),this},e.ctrlDeleteDir=function(e){g(e);var t=this.cursor;return!t[m]||t.selection?ctrlr.deleteDir():(this.notify("edit"),S(t.parent.ends[m],t[m]).remove(),t.insAtDirEnd(m,t.parent),t[m].siblingDeleted&&t[m].siblingDeleted(t.options,1),t[1].siblingDeleted&&t[1].siblingDeleted(t.options,m),t.parent.bubble("reflow"),this)},e.backspace=function(){return this.deleteDir(m)},e.deleteForward=function(){return this.deleteDir(1)},this.onNotify(function(e){"select"!==e&&this.endSelection()}),e.selectDir=function(e){var t=this.notify("select").cursor,n=t.selection;g(e),t.anticursor||t.startSelection();var r=t[e];r?n&&n.ends[e]===r&&t.anticursor[-e]!==r?r.unselectInto(e,t):r.selectTowards(e,t):t.parent.selectOutOf(e,t),t.clearSelection(),t.select()||t.show()},e.selectLeft=function(){return this.selectDir(m)},e.selectRight=function(){return this.selectDir(1)}});var H=function(){function e(e){for(var t=e[0]||Q(),n=1;n<e.length;n+=1)e[n].children().adopt(t,t.ends[1],0);return t}var t=j.string,n=j.regex,r=j.any,i=j.optWhitespace,o=j.succeed,s=j.fail,a=j.letter.map(function(e){return re(e)}),l=n(/^[^${}\\_^]/).map(function(e){return V(e)}),c=n(/^[^\\a-eg-zA-Z]/).or(t("\\").then(n(/^[a-z]+/i).or(n(/^\s+/).result(" ")).or(r))).then(function(e){var t=w[e];return t?t(e).parser():s("unknown command: \\"+e)}).or(a).or(l),u=t("{").then(function(){return d}).skip(t("}")),h=i.then(u.or(c.map(function(e){var t=Q();return e.adopt(t,0,0),t}))),d=h.many().map(e).skip(i),p=t("[").then(h.then(function(e){return"]"!==e.join("latex")?o(e):s()}).many().map(e).skip(i)).skip(t("]")),f=d;return f.block=h,f.optBlock=p,f}();A.open(function(e,t){e.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},e.writeLatex=function(e){var t=this.notify("edit").cursor,n=j.all,r=H.skip(j.eof).or(n.result(!1)).parse(e);return r&&!r.isEmpty()&&(r.children().adopt(t.parent,t[m],t[1]),r.jQize().insertBefore(t.jQ),t[m]=r.ends[1],r.finalizeInsert(t.options,t),r.ends[1][1].siblingCreated&&r.ends[1][1].siblingCreated(t.options,m),r.ends[m][m].siblingCreated&&r.ends[m][m].siblingCreated(t.options,1),t.parent.bubble("reflow")),this},e.renderLatexMath=function(e){var t=this.root,n=this.cursor,r=j.all,i=H.skip(j.eof).or(r.result(!1)).parse(e);t.eachChild("postOrder","dispose"),t.ends[m]=t.ends[1]=0,i&&i.children().adopt(t,0,0);var o=t.jQ;if(i){var s=i.join("html");o.html(s),t.jQize(o.children()),t.finalizeInsert(n.options)}else o.empty();delete n.selection,n.insAtRightEnd(t)},e.renderLatexText=function(e){var t=this.root,n=this.cursor;t.jQ.children().slice(1).remove(),t.eachChild("postOrder","dispose"),t.ends[m]=t.ends[1]=0,delete n.selection,n.show().insAtRightEnd(t);var r=j.regex,i=j.string,o=j.eof,s=j.all,a=i("$").then(H).skip(i("$").or(o)).map(function(e){var t=J(n);t.createBlocks();var r=t.ends[m];return e.children().adopt(r,0,0),t}),l=i("\\$").result("$").or(r(/^[^$]/)).map(V),c=a.or(l).many().skip(o).or(s.result(!1)).parse(e);if(c){for(var u=0;u<c.length;u+=1)c[u].adopt(t,t.ends[1],0);t.jQize().appendTo(t.jQ),t.finalizeInsert(n.options)}}}),A.open(function(t){k.p.ignoreNextMousedown=a,t.delegateMouseEvents=function(){var t=this.root.jQ;this.container.bind("mousedown.mathquill",function(n){var r,o=y(n.target).closest(".mq-root-block"),s=b.byId[o.attr(i)||t.attr(i)].controller,l=s.cursor,c=l.blink,u=s.textareaSpan,h=s.textarea;function d(e){r=y(e.target)}function p(t){l.anticursor||l.startSelection(),s.seek(r,t.pageX,t.pageY).cursor.select(),r=e}n.preventDefault(),n.target.unselectable=!0,l.options.ignoreNextMousedown(n)||(l.options.ignoreNextMousedown=a,s.blurred&&(s.editable||o.prepend(u),h.focus()),l.blink=a,s.seek(y(n.target),n.pageX,n.pageY).cursor.startSelection(),o.mousemove(d),y(n.target.ownerDocument).mousemove(p).mouseup(function e(t){l.blink=c,l.selection||(s.editable?l.show():u.detach()),o.unbind("mousemove",d),y(t.target.ownerDocument).unbind("mousemove",p).unbind("mouseup",e)}))})}}),A.open(function(e){e.seek=function(e,t,r){var o=this.notify("select").cursor;if(e){var s=e.attr(i)||e.attr(n);if(!s){var a=e.parent();s=a.attr(i)||a.attr(n)}}var l=s?b.byId[s]:this.root;return p("nodeId is the id of some Node that exists",l),o.clearSelection().show(),l.seek(t,o),this.scrollHoriz(),this}}),A.open(function(e){e.scrollHoriz=function(){var e=this.cursor,t=e.selection,n=this.root.jQ[0].getBoundingClientRect();if(t){var r=t.jQ[0].getBoundingClientRect(),i=r.left-(n.left+20),o=r.right-(n.right-20);if(t.ends[m]===e[1])if(i<0)a=i;else{if(!(o>0))return;a=r.left-o<n.left+20?i:o}else if(o>0)a=o;else{if(!(i<0))return;a=r.right-i>n.right-20?o:i}}else{var s=e.jQ[0].getBoundingClientRect().left;if(s>n.right-20)var a=s-(n.right-20);else{if(!(s<n.left+20))return;a=s-(n.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+a},100)}}),A.open(function(t){k.p.substituteTextarea=function(){return y("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},t.createTextarea=function(){var e=this.textareaSpan=y('<span class="mq-textarea"></span>'),t=this.options.substituteTextarea();if(!t.nodeType)throw"substituteTextarea() must return a DOM element, got "+t;t=this.textarea=y(t).appendTo(e);var n=this;n.cursor.selectionChanged=function(){n.selectionChanged()},n.container.bind("copy",function(){n.setTextareaSelection()})},t.selectionChanged=function(){var t=this;ve(t.container[0]),t.textareaSelectionTimeout===e&&(t.textareaSelectionTimeout=setTimeout(function(){t.setTextareaSelection()}))},t.setTextareaSelection=function(){this.textareaSelectionTimeout=e;var t="";this.cursor.selection&&(t=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(t="$"+t+"$")),this.selectFn(t)},t.staticMathTextareaEvents=function(){var e=this,t=e.cursor,n=e.textarea,r=e.textareaSpan;function i(){r.detach(),e.blurred=!0}this.container.prepend('<span class="mq-selectable">$'+e.exportLatex()+"$</span>"),e.blurred=!0,n.bind("cut paste",!1).focus(function(){e.blurred=!1}).blur(function(){t.selection&&t.selection.clear(),setTimeout(i)}),e.selectFn=function(e){n.val(e),e&&n.select()}},t.editablesTextareaEvents=function(){var e=this,t=e.cursor,n=e.textareaSpan,r=z(e.textarea,this);this.selectFn=function(e){r.select(e)},this.container.prepend(n).on("cut",function(n){t.selection&&setTimeout(function(){e.notify("edit"),t.parent.bubble("reflow")})}),this.focusBlurEvents()},t.typedText=function(e){if("\n"===e)return this.handle("enter");var t=this.notify().cursor;t.parent.write(t,e),this.scrollHoriz()},t.paste=function(e){this.options.statelessClipboard&&(e="$"===e.slice(0,1)&&"$"===e.slice(-1)?e.slice(1,-1):"\\text{"+e+"}"),this.writeLatex(e).cursor.show()}});var U=f(b,function(e,t){e.finalizeInsert=function(e,t){var n=this;n.postOrder("finalizeTree",e),n.postOrder("contactWeld",t),n.postOrder("blur"),n.postOrder("reflow"),n[1].siblingCreated&&n[1].siblingCreated(e,m),n[m].siblingCreated&&n[m].siblingCreated(e,1),n.bubble("reflow")}}),$=f(U,function(e,t){e.init=function(e,n,r){var i=this;t.init.call(i),i.ctrlSeq||(i.ctrlSeq=e),n&&(i.htmlTemplate=n),r&&(i.textTemplate=r)},e.replaces=function(e){e.disown(),this.replacedFragment=e},e.isEmpty=function(){return this.foldChildren(!0,function(e,t){return e&&t.isEmpty()})},e.parser=function(){var e=this;return H.block.times(e.numBlocks()).map(function(t){e.blocks=t;for(var n=0;n<t.length;n+=1)t[n].adopt(e,e.ends[1],0);return e})},e.createLeftOf=function(e){var n=this,r=n.replacedFragment;n.createBlocks(),t.createLeftOf.call(n,e),r&&(r.adopt(n.ends[m],0,0),r.jQ.appendTo(n.ends[m].jQ)),n.finalizeInsert(e.options),n.placeCursor(e)},e.createBlocks=function(){for(var e=this,t=e.numBlocks(),n=e.blocks=Array(t),r=0;r<t;r+=1)(n[r]=Q()).adopt(e,e.ends[1],0)},e.placeCursor=function(e){e.insAtRightEnd(this.foldChildren(this.ends[m],function(e,t){return e.isEmpty()?e:t}))},e.moveTowards=function(e,t,n){t.insAtDirEnd(-e,n&&this[n+"Into"]||this.ends[-e])},e.deleteTowards=function(e,t){this.isEmpty()?t[e]=this.remove()[e]:this.moveTowards(e,t,null)},e.selectTowards=function(e,t){t[-e]=this,t[e]=this[e]},e.selectChildren=function(){return T(this,this)},e.unselectInto=function(e,t){t.insAtDirEnd(-e,t.anticursor.ancestors[this.id])},e.seek=function(e,t){function n(e){var t={};return t[m]=e.jQ.offset().left,t[1]=t[m]+e.jQ.outerWidth(),t}var r=this,i=n(r);if(e<i[m])return t.insLeftOf(r);if(e>i[1])return t.insRightOf(r);var o=i[m];r.eachChild(function(s){var a=n(s);return e<a[m]?(e-o<a[m]-e?s[m]?t.insAtRightEnd(s[m]):t.insLeftOf(r):t.insAtLeftEnd(s),!1):e>a[1]?void(s[1]?o=a[1]:i[1]-e<e-a[1]?t.insRightOf(r):t.insAtRightEnd(s)):(s.seek(e,t),!1)})},e.numBlocks=function(){var e=this.htmlTemplate.match(/&\d+/g);return e?e.length:0},e.html=function(){var e=this,t=e.blocks,n=" mathquill-command-id="+e.id,r=e.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);p("no unmatched angle brackets",r.join("")===this.htmlTemplate);for(var i=0,o=r[0];o;o=r[i+=1])if("/>"===o.slice(-2))r[i]=o.slice(0,-2)+n+"/>";else if("<"===o.charAt(0)){p("not an unmatched top-level close tag","/"!==o.charAt(1)),r[i]=o.slice(0,-1)+n+">";var s=1;do{p("no missing close tags",o=r[i+=1]),"</"===o.slice(0,2)?s-=1:"<"===o.charAt(0)&&"/>"!==o.slice(-2)&&(s+=1)}while(s>0)}return r.join("").replace(/>&(\d+)/g,function(e,n){return" mathquill-block-id="+t[n].id+">"+t[n].join("html")})},e.latex=function(){return this.foldChildren(this.ctrlSeq,function(e,t){return e+"{"+(t.latex()||" ")+"}"})},e.textTemplate=[""],e.text=function(){var e=this,t=0;return e.foldChildren(e.textTemplate[t],function(n,r){t+=1;var i=r.text();return n&&"("===e.textTemplate[t]&&"("===i[0]&&")"===i.slice(-1)?n+i.slice(1,-1)+e.textTemplate[t]:n+r.text()+(e.textTemplate[t]||"")})}}),G=f($,function(e,t){e.init=function(e,n,r){r||(r=e&&e.length>1?e.slice(1):e),t.init.call(this,e,n,[r])},e.parser=function(){return j.succeed(this)},e.numBlocks=function(){return 0},e.replaces=function(e){e.remove()},e.createBlocks=a,e.moveTowards=function(e,t){t.jQ.insDirOf(e,this.jQ),t[-e]=this,t[e]=this[e]},e.deleteTowards=function(e,t){t[e]=this.remove()[e]},e.seek=function(e,t){e-this.jQ.offset().left<this.jQ.outerWidth()/2?t.insLeftOf(this):t.insRightOf(this)},e.latex=function(){return this.ctrlSeq},e.text=function(){return this.textTemplate},e.placeCursor=a,e.isEmpty=function(){return!0}}),V=f(G,function(e,t){e.init=function(e,n){t.init.call(this,e,"<span>"+(n||e)+"</span>")}}),W=f(G,function(e,t){e.init=function(e,n,r){t.init.call(this,e,'<span class="mq-binary-operator">'+n+"</span>",r)}}),Q=f(U,function(e,t){e.join=function(e){return this.foldChildren("",function(t,n){return t+n[e]()})},e.html=function(){return this.join("html")},e.latex=function(){return this.join("latex")},e.text=function(){return this.ends[m]===this.ends[1]&&0!==this.ends[m]?this.ends[m].text():this.join("text")},e.keystroke=function(e,n,r){return!r.options.spaceBehavesLikeTab||"Spacebar"!==e&&"Shift-Spacebar"!==e?t.keystroke.apply(this,arguments):(n.preventDefault(),void r.escapeDir("Shift-Spacebar"===e?m:1,e,n))},e.moveOutOf=function(e,t,n){n&&this.parent[n+"Into"]||!this[e]?t.insDirOf(e,this.parent):t.insAtDirEnd(-e,this[e])},e.selectOutOf=function(e,t){t.insDirOf(e,this.parent)},e.deleteOutOf=function(e,t){t.unwrapGramp()},e.seek=function(e,t){var n=this.ends[1];if(!n||n.jQ.offset().left+n.jQ.outerWidth()<e)return t.insAtRightEnd(this);if(e<this.ends[m].jQ.offset().left)return t.insAtLeftEnd(this);for(;e<n.jQ.offset().left;)n=n[m];return n.seek(e,t)},e.chToCmd=function(e){var t;return e.match(/^[a-eg-zA-Z]$/)?re(e):/^\d$/.test(e)?te(e):(t=N[e]||w[e])?t(e):V(e)},e.write=function(e,t){var n=this.chToCmd(t);e.selection&&n.replaces(e.replaceSelection()),n.createLeftOf(e.show())},e.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},e.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}});C.StaticMath=function(e){return f(e.AbstractMathQuill,function(t,n){this.RootBlock=Q,t.__mathquillify=function(){return n.__mathquillify.call(this,"mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},t.init=function(){n.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],e.MathField)},t.latex=function(){var t=n.latex.apply(this,arguments);return arguments.length>0&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],e.MathField),t}})};var X=f(Q,q);C.MathField=function(e){return f(e.EditableField,function(e,t){this.RootBlock=X,e.__mathquillify=function(e,n){return this.config(e),n>1&&(this.__controller.root.reflow=a),t.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}})};var Y=f(b,function(e,t){function n(e){e.jQ[0].normalize();var t=e.jQ[0].firstChild;if(t){p("only node in TextBlock span is Text node",3===t.nodeType);var n=K(t.data);return n.jQadd(t),e.children().disown(),n.adopt(e,0,0)}}e.ctrlSeq="\\text",e.replaces=function(e){e instanceof S?this.replacedText=e.remove().jQ.text():"string"==typeof e&&(this.replacedText=e)},e.jQadd=function(e){t.jQadd.call(this,e),this.ends[m]&&this.ends[m].jQadd(this.jQ[0].firstChild)},e.createLeftOf=function(e){var n=this;if(t.createLeftOf.call(this,e),n[1].siblingCreated&&n[1].siblingCreated(e.options,m),n[m].siblingCreated&&n[m].siblingCreated(e.options,1),n.bubble("reflow"),e.insAtRightEnd(n),n.replacedText)for(var r=0;r<n.replacedText.length;r+=1)n.write(e,n.replacedText.charAt(r))},e.parser=function(){var e=this,t=j.string,n=j.regex;return j.optWhitespace.then(t("{")).then(n(/^[^}]*/)).skip(t("}")).map(function(t){return 0===t.length?S():(K(t).adopt(e,0,0),e)})},e.textContents=function(){return this.foldChildren("",function(e,t){return e+t.text})},e.text=function(){return'"'+this.textContents()+'"'},e.latex=function(){var e=this.textContents();return 0===e.length?"":"\\text{"+e+"}"},e.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},e.moveTowards=function(e,t){t.insAtDirEnd(-e,this)},e.moveOutOf=function(e,t){t.insDirOf(e,this)},e.unselectInto=e.moveTowards,e.selectTowards=$.prototype.selectTowards,e.deleteTowards=$.prototype.deleteTowards,e.selectOutOf=function(e,t){t.insDirOf(e,this)},e.deleteOutOf=function(e,t){this.isEmpty()&&t.insRightOf(this)},e.write=function(e,n){if(e.show().deleteSelection(),"$"!==n)e[m]?e[m].appendText(n):K(n).createLeftOf(e);else if(this.isEmpty())e.insRightOf(this),V("\\$","$").createLeftOf(e);else if(e[1])if(e[m]){var r=Y(),i=this.ends[m];i.disown().jQ.detach(),i.adopt(r,0,0),e.insLeftOf(this),t.createLeftOf.call(r,e)}else e.insLeftOf(this);else e.insRightOf(this)},e.seek=function(e,t){t.hide();var r=n(this),i=this.jQ.width()/this.text.length,o=Math.round((e-this.jQ.offset().left)/i);o<=0?t.insAtLeftEnd(this):o>=r.text.length?t.insAtRightEnd(this):t.insLeftOf(r.splitRight(o));for(var s=e-t.show().offset().left,a=s&&s<0?m:1,l=a;t[a]&&s*l>0;)t[a].moveTowards(a,t),l=s,s=e-t.offset().left;if(a*s<-a*l&&t[-a].moveTowards(-a,t),t.anticursor){if(t.anticursor.parent===this){var c=t[m]&&t[m].text.length;if(this.anticursorPosition===c)t.anticursor=v.copy(t);else{if(this.anticursorPosition<c){var u=t[m].splitRight(this.anticursorPosition);t[m]=u}else u=t[1].splitRight(this.anticursorPosition-c);t.anticursor=v(this,u[m],u)}}}else this.anticursorPosition=t[m]&&t[m].text.length},e.blur=function(e){Q.prototype.blur.call(this),e&&(""===this.textContents()?(this.remove(),e[m]===this?e[m]=this[m]:e[1]===this&&(e[1]=this[1])):n(this))},e.focus=Q.prototype.focus}),K=f(b,function(e,t){function n(e,t){return t.charAt(e===m?0:-1+t.length)}e.init=function(e){t.init.call(this),this.text=e},e.jQadd=function(e){this.dom=e,this.jQ=y(e)},e.jQize=function(){return this.jQadd(document.createTextNode(this.text))},e.appendText=function(e){this.text+=e,this.dom.appendData(e)},e.prependText=function(e){this.text=e+this.text,this.dom.insertData(0,e)},e.insTextAtDirEnd=function(e,t){g(t),1===t?this.appendText(e):this.prependText(e)},e.splitRight=function(e){var t=K(this.text.slice(e)).adopt(this.parent,this,this[1]);return t.jQadd(this.dom.splitText(e)),this.text=this.text.slice(0,e),t},e.moveTowards=function(e,t){g(e);var r=n(-e,this.text),i=this[-e];return i?i.insTextAtDirEnd(r,e):K(r).createDir(-e,t),this.deleteTowards(e,t)},e.latex=function(){return this.text},e.deleteTowards=function(e,t){this.text.length>1?1===e?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),t[e]=this[e])},e.selectTowards=function(e,t){g(e);var r=t.anticursor,i=n(-e,this.text);if(r[e]===this){var o=K(i).createDir(e,t);r[e]=o,t.insDirOf(e,o)}else{var s=this[-e];s?s.insTextAtDirEnd(i,e):(o=K(i).createDir(-e,t)).jQ.insDirOf(-e,t.selection.jQ),1===this.text.length&&r[-e]===this&&(r[-e]=this[-e])}return this.deleteTowards(e,t)}});function Z(e,t,n){return f(Y,{ctrlSeq:e,htmlTemplate:"<"+t+" "+n+">&0</"+t+">"})}N.$=w.text=w.textnormal=w.textrm=w.textup=w.textmd=Y,w.em=w.italic=w.italics=w.emph=w.textit=w.textsl=Z("\\textit","i",'class="mq-text-mode"'),w.strong=w.bold=w.textbf=Z("\\textbf","b",'class="mq-text-mode"'),w.sf=w.textsf=Z("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),w.tt=w.texttt=Z("\\texttt","span",'class="mq-monospace mq-text-mode"'),w.textsc=Z("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),w.uppercase=Z("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),w.lowercase=Z("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"');var J=f($,function(e,t){e.init=function(e){t.init.call(this,"$"),this.cursor=e},e.htmlTemplate='<span class="mq-math-mode">&0</span>',e.createBlocks=function(){t.createBlocks.call(this),this.ends[m].cursor=this.cursor,this.ends[m].write=function(e,t){"$"!==t?Q.prototype.write.call(this,e,t):this.isEmpty()?(e.insRightOf(this.parent),this.parent.deleteTowards(dir,e),V("\\$","$").createLeftOf(e.show())):e[1]?e[m]?Q.prototype.write.call(this,e,t):e.insLeftOf(this.parent):e.insRightOf(this.parent)}},e.latex=function(){return"$"+this.ends[m].latex()+"$"}}),ee=f(X,function(e,t){e.keystroke=function(e){if("Spacebar"!==e&&"Shift-Spacebar"!==e)return t.keystroke.apply(this,arguments)},e.write=function(e,t){var n;e.show().deleteSelection(),"$"===t?J(e).createLeftOf(e):("<"===t?n="&lt;":">"===t&&(n="&gt;"),V(t,n).createLeftOf(e))}});C.TextField=function(e){return f(e.EditableField,function(e,t){this.RootBlock=ee,e.__mathquillify=function(){return t.__mathquillify.call(this,"mq-editable-field mq-text-mode")},e.latex=function(e){return arguments.length>0?(this.__controller.renderLatexText(e),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}})},w.notin=w.cong=w.equiv=w.oplus=w.otimes=f(W,function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}}),w["\u2260"]=w.ne=w.neq=d(W,"\\ne ","&ne;"),w.ast=w.star=w.loast=w.lowast=d(W,"\\ast ","&lowast;"),w.therefor=w.therefore=d(W,"\\therefore ","&there4;"),w.cuz=w.because=d(W,"\\because ","&#8757;"),w.prop=w.propto=d(W,"\\propto ","&prop;"),w["\u2248"]=w.asymp=w.approx=d(W,"\\approx ","&asymp;"),w.isin=w.in=d(W,"\\in ","&isin;"),w.ni=w.contains=d(W,"\\ni ","&ni;"),w.notni=w.niton=w.notcontains=w.doesnotcontain=d(W,"\\not\\ni ","&#8716;"),w.sub=w.subset=d(W,"\\subset ","&sub;"),w.sup=w.supset=w.superset=d(W,"\\supset ","&sup;"),w.nsub=w.notsub=w.nsubset=w.notsubset=d(W,"\\not\\subset ","&#8836;"),w.nsup=w.notsup=w.nsupset=w.notsupset=w.nsuperset=w.notsuperset=d(W,"\\not\\supset ","&#8837;"),w.sube=w.subeq=w.subsete=w.subseteq=d(W,"\\subseteq ","&sube;"),w.supe=w.supeq=w.supsete=w.supseteq=w.supersete=w.superseteq=d(W,"\\supseteq ","&supe;"),w.nsube=w.nsubeq=w.notsube=w.notsubeq=w.nsubsete=w.nsubseteq=w.notsubsete=w.notsubseteq=d(W,"\\not\\subseteq ","&#8840;"),w.nsupe=w.nsupeq=w.notsupe=w.notsupeq=w.nsupsete=w.nsupseteq=w.notsupsete=w.notsupseteq=w.nsupersete=w.nsuperseteq=w.notsupersete=w.notsuperseteq=d(W,"\\not\\supseteq ","&#8841;"),w.N=w.naturals=w.Naturals=d(V,"\\mathbb{N}","&#8469;"),w.P=w.primes=w.Primes=w.projective=w.Projective=w.probability=w.Probability=d(V,"\\mathbb{P}","&#8473;"),w.Z=w.integers=w.Integers=d(V,"\\mathbb{Z}","&#8484;"),w.Q=w.rationals=w.Rationals=d(V,"\\mathbb{Q}","&#8474;"),w.R=w.reals=w.Reals=d(V,"\\mathbb{R}","&#8477;"),w.C=w.complex=w.Complex=w.complexes=w.Complexes=w.complexplane=w.Complexplane=w.ComplexPlane=d(V,"\\mathbb{C}","&#8450;"),w.H=w.Hamiltonian=w.quaternions=w.Quaternions=d(V,"\\mathbb{H}","&#8461;"),w.quad=w.emsp=d(V,"\\quad ","    "),w.qquad=d(V,"\\qquad ","        "),w.diamond=d(V,"\\diamond ","&#9671;"),w.bigtriangleup=d(V,"\\bigtriangleup ","&#9651;"),w.ominus=d(V,"\\ominus ","&#8854;"),w.uplus=d(V,"\\uplus ","&#8846;"),w.bigtriangledown=d(V,"\\bigtriangledown ","&#9661;"),w.sqcap=d(V,"\\sqcap ","&#8851;"),w.triangleleft=d(V,"\\triangleleft ","&#8882;"),w.sqcup=d(V,"\\sqcup ","&#8852;"),w.triangleright=d(V,"\\triangleright ","&#8883;"),w.odot=w.circledot=d(V,"\\odot ","&#8857;"),w.bigcirc=d(V,"\\bigcirc ","&#9711;"),w.dagger=d(V,"\\dagger ","&#0134;"),w.ddagger=d(V,"\\ddagger ","&#135;"),w.wr=d(V,"\\wr ","&#8768;"),w.amalg=d(V,"\\amalg ","&#8720;"),w.models=d(V,"\\models ","&#8872;"),w.prec=d(V,"\\prec ","&#8826;"),w.succ=d(V,"\\succ ","&#8827;"),w.preceq=d(V,"\\preceq ","&#8828;"),w.succeq=d(V,"\\succeq ","&#8829;"),w.simeq=d(V,"\\simeq ","&#8771;"),w.mid=d(V,"\\mid ","&#8739;"),w.ll=d(V,"\\ll ","&#8810;"),w.gg=d(V,"\\gg ","&#8811;"),w.parallel=d(V,"\\parallel ","&#8741;"),w.nparallel=d(V,"\\nparallel ","&#8742;"),w.bowtie=d(V,"\\bowtie ","&#8904;"),w.sqsubset=d(V,"\\sqsubset ","&#8847;"),w.sqsupset=d(V,"\\sqsupset ","&#8848;"),w.smile=d(V,"\\smile ","&#8995;"),w.sqsubseteq=d(V,"\\sqsubseteq ","&#8849;"),w.sqsupseteq=d(V,"\\sqsupseteq ","&#8850;"),w.doteq=d(V,"\\doteq ","&#8784;"),w.frown=d(V,"\\frown ","&#8994;"),w.vdash=d(V,"\\vdash ","&#8870;"),w.dashv=d(V,"\\dashv ","&#8867;"),w.nless=d(V,"\\nless ","&#8814;"),w.ngtr=d(V,"\\ngtr ","&#8815;"),w.longleftarrow=d(V,"\\longleftarrow ","&#8592;"),w.longrightarrow=d(V,"\\longrightarrow ","&#8594;"),w.Longleftarrow=d(V,"\\Longleftarrow ","&#8656;"),w.Longrightarrow=d(V,"\\Longrightarrow ","&#8658;"),w.longleftrightarrow=d(V,"\\longleftrightarrow ","&#8596;"),w.updownarrow=d(V,"\\updownarrow ","&#8597;"),w.Longleftrightarrow=d(V,"\\Longleftrightarrow ","&#8660;"),w.Updownarrow=d(V,"\\Updownarrow ","&#8661;"),w.mapsto=d(V,"\\mapsto ","&#8614;"),w.nearrow=d(V,"\\nearrow ","&#8599;"),w.hookleftarrow=d(V,"\\hookleftarrow ","&#8617;"),w.hookrightarrow=d(V,"\\hookrightarrow ","&#8618;"),w.searrow=d(V,"\\searrow ","&#8600;"),w.leftharpoonup=d(V,"\\leftharpoonup ","&#8636;"),w.rightharpoonup=d(V,"\\rightharpoonup ","&#8640;"),w.swarrow=d(V,"\\swarrow ","&#8601;"),w.leftharpoondown=d(V,"\\leftharpoondown ","&#8637;"),w.rightharpoondown=d(V,"\\rightharpoondown ","&#8641;"),w.nwarrow=d(V,"\\nwarrow ","&#8598;"),w.ldots=d(V,"\\ldots ","&#8230;"),w.cdots=d(V,"\\cdots ","&#8943;"),w.vdots=d(V,"\\vdots ","&#8942;"),w.ddots=d(V,"\\ddots ","&#8945;"),w.surd=d(V,"\\surd ","&#8730;"),w.triangle=d(V,"\\triangle ","&#9651;"),w.ell=d(V,"\\ell ","&#8467;"),w.top=d(V,"\\top ","&#8868;"),w.flat=d(V,"\\flat ","&#9837;"),w.natural=d(V,"\\natural ","&#9838;"),w.sharp=d(V,"\\sharp ","&#9839;"),w.wp=d(V,"\\wp ","&#8472;"),w.bot=d(V,"\\bot ","&#8869;"),w.clubsuit=d(V,"\\clubsuit ","&#9827;"),w.diamondsuit=d(V,"\\diamondsuit ","&#9826;"),w.heartsuit=d(V,"\\heartsuit ","&#9825;"),w.spadesuit=d(V,"\\spadesuit ","&#9824;"),w.parallelogram=d(V,"\\parallelogram ","&#9649;"),w.square=d(V,"\\square ","&#11036;"),w.oint=d(V,"\\oint ","&#8750;"),w.bigcap=d(V,"\\bigcap ","&#8745;"),w.bigcup=d(V,"\\bigcup ","&#8746;"),w.bigsqcup=d(V,"\\bigsqcup ","&#8852;"),w.bigvee=d(V,"\\bigvee ","&#8744;"),w.bigwedge=d(V,"\\bigwedge ","&#8743;"),w.bigodot=d(V,"\\bigodot ","&#8857;"),w.bigotimes=d(V,"\\bigotimes ","&#8855;"),w.bigoplus=d(V,"\\bigoplus ","&#8853;"),w.biguplus=d(V,"\\biguplus ","&#8846;"),w.lfloor=d(V,"\\lfloor ","&#8970;"),w.rfloor=d(V,"\\rfloor ","&#8971;"),w.lceil=d(V,"\\lceil ","&#8968;"),w.rceil=d(V,"\\rceil ","&#8969;"),w.opencurlybrace=w.lbrace=d(V,"\\lbrace ","{"),w.closecurlybrace=w.rbrace=d(V,"\\rbrace ","}"),w.lbrack=d(V,"["),w.rbrack=d(V,"]"),w.slash=d(V,"/"),w.vert=d(V,"|"),w.perp=w.perpendicular=d(V,"\\perp ","&perp;"),w.nabla=w.del=d(V,"\\nabla ","&nabla;"),w.hbar=d(V,"\\hbar ","&#8463;"),w.AA=w.Angstrom=w.angstrom=d(V,"\\text\\AA ","&#8491;"),w.ring=w.circ=w.circle=d(V,"\\circ ","&#8728;"),w.bull=w.bullet=d(V,"\\bullet ","&bull;"),w.setminus=w.smallsetminus=d(V,"\\setminus ","&#8726;"),w.not=w["\xac"]=w.neg=d(V,"\\neg ","&not;"),w["\u2026"]=w.dots=w.ellip=w.hellip=w.ellipsis=w.hellipsis=d(V,"\\dots ","&hellip;"),w.converges=w.darr=w.dnarr=w.dnarrow=w.downarrow=d(V,"\\downarrow ","&darr;"),w.dArr=w.dnArr=w.dnArrow=w.Downarrow=d(V,"\\Downarrow ","&dArr;"),w.diverges=w.uarr=w.uparrow=d(V,"\\uparrow ","&uarr;"),w.uArr=w.Uparrow=d(V,"\\Uparrow ","&uArr;"),w.to=d(W,"\\to ","&rarr;"),w.rarr=w.rightarrow=d(V,"\\rightarrow ","&rarr;"),w.implies=d(W,"\\Rightarrow ","&rArr;"),w.rArr=w.Rightarrow=d(V,"\\Rightarrow ","&rArr;"),w.gets=d(W,"\\gets ","&larr;"),w.larr=w.leftarrow=d(V,"\\leftarrow ","&larr;"),w.impliedby=d(W,"\\Leftarrow ","&lArr;"),w.lArr=w.Leftarrow=d(V,"\\Leftarrow ","&lArr;"),w.harr=w.lrarr=w.leftrightarrow=d(V,"\\leftrightarrow ","&harr;"),w.iff=d(W,"\\Leftrightarrow ","&hArr;"),w.hArr=w.lrArr=w.Leftrightarrow=d(V,"\\Leftrightarrow ","&hArr;"),w.Re=w.Real=w.real=d(V,"\\Re ","&real;"),w.Im=w.imag=w.image=w.imagin=w.imaginary=w.Imaginary=d(V,"\\Im ","&image;"),w.part=w.partial=d(V,"\\partial ","&part;"),w.infty=w.infin=w.infinity=d(V,"\\infty ","&infin;"),w.alef=w.alefsym=w.aleph=w.alephsym=d(V,"\\aleph ","&alefsym;"),w.xist=w.xists=w.exist=w.exists=d(V,"\\exists ","&exist;"),w.nexists=w.nexist=d(V,"\\nexists ","&#8708;"),w.and=w.land=w.wedge=d(V,"\\wedge ","&and;"),w.or=w.lor=w.vee=d(V,"\\vee ","&or;"),w.o=w.O=w.empty=w.emptyset=w.oslash=w.Oslash=w.nothing=w.varnothing=d(W,"\\varnothing ","&empty;"),w.cup=w.union=d(W,"\\cup ","&cup;"),w.cap=w.intersect=w.intersection=d(W,"\\cap ","&cap;"),w.deg=w.degree=d(V,"\\degree ","&deg;"),w.ang=w.angle=d(V,"\\angle ","&ang;"),w.measuredangle=d(V,"\\measuredangle ","&#8737;");var te=f(V,function(e,t){e.createLeftOf=function(e){e.options.autoSubscriptNumerals&&e.parent!==e.parent.parent.sub&&(e[m]instanceof ne&&!1!==e[m].isItalic||e[m]instanceof we&&e[m][m]instanceof ne&&!1!==e[m][m].isItalic)?(w._().createLeftOf(e),t.createLeftOf.call(this,e),e.insRightOf(e.parent.parent)):t.createLeftOf.call(this,e)}}),ne=f(G,function(e,t){e.init=function(e,n){t.init.call(this,e,"<var>"+(n||e)+"</var>")},e.text=function(){var e=this.ctrlSeq;return!this[m]||this[m]instanceof ne||this[m]instanceof W||"\\ "===this[m].ctrlSeq||(e="*"+e),!this[1]||this[1]instanceof W||this[1]instanceof we||(e+="*"),e}});k.p.autoCommands={_maxLength:0},M.autoCommands=function(e){if(!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var o=t[i];if(o.length<2)throw'autocommand "'+o+'" not minimum length of 2';if(w[o]===ae)throw'"'+o+'" is a built-in operator name';n[o]=1,r=s(r,o.length)}return n._maxLength=r,n};var re=f(ne,function(e,t){function n(e){return!e||e instanceof W||e instanceof Ee}e.init=function(e){return t.init.call(this,this.letter=e)},e.createLeftOf=function(e){t.createLeftOf.apply(this,arguments);var n=e.options.autoCommands,r=n._maxLength;if(r>0){for(var i="",o=this,s=0;o instanceof re&&o.ctrlSeq===o.letter&&s<r;)i=o.letter+i,o=o[m],s+=1;for(;i.length;){if(n.hasOwnProperty(i)){for(s=1,o=this;s<i.length;s+=1,o=o[m]);return S(o,this).remove(),e[m]=o[m],w[i](i).createLeftOf(e)}i=i.slice(1)}}},e.italicize=function(e){return this.isItalic=e,this.jQ.toggleClass("mq-operator-name",!e),this},e.finalizeTree=e.siblingDeleted=e.siblingCreated=function(e,t){t!==m&&this[1]instanceof re||this.autoUnItalicize(e)},e.autoUnItalicize=function(e){var t=e.autoOperatorNames;if(0!==t._maxLength){for(var r=this.letter,i=this[m];i instanceof re;i=i[m])r=i.letter+r;for(var s=this[1];s instanceof re;s=s[1])r+=s.letter;S(i[1]||this.parent.ends[m],s[m]||this.parent.ends[1]).each(function(e){e.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"),e.ctrlSeq=e.letter});e:for(var a=0,l=i[1]||this.parent.ends[m];a<r.length;a+=1,l=l[1])for(var c=o(t._maxLength,r.length-a);c>0;c-=1){var u=r.slice(a,a+c);if(t.hasOwnProperty(u)){for(var h=0,d=l;h<c;h+=1,d=d[1]){d.italicize(!1);var p=d}var f=ie.hasOwnProperty(u);if(l.ctrlSeq=(f?"\\":"\\operatorname{")+l.ctrlSeq,p.ctrlSeq+=f?" ":"}",se.hasOwnProperty(u)&&p[m][m][m].jQ.addClass("mq-last"),n(l[m])||l.jQ.addClass("mq-first"),!n(p[1]))if(p[1]instanceof we){var g=p[1];(g.siblingCreated=g.siblingDeleted=function(){g.jQ.toggleClass("mq-after-operator-name",!(g[1]instanceof _e))})()}else p.jQ.toggleClass("mq-last",!(p[1]instanceof _e));a+=c-1,l=p;continue e}}}}}),ie={},oe=k.p.autoOperatorNames={_maxLength:9},se={limsup:1,liminf:1,projlim:1,injlim:1};!function(){for(var e="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),t=0;t<e.length;t+=1)ie[e[t]]=oe[e[t]]=1;var n="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(t=0;t<n.length;t+=1)ie[n[t]]=1;var r="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(t=0;t<r.length;t+=1)oe[r[t]]=oe["arc"+r[t]]=oe[r[t]+"h"]=oe["ar"+r[t]+"h"]=oe["arc"+r[t]+"h"]=1;var i="gcf hcf lcm proj span".split(" ");for(t=0;t<i.length;t+=1)oe[i[t]]=1}(),M.autoOperatorNames=function(e){if(!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var o=t[i];if(o.length<2)throw'"'+o+'" not minimum length of 2';n[o]=1,r=s(r,o.length)}return n._maxLength=r,n};var ae=f(G,function(e,t){e.init=function(e){this.ctrlSeq=e},e.createLeftOf=function(e){for(var t=this.ctrlSeq,n=0;n<t.length;n+=1)re(t.charAt(n)).createLeftOf(e)},e.parser=function(){for(var e=this.ctrlSeq,t=Q(),n=0;n<e.length;n+=1)re(e.charAt(n)).adopt(t,t.ends[1],0);return j.succeed(t.children())}});for(var le in oe)oe.hasOwnProperty(le)&&(w[le]=ae);w.operatorname=f($,function(e){e.createLeftOf=a,e.numBlocks=function(){return 1},e.parser=function(){return H.block.map(function(e){return e.children()})}}),w.f=f(re,function(e,t){e.init=function(){G.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},e.italicize=function(e){return this.jQ.html("f").toggleClass("mq-f",e),t.italicize.apply(this,arguments)}}),w[" "]=w.space=d(V,"\\ ","&nbsp;"),w["'"]=w.prime=d(V,"'","&prime;"),w.backslash=d(V,"\\backslash ","\\"),N["\\"]||(N["\\"]=w.backslash),w.$=d(V,"\\$","$");var ce=f(G,function(e,t){e.init=function(e,n){t.init.call(this,e,'<span class="mq-nonSymbola">'+(n||e)+"</span>")}});w["@"]=ce,w["&"]=d(ce,"\\&","&amp;"),w["%"]=d(ce,"\\%","%"),w.alpha=w.beta=w.gamma=w.delta=w.zeta=w.eta=w.theta=w.iota=w.kappa=w.mu=w.nu=w.xi=w.rho=w.sigma=w.tau=w.chi=w.psi=w.omega=f(ne,function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}}),w.phi=d(ne,"\\phi ","&#981;"),w.phiv=w.varphi=d(ne,"\\varphi ","&phi;"),w.epsilon=d(ne,"\\epsilon ","&#1013;"),w.epsiv=w.varepsilon=d(ne,"\\varepsilon ","&epsilon;"),w.piv=w.varpi=d(ne,"\\varpi ","&piv;"),w.sigmaf=w.sigmav=w.varsigma=d(ne,"\\varsigma ","&sigmaf;"),w.thetav=w.vartheta=w.thetasym=d(ne,"\\vartheta ","&thetasym;"),w.upsilon=w.upsi=d(ne,"\\upsilon ","&upsilon;"),w.gammad=w.Gammad=w.digamma=d(ne,"\\digamma ","&#989;"),w.kappav=w.varkappa=d(ne,"\\varkappa ","&#1008;"),w.rhov=w.varrho=d(ne,"\\varrho ","&#1009;"),w.pi=w["\u03c0"]=d(ce,"\\pi ","&pi;"),w.lambda=d(ce,"\\lambda ","&lambda;"),w.Upsilon=w.Upsi=w.upsih=w.Upsih=d(G,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),w.Gamma=w.Delta=w.Theta=w.Lambda=w.Xi=w.Pi=w.Sigma=w.Phi=w.Psi=w.Omega=w.forall=f(V,function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}});var ue=f($,function(e){e.init=function(e){this.latex=e},e.createLeftOf=function(e){var t=H.parse(this.latex);t.children().adopt(e.parent,e[m],e[1]),e[m]=t.ends[1],t.jQize().insertBefore(e.jQ),t.finalizeInsert(e.options,e),t.ends[1][1].siblingCreated&&t.ends[1][1].siblingCreated(e.options,m),t.ends[m][m].siblingCreated&&t.ends[m][m].siblingCreated(e.options,1),e.parent.bubble("reflow")},e.parser=function(){var e=H.parse(this.latex).children();return j.succeed(e)}});w["\xb9"]=d(ue,"^1"),w["\xb2"]=d(ue,"^2"),w["\xb3"]=d(ue,"^3"),w["\xbc"]=d(ue,"\\frac14"),w["\xbd"]=d(ue,"\\frac12"),w["\xbe"]=d(ue,"\\frac34");var he=f(W,function(e){e.init=V.prototype.init,e.contactWeld=e.siblingCreated=e.siblingDeleted=function(e,t){if(1!==t)return this.jQ[0].className=!this[m]||this[m]instanceof W||/^[,;:\(\[]$/.test(this[m].ctrlSeq)?"":"mq-binary-operator",this}});w["+"]=d(he,"+","+"),w["\u2013"]=w["-"]=d(he,"-","&minus;"),w["\xb1"]=w.pm=w.plusmn=w.plusminus=d(he,"\\pm ","&plusmn;"),w.mp=w.mnplus=w.minusplus=d(he,"\\mp ","&#8723;"),N["*"]=w.sdot=w.cdot=d(W,"\\cdot ","&middot;","*");var de=f(W,function(e,t){e.init=function(e,n){this.data=e,this.strict=n;var r=n?"Strict":"";t.init.call(this,e["ctrlSeq"+r],e["html"+r],e["text"+r])},e.swap=function(e){this.strict=e;var t=e?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+t],this.jQ.html(this.data["html"+t]),this.textTemplate=[this.data["text"+t]]},e.deleteTowards=function(e,n){if(e===m&&!this.strict)return this.swap(!0),void this.bubble("reflow");t.deleteTowards.apply(this,arguments)}}),pe={ctrlSeq:"\\le ",html:"&le;",text:"\u2264",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},fe={ctrlSeq:"\\ge ",html:"&ge;",text:"\u2265",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};w["<"]=w.lt=d(de,pe,!0),w[">"]=w.gt=d(de,fe,!0),w["\u2264"]=w.le=w.leq=d(de,pe,!1),w["\u2265"]=w.ge=w.geq=d(de,fe,!1);var me=f(W,function(e,t){e.init=function(){t.init.call(this,"=","=")},e.createLeftOf=function(e){if(e[m]instanceof de&&e[m].strict)return e[m].swap(!1),void e[m].bubble("reflow");t.createLeftOf.apply(this,arguments)}});w["="]=me,w["\xd7"]=w.times=d(W,"\\times ","&times;","[x]"),w["\xf7"]=w.div=w.divide=w.divides=d(W,"\\div ","&divide;","[/]"),N["~"]=w.sim=d(W,"\\sim ","~","~");var ge,ye,ve=a,be=document.createElement("div").style;for(var xe in{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(xe in be){ye=xe;break}ye?ge=function(e,t,n){e.css(ye,"scale("+t+","+n+")")}:"filter"in be?(ve=function(e){e.className=e.className},ge=function(e,t,n){t/=1+(n-1)/2,e.css("fontSize",n+"em"),e.hasClass("mq-matrixed-container")||e.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>');var r=e.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+t+",SizingMethod='auto expand')");function i(){e.css("marginRight",(r.width()-1)*(t-1)/t+"px")}i();var o=setInterval(i);y(window).load(function(){clearTimeout(o),i()})}):ge=function(e,t,n){e.css("fontSize",n+"em")};var Se=f($,function(e,t){e.init=function(e,n,r){t.init.call(this,e,"<"+n+" "+r+">&0</"+n+">")}});w.mathrm=d(Se,"\\mathrm","span",'class="mq-roman mq-font"'),w.mathit=d(Se,"\\mathit","i",'class="mq-font"'),w.mathbf=d(Se,"\\mathbf","b",'class="mq-font"'),w.mathsf=d(Se,"\\mathsf","span",'class="mq-sans-serif mq-font"'),w.mathtt=d(Se,"\\mathtt","span",'class="mq-monospace mq-font"'),w.underline=d(Se,"\\underline","span",'class="mq-non-leaf mq-underline"'),w.overline=w.bar=d(Se,"\\overline","span",'class="mq-non-leaf mq-overline"'),w.overrightarrow=d(Se,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),w.overleftarrow=d(Se,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"'),w.textcolor=f($,function(e,t){e.setColor=function(e){this.color=e,this.htmlTemplate='<span class="mq-textcolor" style="color:'+e+'">&0</span>'},e.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},e.parser=function(){var e=this,n=j.string,r=j.regex;return j.optWhitespace.then(n("{")).then(r(/^[#\w\s.,()%-]*/)).skip(n("}")).then(function(n){return e.setColor(n),t.parser.call(e)})}}),w.class=f($,function(e,t){e.parser=function(){var e=this,n=j.string,r=j.regex;return j.optWhitespace.then(n("{")).then(r(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then(function(n){return e.htmlTemplate='<span class="mq-class '+n+'">&0</span>',t.parser.call(e)})}});var we=f($,function(e,t){e.ctrlSeq="_{...}^{...}",e.createLeftOf=function(e){if(e[m]||!e.options.supSubsRequireOperand)return t.createLeftOf.apply(this,arguments)},e.contactWeld=function(e){for(var t=m;t;t=t===m&&1)if(this[t]instanceof we){for(var n="sub";n;n="sub"===n&&"sup"){var r=this[n],i=this[t][n];if(r){if(i)if(r.isEmpty())s=v(i,0,i.ends[m]);else{r.jQ.children().insAtDirEnd(-t,i.jQ);var o=r.children().disown(),s=v(i,o.ends[1],i.ends[m]);t===m?o.adopt(i,i.ends[1],0):o.adopt(i,0,i.ends[m])}else this[t].addBlock(r.disown());this.placeCursor=function(e,n){return function(r){r.insAtDirEnd(-t,e||n)}}(i,r)}}this.remove(),e&&e[m]===this&&(1===t&&s?s[m]?e.insRightOf(s[m]):e.insAtLeftEnd(s.parent):e.insRightOf(this[t]));break}},k.p.charsThatBreakOutOfSupSub="",e.finalizeTree=function(){this.ends[m].write=function(e,t){if(e.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===t)return;var n=this.chToCmd(t);return n instanceof G?e.deleteSelection():e.clearSelection().insRightOf(this.parent),n.createLeftOf(e.show())}e[m]&&!e[1]&&!e.selection&&e.options.charsThatBreakOutOfSupSub.indexOf(t)>-1&&e.insRightOf(this.parent),Q.p.write.apply(this,arguments)}},e.moveTowards=function(e,n,r){n.options.autoSubscriptNumerals&&!this.sup?n.insDirOf(e,this):t.moveTowards.apply(this,arguments)},e.deleteTowards=function(e,n){if(n.options.autoSubscriptNumerals&&this.sub){var r=this.sub.ends[-e];r instanceof G?r.remove():r&&r.deleteTowards(e,n.insAtDirEnd(-e,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(m,n.insAtLeftEnd(this.sub)),this.sup&&n.insDirOf(-e,this))}else t.deleteTowards.apply(this,arguments)},e.latex=function(){function e(e,t){var n=t&&t.latex();return t?e+(1===n.length?n:"{"+(n||" ")+"}"):""}return e("_",this.sub)+e("^",this.sup)},e.addBlock=function(e){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=e,e.adopt(this,this.sub,0).downOutOf=this.sub,e.jQ=y('<span class="mq-sup"/>').append(e.jQ.children()).attr(i,e.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=e,e.adopt(this,0,this.sup).upOutOf=this.sup,e.jQ=y('<span class="mq-sub"></span>').append(e.jQ.children()).attr(i,e.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var t=0;t<2;t+=1)!function(e,t,n,r){e[t].deleteOutOf=function(i,o){if(o.insDirOf(this[i]?-i:i,this.parent),!this.isEmpty()){var s=this.ends[i];this.children().disown().withDirAdopt(i,o.parent,o[i],o[-i]).jQ.insDirOf(-i,o.jQ),o[-i]=s}e.supsub=n,delete e[t],delete e[r+"Into"],e[n][r+"OutOf"]=Ne,delete e[n].deleteOutOf,"sub"===t&&y(e.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}}(this,"sub sup".split(" ")[t],"sup sub".split(" ")[t],"down up".split(" ")[t])}});function Ne(e){var t=this.parent,n=e;do{if(n[1])return e.insLeftOf(t);n=n.parent.parent}while(n!==t);e.insRightOf(t)}w.subscript=w._=f(we,function(e,t){e.supsub="sub",e.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',e.textTemplate=["_"],e.finalizeTree=function(){this.downInto=this.sub=this.ends[m],this.sub.upOutOf=Ne,t.finalizeTree.call(this)}}),w.superscript=w.supscript=w["^"]=f(we,function(e,t){e.supsub="sup",e.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',e.textTemplate=["^"],e.finalizeTree=function(){this.upInto=this.sup=this.ends[1],this.sup.downOutOf=Ne,t.finalizeTree.call(this)}});var Ee=f($,function(e,t){e.init=function(e,t){G.prototype.init.call(this,e,'<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+t+'</big><span class="mq-from"><span>&0</span></span></span>')},e.createLeftOf=function(e){t.createLeftOf.apply(this,arguments),e.options.sumStartsWithNEquals&&(re("n").createLeftOf(e),me().createLeftOf(e))},e.latex=function(){function e(e){return 1===e.length?e:"{"+(e||" ")+"}"}return this.ctrlSeq+"_"+e(this.ends[m].latex())+"^"+e(this.ends[1].latex())},e.parser=function(){for(var e=j.string,t=j.optWhitespace,n=j.succeed,r=H.block,i=this,o=i.blocks=[Q(),Q()],s=0;s<o.length;s+=1)o[s].adopt(i,i.ends[1],0);return t.then(e("_").or(e("^"))).then(function(e){var t=o["_"===e?0:1];return r.then(function(e){return e.children().adopt(t,t.ends[1],0),n(i)})}).many().result(i)},e.finalizeTree=function(){this.downInto=this.ends[m],this.upInto=this.ends[1],this.ends[m].upOutOf=this.ends[1],this.ends[1].downOutOf=this.ends[m]}});w["\u2211"]=w.sum=w.summation=d(Ee,"\\sum ","&sum;"),w["\u220f"]=w.prod=w.product=d(Ee,"\\prod ","&prod;"),w.coprod=w.coproduct=d(Ee,"\\coprod ","&#8720;"),w["\u222b"]=w.int=w.integral=f(Ee,function(e,t){e.init=function(){G.prototype.init.call(this,"\\int ",'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>')},e.createLeftOf=$.p.createLeftOf});var Te=w.frac=w.dfrac=w.cfrac=w.fraction=f($,function(e,t){e.ctrlSeq="\\frac",e.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',e.textTemplate=["(",")/(",")"],e.finalizeTree=function(){this.upInto=this.ends[1].upOutOf=this.ends[m],this.downInto=this.ends[m].downOutOf=this.ends[1]}}),Ae=w.over=N["/"]=f(Te,function(e,t){e.createLeftOf=function(e){if(!this.replacedFragment){for(var n=e[m];n&&!(n instanceof W||n instanceof(w.text||a)||n instanceof Ee||"\\ "===n.ctrlSeq||/^[,;:]$/.test(n.ctrlSeq));)n=n[m];n instanceof Ee&&n[1]instanceof we&&(n=n[1])[1]instanceof we&&n[1].ctrlSeq!=n.ctrlSeq&&(n=n[1]),n!==e[m]&&(this.replaces(S(n[1]||e.parent.ends[m],e[m])),e[m]=n)}t.createLeftOf.call(this,e)}}),Ce=w.sqrt=w["\u221a"]=f($,function(e,t){e.ctrlSeq="\\sqrt",e.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',e.textTemplate=["sqrt(",")"],e.parser=function(){return H.optBlock.then(function(e){return H.block.map(function(t){var n=ke();return n.blocks=[e,t],e.adopt(n,0,0),t.adopt(n,e,0),n})}).or(t.parser.call(this))},e.reflow=function(){var e=this.ends[1].jQ;ge(e.prev(),1,e.innerHeight()/+e.css("fontSize").slice(0,-2)-.1)}}),ke=(w.vec=f($,function(e,t){e.ctrlSeq="\\vec",e.htmlTemplate='<span class="mq-non-leaf"><span class="mq-vector-prefix">&rarr;</span><span class="mq-vector-stem">&0</span></span>',e.textTemplate=["vec(",")"]}),w.nthroot=f(Ce,function(e,t){e.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',e.textTemplate=["sqrt[","](",")"],e.latex=function(){return"\\sqrt["+this.ends[m].latex()+"]{"+this.ends[1].latex()+"}"}}));function Me(e,t){e.jQadd=function(){t.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},e.reflow=function(){var e=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));ge(this.delimjQs,o(1+.2*(e-1),1.2),1.2*e)}}var _e=f(f($,Me),function(t,n){t.init=function(t,r,i,o,s){n.init.call(this,"\\left"+o,e,[r,i]),this.side=t,this.sides={},this.sides[m]={ch:r,ctrlSeq:o},this.sides[1]={ch:i,ctrlSeq:s}},t.numBlocks=function(){return 1},t.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(1===this.side?" mq-ghost":"")+'">'+this.sides[m].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===m?" mq-ghost":"")+'">'+this.sides[1].ch+"</span></span>",n.html.call(this)},t.latex=function(){return"\\left"+this.sides[m].ctrlSeq+this.ends[m].latex()+"\\right"+this.sides[1].ctrlSeq},t.oppBrack=function(e,t,n){return t instanceof _e&&t.side&&t.side!==-n&&("|"===this.sides[this.side].ch||t.side===-this.side)&&(!e.restrictMismatchedBrackets||Oe[this.sides[this.side].ch]===t.sides[t.side].ch||{"(":"]","[":")"}[this.sides[m].ch]===t.sides[1].ch)&&t},t.closeOpposing=function(e){e.side=0,e.sides[this.side]=this.sides[this.side],e.delimjQs.eq(this.side===m?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},t.createLeftOf=function(e){if(!this.replacedFragment)var t=e.options,r=this.oppBrack(t,e[m],m)||this.oppBrack(t,e[1],1)||this.oppBrack(t,e.parent.parent);if(r){var i=this.side=-r.side;this.closeOpposing(r),r===e.parent.parent&&e[i]&&(S(e[i],e.parent.ends[i],-i).disown().withDirAdopt(-i,r.parent,r,r[i]).jQ.insDirOf(i,r.jQ),r.bubble("reflow"))}else i=(r=this).side,r.replacedFragment?r.side=0:e[-i]&&(r.replaces(S(e[-i],e.parent.ends[-i],i)),e[-i]=0),n.createLeftOf.call(r,e);i===m?e.insAtLeftEnd(r.ends[m]):e.insRightOf(r)},t.placeCursor=a,t.unwrap=function(){this.ends[m].children().disown().adopt(this.parent,this,this[1]).jQ.insertAfter(this.jQ),this.remove()},t.deleteSide=function(e,t,n){var r=this.parent,i=this[e],o=r.ends[e];if(e===this.side)return this.unwrap(),void(i?n.insDirOf(-e,i):n.insAtDirEnd(e,r));var s=n.options,a=!this.side;if(this.side=-e,this.oppBrack(s,this.ends[m].ends[this.side],e)){this.closeOpposing(this.ends[m].ends[this.side]);var l=this.ends[m].ends[e];this.unwrap(),l.siblingCreated&&l.siblingCreated(n.options,e),i?n.insDirOf(-e,i):n.insAtDirEnd(e,r)}else{if(this.oppBrack(s,this.parent.parent,e))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(t&&a)return this.unwrap(),void(i?n.insDirOf(-e,i):n.insAtDirEnd(e,r));this.sides[e]={ch:Oe[this.sides[this.side].ch],ctrlSeq:Oe[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(e===m?0:1).addClass("mq-ghost").html(this.sides[e].ch)}i?(l=this.ends[m].ends[e],S(i,o,-e).disown().withDirAdopt(-e,this.ends[m],l,0).jQ.insAtDirEnd(e,this.ends[m].jQ.removeClass("mq-empty")),l.siblingCreated&&l.siblingCreated(n.options,e),n.insDirOf(-e,i)):t?n.insDirOf(e,this):n.insAtDirEnd(e,this.ends[m])}},t.deleteTowards=function(e,t){this.deleteSide(-e,!1,t)},t.finalizeTree=function(){this.ends[m].deleteOutOf=function(e,t){this.parent.deleteSide(e,!0,t)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===m?1:0).removeClass("mq-ghost"),this.side=0}},t.siblingCreated=function(e,t){t===-this.side&&this.finalizeTree()}}),Oe={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|"};function Ie(e,t){var n=Oe[e],r=Oe[t=t||e];N[e]=d(_e,m,e,n,t,r),N[n]=d(_e,1,e,n,t,r)}Ie("("),Ie("["),Ie("{","\\{"),w.langle=d(_e,m,"&lang;","&rang;","\\langle ","\\rangle "),w.rangle=d(_e,1,"&lang;","&rang;","\\langle ","\\rangle "),N["|"]=d(_e,m,"|","|","|","|"),w.left=f($,function(e){e.parser=function(){var e=j.regex,t=j.string,n=j.optWhitespace;return n.then(e(/^(?:[([|]|\\\{)/)).then(function(r){var i="\\"===r.charAt(0)?r.slice(1):r;return H.then(function(o){return t("\\right").skip(n).then(e(/^(?:[\])|]|\\\})/)).map(function(e){var t="\\"===e.charAt(0)?e.slice(1):e,n=_e(0,i,t,r,e);return n.blocks=[o],o.adopt(n,0,0),n})})})}}),w.right=f($,function(e){e.parser=function(){return j.fail("unmatched \\right")}});var Le=w.binom=w.binomial=f(f($,Me),function(e,t){e.ctrlSeq="\\binom",e.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',e.textTemplate=["choose(",",",")"]});w.choose=f(Le,function(e){e.createLeftOf=Ae.prototype.createLeftOf}),w.editable=w.MathQuillMathField=f($,function(e,t){e.ctrlSeq="\\MathQuillMathField",e.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',e.parser=function(){var e=this,n=j.string,r=j.regex,i=j.succeed;return n("[").then(r(/^[a-z][a-z0-9]*/i)).skip(n("]")).map(function(t){e.name=t}).or(i()).then(t.parser.call(e))},e.finalizeTree=function(){var e=A(this.ends[m],this.jQ,k());e.KIND_OF_MQ="MathField",e.editable=!0,e.createTextarea(),e.editablesTextareaEvents(),e.cursor.insAtRightEnd(e.root),q(e.root)},e.registerInnerField=function(e,t){e.push(e[this.name]=t(this.ends[m].controller))},e.latex=function(){return this.ends[m].latex()},e.text=function(){return this.ends[m].text()}});var Re=w.embed=f(G,function(e,t){e.setOptions=function(e){function t(){return""}return this.text=e.text||t,this.htmlTemplate=e.htmlString||"",this.latex=e.latex||t,this},e.parser=function(){var e=this;return string=j.string,regex=j.regex,succeed=j.succeed,string("{").then(regex(/^[a-z][a-z0-9]*/i)).skip(string("}")).then(function(t){return string("[").then(regex(/^[-\w\s]*/)).skip(string("]")).or(succeed()).map(function(n){return e.setOptions(O[t](n))})})}}),De=(N["\\"]=f($,function(e,t){e.ctrlSeq="\\",e.replaces=function(e){this._replacedFragment=e.disown(),this.isEmpty=function(){return!1}},e.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',e.textTemplate=["\\"],e.createBlocks=function(){t.createBlocks.call(this),this.ends[m].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[m].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[m].write=function(e,t){e.show().deleteSelection(),t.match(/[a-z]/i)?V(t).createLeftOf(e):(this.parent.renderCommand(e),"\\"===t&&this.isEmpty()||this.parent.parent.write(e,t))},this.ends[m].keystroke=function(e,n,r){return"Tab"===e||"Enter"===e||"Spacebar"===e?(this.parent.renderCommand(r.cursor),void n.preventDefault()):t.keystroke.apply(this,arguments)}},e.createLeftOf=function(e){if(t.createLeftOf.call(this,e),this._replacedFragment){var n=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",function(e){return y(e.target=n).trigger(e),!1}).insertBefore(this.jQ).add(this.jQ)}},e.latex=function(){return"\\"+this.ends[m].latex()+" "},e.renderCommand=function(e){this.jQ=this.jQ.last(),this.remove(),this[1]?e.insLeftOf(this[1]):e.insAtRightEnd(this.parent);var t=this.ends[m].latex();t||(t=" ");var n=w[t];n?(n=n(t),this._replacedFragment&&n.replaces(this._replacedFragment),n.createLeftOf(e)):((n=Y()).replaces(t),n.createLeftOf(e),e.insRightOf(n),this._replacedFragment&&this._replacedFragment.remove())}}),F(1));for(var Fe in De)!function(e,t){"function"==typeof t?(L[e]=function(){return I(),t.apply(this,arguments)}).prototype=t.prototype:L[e]=t}(Fe,De[Fe])}()},381:function(e,t){var n,r,i;r="undefined"!=typeof window?window:this,i=function(r,i){var o=[],s=r.document,a=o.slice,l=o.concat,c=o.push,u=o.indexOf,h={},d=h.toString,p=h.hasOwnProperty,f={},m="1.12.4",g=function(e,t){return new g.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,b=/-([\da-z])/gi,x=function(e,t){return t.toUpperCase()};function S(e){var t=!!e&&"length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:m,constructor:g,selector:"",length:0,toArray:function(){return a.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:a.call(this)},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},g.extend=g.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||g.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(i=arguments[a]))for(r in i)e=s[r],s!==(n=i[r])&&(c&&n&&(g.isPlainObject(n)||(t=g.isArray(n)))?(t?(t=!1,o=e&&g.isArray(e)?e:[]):o=e&&g.isPlainObject(e)?e:{},s[r]=g.extend(c,o,n)):void 0!==n&&(s[r]=n));return s},g.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isArray:Array.isArray||function(e){return"array"===g.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!g.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==g.type(e)||e.nodeType||g.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!f.ownFirst)for(t in e)return p.call(e,t);for(t in e);return void 0===t||p.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e},globalEval:function(e){e&&g.trim(e)&&(r.execScript||function(e){r.eval.call(r,e)})(e)},camelCase:function(e){return e.replace(v,"ms-").replace(b,x)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(y,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?g.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(u)return u.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(S(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return l.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),g.isFunction(e))return n=a.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||g.guid++,r},now:function(){return+new Date},support:f}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=o[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var w=function(e){var t,n,r,i,o,s,a,l,c,u,h,d,p,f,m,g,y,v,b,x="sizzle"+1*new Date,S=e.document,w=0,N=0,E=oe(),T=oe(),A=oe(),C=function(e,t){return e===t&&(h=!0),0},k=1<<31,M={}.hasOwnProperty,_=[],O=_.pop,I=_.push,L=_.push,R=_.slice,D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B="\\["+P+"*("+q+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+P+"*\\]",j=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",z=new RegExp(P+"+","g"),H=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),U=new RegExp("^"+P+"*,"+P+"*"),$=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),G=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),V=new RegExp(j),W=new RegExp("^"+q+"$"),Q={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){d()};try{L.apply(_=R.call(S.childNodes),S.childNodes)}catch(e){L={apply:_.length?function(e,t){I.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,i){var o,a,c,u,h,f,y,v,w=t&&t.ownerDocument,N=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==N&&9!==N&&11!==N)return r;if(!i&&((t?t.ownerDocument||t:S)!==p&&d(t),t=t||p,m)){if(11!==N&&(f=Z.exec(e)))if(o=f[1]){if(9===N){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(w&&(c=w.getElementById(o))&&b(t,c)&&c.id===o)return r.push(c),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))){if(1!==N)w=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(ee,"\\$&"):t.setAttribute("id",u=x),a=(y=s(e)).length,h=W.test(u)?"#"+u:"[id='"+u+"']";a--;)y[a]=h+" "+me(y[a]);v=y.join(","),w=J.test(e)&&pe(t.parentNode)||t}if(v)try{return L.apply(r,w.querySelectorAll(v)),r}catch(e){}finally{u===x&&t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[x]=!0,e}function ae(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ie.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:S;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,m=!o(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ae(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(p.getElementsByClassName),n.getById=ae(function(e){return f.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=K.test(p.querySelectorAll))&&(ae(function(e){f.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+x+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||g.push(".#.+[+~]")}),ae(function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+P+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=K.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ae(function(e){n.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),y.push("!=",j)}),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=K.test(f.compareDocumentPosition),b=t||K.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===S&&b(S,e)?-1:t===p||t.ownerDocument===S&&b(S,t)?1:u?D(u,e)-D(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:u?D(u,e)-D(u,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?ce(s[r],a[r]):s[r]===S?-1:a[r]===S?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(G,"='$1']"),n.matchesSelector&&m&&!A[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&M.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(C),h){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:se,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(b=(p=(c=(u=(h=(d=g)[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===w&&c[1])&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===t){u[e]=[w,p,b];break}}else if(v&&(b=p=(c=(u=(h=(d=t)[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===w&&c[1]),!1===b)for(;(d=++p&&d&&d[m]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++b||(v&&((u=(h=d[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[w,b]),d!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=D(e,o[s])]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=a(e.replace(H,"$1"));return r[x]?se(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return ie(e,t).length>0}}),contains:se(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return W.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:de(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function fe(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=N++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,l,c,u=[w,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((a=(l=(c=t[x]||(t[x]={}))[t.uniqueID]||(c[t.uniqueID]={}))[r])&&a[0]===w&&a[1]===o)return u[2]=a[2];if(l[r]=u,u[2]=e(t,n,s))return!0}}}function ye(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ve(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function be(e,t,n,r,i,o){return r&&!r[x]&&(r=be(r)),i&&!i[x]&&(i=be(i,o)),se(function(o,s,a,l){var c,u,h,d=[],p=[],f=s.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:ve(m,d,e,a,l),y=n?i||(o?e:f||r)?[]:s:g;if(n&&n(g,y,a,l),r)for(c=ve(y,p),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(g[p[u]]=h));if(o){if(i||e){if(i){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(g[u]=h);i(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=i?D(o,h):d[u])>-1&&(o[c]=!(s[c]=h))}}else y=ve(y===s?y.splice(f,y.length):y),i?i(null,s,y,l):L.apply(s,y)})}function xe(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,u=ge(function(e){return e===t},a,!0),h=ge(function(e){return D(t,e)>-1},a,!0),d=[function(e,n,r){var i=!s&&(r||n!==c)||((t=n).nodeType?u(e,n,r):h(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])d=[ge(ye(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[x]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return be(l>1&&ye(d),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),n,l<i&&xe(e.slice(l,i)),i<o&&xe(e=e.slice(i)),i<o&&me(e))}d.push(n)}return ye(d)}return fe.prototype=r.filters=r.pseudos,r.setFilters=new fe,s=ie.tokenize=function(e,t){var n,i,o,s,a,l,c,u=T[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(s in n&&!(i=U.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=$.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(H," ")}),a=a.slice(n.length)),r.filter)!(i=Q[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):T(e,l).slice(0)},a=ie.compile=function(e,t){var n,i=[],o=[],a=A[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=xe(t[n]))[x]?i.push(a):o.push(a);(a=A(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,l,u){var h,f,g,y=0,v="0",b=o&&[],x=[],S=c,N=o||i&&r.find.TAG("*",u),E=w+=null==S?1:Math.random()||.1,T=N.length;for(u&&(c=s===p||s||u);v!==T&&null!=(h=N[v]);v++){if(i&&h){for(f=0,s||h.ownerDocument===p||(d(h),a=!m);g=e[f++];)if(g(h,s||p,a)){l.push(h);break}u&&(w=E)}n&&((h=!g&&h)&&y--,o&&b.push(h))}if(y+=v,n&&v!==y){for(f=0;g=t[f++];)g(b,x,s,a);if(o){if(y>0)for(;v--;)b[v]||x[v]||(x[v]=O.call(l));x=ve(x)}L.apply(l,x),u&&!o&&x.length>0&&y+t.length>1&&ie.uniqueSort(l)}return u&&(w=E,c=S),b};return n?se(o):o}(o,i))).selector=e}return a},l=ie.select=function(e,t,i,o){var l,c,u,h,d,p="function"==typeof e&&e,f=!o&&s(e=p.selector||e);if(i=i||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=Q.needsContext.test(e)?0:c.length;l--&&!r.relative[h=(u=c[l]).type];)if((d=r.find[h])&&(o=d(u.matches[0].replace(te,ne),J.test(c[0].type)&&pe(t.parentNode)||t))){if(c.splice(l,1),!(e=o.length&&me(c)))return L.apply(i,o),i;break}}return(p||a(e,f))(o,t,!m,i,!t||J.test(e)&&pe(t.parentNode)||t),i},n.sortStable=x.split("").sort(C).join("")===x,n.detectDuplicates=!!h,d(),n.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||le(F,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(r);g.find=w,g.expr=w.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=w.uniqueSort,g.text=w.getText,g.isXMLDoc=w.isXML,g.contains=w.contains;var N=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&g(e).is(n))break;r.push(e)}return r},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=g.expr.match.needsContext,A=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,C=/^.[^:#\[\.,]*$/;function k(e,t,n){if(g.isFunction(t))return g.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return g.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(C.test(t))return g.filter(t,e,n);t=g.filter(t,e)}return g.grep(e,function(e){return g.inArray(e,t)>-1!==n})}g.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?g.find.matchesSelector(r,e)?[r]:[]:g.find.matches(e,g.grep(t,function(e){return 1===e.nodeType}))},g.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(g(e).filter(function(){for(t=0;t<i;t++)if(g.contains(r[t],this))return!0}));for(t=0;t<i;t++)g.find(e,r[t],n);return(n=this.pushStack(i>1?g.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&T.test(e)?g(e):e||[],!1).length}});var M,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||M,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:_.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(g.merge(this,g.parseHTML(r[1],(t=t instanceof g?t[0]:t)&&t.nodeType?t.ownerDocument||t:s,!0)),A.test(r[1])&&g.isPlainObject(t))for(r in t)g.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((i=s.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return M.find(e);this.length=1,this[0]=i}return this.context=s,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==n.ready?n.ready(e):e(g):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),g.makeArray(e,this))}).prototype=g.fn,M=g(s);var O=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}g.fn.extend({has:function(e){var t,n=g(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(g.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=T.test(e)||"string"!=typeof e?g(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?g.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?g.inArray(this[0],g(e)):g.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return N(e,"parentNode")},parentsUntil:function(e,t,n){return N(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return N(e,"nextSibling")},prevAll:function(e){return N(e,"previousSibling")},nextUntil:function(e,t,n){return N(e,"nextSibling",n)},prevUntil:function(e,t,n){return N(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return g.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:g.merge([],e.childNodes)}},function(e,t){g.fn[e]=function(n,r){var i=g.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=g.filter(r,i)),this.length>1&&(I[e]||(i=g.uniqueSort(i)),O.test(e)&&(i=i.reverse())),this.pushStack(i)}});var R,D,F=/\S+/g;function P(){s.addEventListener?(s.removeEventListener("DOMContentLoaded",q),r.removeEventListener("load",q)):(s.detachEvent("onreadystatechange",q),r.detachEvent("onload",q))}function q(){(s.addEventListener||"load"===r.event.type||"complete"===s.readyState)&&(P(),g.ready())}for(D in g.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return g.each(e.match(F)||[],function(e,n){t[n]=!0}),t}(e):g.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){g.each(n,function(n,r){g.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==g.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return g.each(arguments,function(e,t){for(var n;(n=g.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?g.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},g.extend({Deferred:function(e){var t=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return g.Deferred(function(n){g.each(t,function(t,o){var s=g.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?g.extend(e,r):r}},i={};return r.pipe=r.then,g.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=a.call(arguments),s=o.length,l=1!==s||e&&g.isFunction(e.promise)?s:0,c=1===l?e:g.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?a.call(arguments):i,r===t?c.notifyWith(n,r):--l||c.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&g.isFunction(o[i].promise)?o[i].promise().progress(u(i,n,t)).done(u(i,r,o)).fail(c.reject):--l;return l||c.resolveWith(r,o),c.promise()}}),g.fn.ready=function(e){return g.ready.promise().done(e),this},g.extend({isReady:!1,readyWait:1,holdReady:function(e){e?g.readyWait++:g.ready(!0)},ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||(R.resolveWith(s,[g]),g.fn.triggerHandler&&(g(s).triggerHandler("ready"),g(s).off("ready"))))}}),g.ready.promise=function(e){if(!R)if(R=g.Deferred(),"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll)r.setTimeout(g.ready);else if(s.addEventListener)s.addEventListener("DOMContentLoaded",q),r.addEventListener("load",q);else{s.attachEvent("onreadystatechange",q),r.attachEvent("onload",q);var t=!1;try{t=null==r.frameElement&&s.documentElement}catch(e){}t&&t.doScroll&&function n(){if(!g.isReady){try{t.doScroll("left")}catch(e){return r.setTimeout(n,50)}P(),g.ready()}}()}return R.promise(e)},g.ready.promise(),g(f))break;f.ownFirst="0"===D,f.inlineBlockNeedsLayout=!1,g(function(){var e,t,n,r;(n=s.getElementsByTagName("body")[0])&&n.style&&(t=s.createElement("div"),(r=s.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",f.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=s.createElement("div");f.deleteExpando=!0;try{delete e.test}catch(e){f.deleteExpando=!1}e=null}();var B,j=function(e){var t=g.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/([A-Z])/g;function U(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(H,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:z.test(n)?g.parseJSON(n):n)}catch(e){}g.data(e,t,n)}else n=void 0}return n}function $(e){var t;for(t in e)if(("data"!==t||!g.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function G(e,t,n,r){if(j(e)){var i,s,a=g.expando,l=e.nodeType,c=l?g.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(r||c[u].data)||void 0!==n||"string"!=typeof t)return u||(u=l?e[a]=o.pop()||g.guid++:a),c[u]||(c[u]=l?{}:{toJSON:g.noop}),"object"!=typeof t&&"function"!=typeof t||(r?c[u]=g.extend(c[u],t):c[u].data=g.extend(c[u].data,t)),s=c[u],r||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[g.camelCase(t)]=n),"string"==typeof t?null==(i=s[t])&&(i=s[g.camelCase(t)]):i=s,i}}function V(e,t,n){if(j(e)){var r,i,o=e.nodeType,s=o?g.cache:e,a=o?e[g.expando]:g.expando;if(s[a]){if(t&&(r=n?s[a]:s[a].data)){i=(t=g.isArray(t)?t.concat(g.map(t,g.camelCase)):t in r||(t=g.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!$(r):!g.isEmptyObject(r))return}(n||(delete s[a].data,$(s[a])))&&(o?g.cleanData([e],!0):f.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}g.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?g.cache[e[g.expando]]:e[g.expando])&&!$(e)},data:function(e,t,n){return G(e,t,n)},removeData:function(e,t){return V(e,t)},_data:function(e,t,n){return G(e,t,n,!0)},_removeData:function(e,t){return V(e,t,!0)}}),g.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=g.data(o),1===o.nodeType&&!g._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&U(o,r=g.camelCase(r.slice(5)),i[r]);g._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){g.data(this,e)}):arguments.length>1?this.each(function(){g.data(this,e,t)}):o?U(o,e,g.data(o,e)):void 0},removeData:function(e){return this.each(function(){g.removeData(this,e)})}}),g.extend({queue:function(e,t,n){var r;if(e)return r=g._data(e,t=(t||"fx")+"queue"),n&&(!r||g.isArray(n)?r=g._data(e,t,g.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=g.queue(e,t=t||"fx"),r=n.length,i=n.shift(),o=g._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){g.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return g._data(e,n)||g._data(e,n,{empty:g.Callbacks("once memory").add(function(){g._removeData(e,t+"queue"),g._removeData(e,n)})})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each(function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)})},dequeue:function(e){return this.each(function(){g.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=g.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=g._data(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}}),f.shrinkWrapBlocks=function(){return null!=B?B:(B=!1,(t=s.getElementsByTagName("body")[0])&&t.style?(e=s.createElement("div"),(n=s.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(s.createElement("div")).style.width="5px",B=3!==e.offsetWidth),t.removeChild(n),B):void 0);var e,t,n};var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Q=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),X=["Top","Right","Bottom","Left"],Y=function(e,t){return"none"===g.css(e=t||e,"display")||!g.contains(e.ownerDocument,e)};function K(e,t,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return g.css(e,t,"")},l=a(),c=n&&n[3]||(g.cssNumber[t]?"":"px"),u=(g.cssNumber[t]||"px"!==c&&+l)&&Q.exec(g.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",g.style(e,t,u+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var Z,J,ee,te=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===g.type(n))for(a in i=!0,n)te(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,g.isFunction(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(g(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},ne=/^(?:checkbox|radio)$/i,re=/<([\w:-]+)/,ie=/^$|\/(?:java|ecma)script/i,oe=/^\s+/,se="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ae(e){var t=se.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}Z=s.createElement("div"),J=s.createDocumentFragment(),ee=s.createElement("input"),Z.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",f.leadingWhitespace=3===Z.firstChild.nodeType,f.tbody=!Z.getElementsByTagName("tbody").length,f.htmlSerialize=!!Z.getElementsByTagName("link").length,f.html5Clone="<:nav></:nav>"!==s.createElement("nav").cloneNode(!0).outerHTML,ee.type="checkbox",ee.checked=!0,J.appendChild(ee),f.appendChecked=ee.checked,Z.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!Z.cloneNode(!0).lastChild.defaultValue,J.appendChild(Z),(ee=s.createElement("input")).setAttribute("type","radio"),ee.setAttribute("checked","checked"),ee.setAttribute("name","t"),Z.appendChild(ee),f.checkClone=Z.cloneNode(!0).cloneNode(!0).lastChild.checked,f.noCloneEvent=!!Z.addEventListener,Z[g.expando]=1,f.attributes=!Z.getAttribute(g.expando);var le={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:f.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function ce(e,t){var n,r,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||g.nodeName(r,t)?o.push(r):g.merge(o,ce(r,t));return void 0===t||t&&g.nodeName(e,t)?g.merge([e],o):o}function ue(e,t){for(var n,r=0;null!=(n=e[r]);r++)g._data(n,"globalEval",!t||g._data(t[r],"globalEval"))}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td;var he=/<|&#?\w+;/,de=/<tbody/i;function pe(e){ne.test(e.type)&&(e.defaultChecked=e.checked)}function fe(e,t,n,r,i){for(var o,s,a,l,c,u,h,d=e.length,p=ae(t),m=[],y=0;y<d;y++)if((s=e[y])||0===s)if("object"===g.type(s))g.merge(m,s.nodeType?[s]:s);else if(he.test(s)){for(l=l||p.appendChild(t.createElement("div")),c=(re.exec(s)||["",""])[1].toLowerCase(),l.innerHTML=(h=le[c]||le._default)[1]+g.htmlPrefilter(s)+h[2],o=h[0];o--;)l=l.lastChild;if(!f.leadingWhitespace&&oe.test(s)&&m.push(t.createTextNode(oe.exec(s)[0])),!f.tbody)for(o=(s="table"!==c||de.test(s)?"<table>"!==h[1]||de.test(s)?0:l:l.firstChild)&&s.childNodes.length;o--;)g.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(g.merge(m,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=p.lastChild}else m.push(t.createTextNode(s));for(l&&p.removeChild(l),f.appendChecked||g.grep(ce(m,"input"),pe),y=0;s=m[y++];)if(r&&g.inArray(s,r)>-1)i&&i.push(s);else if(a=g.contains(s.ownerDocument,s),l=ce(p.appendChild(s),"script"),a&&ue(l),n)for(o=0;s=l[o++];)ie.test(s.type||"")&&n.push(s);return l=null,p}!function(){var e,t,n=s.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})(f[e]=(t="on"+e)in r)||(n.setAttribute(t,"t"),f[e]=!1===n.attributes[t].expando);n=null}();var me=/^(?:input|select|textarea)$/i,ge=/^key/,ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ve=/^(?:focusinfocus|focusoutblur)$/,be=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function Se(){return!1}function we(){try{return s.activeElement}catch(e){}}function Ne(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Ne(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return g().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=g.guid++)),e.each(function(){g.event.add(this,t,i,r,n)})}g.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,p,f,m,y=g._data(e);if(y){for(n.handler&&(n=(l=n).handler,i=l.selector),n.guid||(n.guid=g.guid++),(s=y.events)||(s=y.events={}),(u=y.handle)||((u=y.handle=function(e){return void 0===g||e&&g.event.triggered===e.type?void 0:g.event.dispatch.apply(u.elem,arguments)}).elem=e),a=(t=(t||"").match(F)||[""]).length;a--;)p=m=(o=be.exec(t[a])||[])[1],f=(o[2]||"").split(".").sort(),p&&(c=g.event.special[p]||{},c=g.event.special[p=(i?c.delegateType:c.bindType)||p]||{},h=g.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&g.expr.match.needsContext.test(i),namespace:f.join(".")},l),(d=s[p])||((d=s[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,f,u)||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,h):d.push(h),g.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,l,c,u,h,d,p,f,m,y=g.hasData(e)&&g._data(e);if(y&&(u=y.events)){for(c=(t=(t||"").match(F)||[""]).length;c--;)if(p=m=(a=be.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=g.event.special[p]||{},d=u[p=(r?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!i&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(e,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,y.handle)||g.removeEvent(e,p,y.handle),delete u[p])}else for(p in u)g.event.remove(e,p+t[c],n,r,!0);g.isEmptyObject(u)&&(delete y.handle,g._removeData(e,"events"))}},trigger:function(e,t,n,i){var o,a,l,c,u,h,d,f=[n||s],m=p.call(e,"type")?e.type:e,y=p.call(e,"namespace")?e.namespace.split("."):[];if(l=h=n=n||s,3!==n.nodeType&&8!==n.nodeType&&!ve.test(m+g.event.triggered)&&(m.indexOf(".")>-1&&(y=m.split("."),m=y.shift(),y.sort()),a=m.indexOf(":")<0&&"on"+m,(e=e[g.expando]?e:new g.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:g.makeArray(t,[e]),u=g.event.special[m]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!g.isWindow(n)){for(ve.test((c=u.delegateType||m)+m)||(l=l.parentNode);l;l=l.parentNode)f.push(l),h=l;h===(n.ownerDocument||s)&&f.push(h.defaultView||h.parentWindow||r)}for(d=0;(l=f[d++])&&!e.isPropagationStopped();)e.type=d>1?c:u.bindType||m,(o=(g._data(l,"events")||{})[e.type]&&g._data(l,"handle"))&&o.apply(l,t),(o=a&&l[a])&&o.apply&&j(l)&&(e.result=o.apply(l,t),!1===e.result&&e.preventDefault());if(e.type=m,!i&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(f.pop(),t))&&j(n)&&a&&n[m]&&!g.isWindow(n)){(h=n[a])&&(n[a]=null),g.event.triggered=m;try{n[m]()}catch(e){}g.event.triggered=void 0,h&&(n[a]=h)}return e.result}},dispatch:function(e){e=g.event.fix(e);var t,n,r,i,o,s,l=a.call(arguments),c=(g._data(this,"events")||{})[e.type]||[],u=g.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=g.event.handlers.call(this,e,c),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((g.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],n=0;n<a;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?g(i,this).index(l)>-1:g.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&s.push({elem:l,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[g.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=ye.test(i)?this.mouseHooks:ge.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new g.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||s),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||s).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==we()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===we()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(g.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return g.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=g.extend(new g.Event,n,{type:e,isSimulated:!0});g.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},g.removeEvent=s.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:Se):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||g.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),f.submit||(g.event.special.submit={setup:function(){if(g.nodeName(this,"form"))return!1;g.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=g.nodeName(t,"input")||g.nodeName(t,"button")?g.prop(t,"form"):void 0;n&&!g._data(n,"submit")&&(g.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),g._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&g.event.simulate("submit",this.parentNode,e))},teardown:function(){if(g.nodeName(this,"form"))return!1;g.event.remove(this,"._submit")}}),f.change||(g.event.special.change={setup:function(){if(me.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(g.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),g.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),g.event.simulate("change",this,e)})),!1;g.event.add(this,"beforeactivate._change",function(e){var t=e.target;me.test(t.nodeName)&&!g._data(t,"change")&&(g.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||g.event.simulate("change",this.parentNode,e)}),g._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return g.event.remove(this,"._change"),!me.test(this.nodeName)}}),f.focusin||g.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=g._data(r,t);i||r.addEventListener(e,n,!0),g._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=g._data(r,t)-1;i?g._data(r,t,i):(r.removeEventListener(e,n,!0),g._removeData(r,t))}}}),g.fn.extend({on:function(e,t,n,r){return Ne(this,e,t,n,r)},one:function(e,t,n,r){return Ne(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,g(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){g.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){g.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}});var Ee=/ jQuery\d+="(?:null|\d+)"/g,Te=new RegExp("<(?:"+se+")[\\s/>]","i"),Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ce=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^true\/(.*)/,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Oe=ae(s).appendChild(s.createElement("div"));function Ie(e,t){return g.nodeName(e,"table")&&g.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Le(e){return e.type=(null!==g.find.attr(e,"type"))+"/"+e.type,e}function Re(e){var t=Me.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function De(e,t){if(1===t.nodeType&&g.hasData(e)){var n,r,i,o=g._data(e),s=g._data(t,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(r=0,i=a[n].length;r<i;r++)g.event.add(t,n,a[n][r]);s.data&&(s.data=g.extend({},s.data))}}function Fe(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!f.noCloneEvent&&t[g.expando]){for(r in(i=g._data(t)).events)g.removeEvent(t,r,i.handle);t.removeAttribute(g.expando)}"script"===n&&t.text!==e.text?(Le(t).text=e.text,Re(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),f.html5Clone&&e.innerHTML&&!g.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ne.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Pe(e,t,n,r){t=l.apply([],t);var i,o,s,a,c,u,h=0,d=e.length,p=d-1,m=t[0],y=g.isFunction(m);if(y||d>1&&"string"==typeof m&&!f.checkClone&&ke.test(m))return e.each(function(i){var o=e.eq(i);y&&(t[0]=m.call(this,i,o.html())),Pe(o,t,n,r)});if(d&&(i=(u=fe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===u.childNodes.length&&(u=i),i||r)){for(s=(a=g.map(ce(u,"script"),Le)).length;h<d;h++)o=u,h!==p&&(o=g.clone(o,!0,!0),s&&g.merge(a,ce(o,"script"))),n.call(e[h],o,h);if(s)for(c=a[a.length-1].ownerDocument,g.map(a,Re),h=0;h<s;h++)ie.test((o=a[h]).type||"")&&!g._data(o,"globalEval")&&g.contains(c,o)&&(o.src?g._evalUrl&&g._evalUrl(o.src):g.globalEval((o.text||o.textContent||o.innerHTML||"").replace(_e,"")));u=i=null}return e}function qe(e,t,n){for(var r,i=t?g.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||g.cleanData(ce(r)),r.parentNode&&(n&&g.contains(r.ownerDocument,r)&&ue(ce(r,"script")),r.parentNode.removeChild(r));return e}g.extend({htmlPrefilter:function(e){return e.replace(Ae,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a,l=g.contains(e.ownerDocument,e);if(f.html5Clone||g.isXMLDoc(e)||!Te.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Oe.innerHTML=e.outerHTML,Oe.removeChild(o=Oe.firstChild)),!(f.noCloneEvent&&f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(r=ce(o),a=ce(e),s=0;null!=(i=a[s]);++s)r[s]&&Fe(i,r[s]);if(t)if(n)for(a=a||ce(e),r=r||ce(o),s=0;null!=(i=a[s]);s++)De(i,r[s]);else De(e,o);return(r=ce(o,"script")).length>0&&ue(r,!l&&ce(e,"script")),r=a=i=null,o},cleanData:function(e,t){for(var n,r,i,s,a=0,l=g.expando,c=g.cache,u=f.attributes,h=g.event.special;null!=(n=e[a]);a++)if((t||j(n))&&(s=(i=n[l])&&c[i])){if(s.events)for(r in s.events)h[r]?g.event.remove(n,r):g.removeEvent(n,r,s.handle);c[i]&&(delete c[i],u||void 0===n.removeAttribute?n[l]=void 0:n.removeAttribute(l),o.push(i))}}}),g.fn.extend({domManip:Pe,detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return te(this,function(e){return void 0===e?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(e))},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&g.cleanData(ce(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&g.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return g.clone(this,e,t)})},html:function(e){return te(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ee,""):void 0;if("string"==typeof e&&!Ce.test(e)&&(f.htmlSerialize||!Te.test(e))&&(f.leadingWhitespace||!oe.test(e))&&!le[(re.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(g.cleanData(ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,function(t){var n=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(ce(this)),n&&n.replaceChild(t,this))},e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){g.fn[e]=function(e){for(var n,r=0,i=[],o=g(e),s=o.length-1;r<=s;r++)n=r===s?this:this.clone(!0),g(o[r])[t](n),c.apply(i,n.get());return this.pushStack(i)}});var Be,je={HTML:"block",BODY:"block"};function ze(e,t){var n=g(t.createElement(e)).appendTo(t.body),r=g.css(n[0],"display");return n.detach(),r}function He(e){var t=s,n=je[e];return n||("none"!==(n=ze(e,t))&&n||((t=((Be=(Be||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Be[0].contentDocument).document).write(),t.close(),n=ze(e,t),Be.detach()),je[e]=n),n}var Ue=/^margin/,$e=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Ge=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=s[o];return i},Ve=s.documentElement;!function(){var e,t,n,i,o,a,l=s.createElement("div"),c=s.createElement("div");function u(){var u,h,d=s.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",e=n=a=!1,t=o=!0,r.getComputedStyle&&(h=r.getComputedStyle(c),e="1%"!==(h||{}).top,a="2px"===(h||{}).marginLeft,n="4px"===(h||{width:"4px"}).width,c.style.marginRight="50%",t="4px"===(h||{marginRight:"4px"}).marginRight,(u=c.appendChild(s.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",u.style.marginRight=u.style.width="0",c.style.width="1px",o=!parseFloat((r.getComputedStyle(u)||{}).marginRight),c.removeChild(u)),c.style.display="none",(i=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(u=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(i=0===u[0].offsetHeight)&&(u[0].style.display="",u[1].style.display="none",i=0===u[0].offsetHeight)),d.removeChild(l)}c.style&&(c.style.cssText="float:left;opacity:.5",f.opacity="0.5"===c.style.opacity,f.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,(l=s.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),f.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,g.extend(f,{reliableHiddenOffsets:function(){return null==e&&u(),i},boxSizingReliable:function(){return null==e&&u(),n},pixelMarginRight:function(){return null==e&&u(),t},pixelPosition:function(){return null==e&&u(),e},reliableMarginRight:function(){return null==e&&u(),o},reliableMarginLeft:function(){return null==e&&u(),a}}))}();var We,Qe,Xe=/^(top|right|bottom|left)$/;function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}r.getComputedStyle?(We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Qe=function(e,t,n){var r,i,o,s,a=e.style;return""!==(s=(n=n||We(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==s||g.contains(e.ownerDocument,e)||(s=g.style(e,t)),n&&!f.pixelMarginRight()&&$e.test(s)&&Ue.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o),void 0===s?s:s+""}):Ve.currentStyle&&(We=function(e){return e.currentStyle},Qe=function(e,t,n){var r,i,o,s,a=e.style;return null==(s=(n=n||We(e))?n[t]:void 0)&&a&&a[t]&&(s=a[t]),$e.test(s)&&!Xe.test(t)&&(r=a.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=r,o&&(i.left=o)),void 0===s?s:s+""||"auto"});var Ke=/alpha\([^)]*\)/i,Ze=/opacity\s*=\s*([^)]*)/i,Je=/^(none|table(?!-c[ea]).+)/,et=new RegExp("^("+W+")(.*)$","i"),tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","O","Moz","ms"],it=s.createElement("div").style;function ot(e){if(e in it)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=rt.length;n--;)if((e=rt[n]+t)in it)return e}function st(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)(r=e[s]).style&&(o[s]=g._data(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Y(r)&&(o[s]=g._data(r,"olddisplay",He(r.nodeName)))):(i=Y(r),(n&&"none"!==n||!i)&&g._data(r,"olddisplay",i?n:g.css(r,"display"))));for(s=0;s<a;s++)(r=e[s]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function at(e,t,n){var r=et.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function lt(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=g.css(e,n+X[o],!0,i)),r?("content"===n&&(s-=g.css(e,"padding"+X[o],!0,i)),"margin"!==n&&(s-=g.css(e,"border"+X[o]+"Width",!0,i))):(s+=g.css(e,"padding"+X[o],!0,i),"padding"!==n&&(s+=g.css(e,"border"+X[o]+"Width",!0,i)));return s}function ct(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=We(e),s=f.boxSizing&&"border-box"===g.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Qe(e,t,o))<0||null==i)&&(i=e.style[t]),$e.test(i))return i;r=s&&(f.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+lt(e,t,n||(s?"border":"content"),r,o)+"px"}function ut(e,t,n,r,i){return new ut.prototype.init(e,t,n,r,i)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:f.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=g.camelCase(t),l=e.style;if(t=g.cssProps[a]||(g.cssProps[a]=ot(a)||a),s=g.cssHooks[t]||g.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:l[t];if("string"==(o=typeof n)&&(i=Q.exec(n))&&i[1]&&(n=K(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(g.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!s||!("set"in s)||void 0!==(n=s.set(e,n,r))))try{l[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,s,a=g.camelCase(t);return t=g.cssProps[a]||(g.cssProps[a]=ot(a)||a),(s=g.cssHooks[t]||g.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=Qe(e,t,r)),"normal"===o&&t in nt&&(o=nt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),g.each(["height","width"],function(e,t){g.cssHooks[t]={get:function(e,n,r){if(n)return Je.test(g.css(e,"display"))&&0===e.offsetWidth?Ge(e,tt,function(){return ct(e,t,r)}):ct(e,t,r)},set:function(e,n,r){var i=r&&We(e);return at(0,n,r?lt(e,t,r,f.boxSizing&&"border-box"===g.css(e,"boxSizing",!1,i),i):0)}}}),f.opacity||(g.cssHooks.opacity={get:function(e,t){return Ze.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=g.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===g.trim(o.replace(Ke,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ke.test(o)?o.replace(Ke,i):o+" "+i)}}),g.cssHooks.marginRight=Ye(f.reliableMarginRight,function(e,t){if(t)return Ge(e,{display:"inline-block"},Qe,[e,"marginRight"])}),g.cssHooks.marginLeft=Ye(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||(g.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-Ge(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(e,t){g.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+X[r]+t]=o[r]||o[r-2]||o[0];return i}},Ue.test(e)||(g.cssHooks[e+t].set=at)}),g.fn.extend({css:function(e,t){return te(this,function(e,t,n){var r,i,o={},s=0;if(g.isArray(t)){for(r=We(e),i=t.length;s<i;s++)o[t[s]]=g.css(e,t[s],!1,r);return o}return void 0!==n?g.style(e,t,n):g.css(e,t)},e,t,arguments.length>1)},show:function(){return st(this,!0)},hide:function(){return st(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Y(this)?g(this).show():g(this).hide()})}}),g.Tween=ut,(ut.prototype={constructor:ut,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(g.cssNumber[n]?"":"px")},cur:function(){var e=ut.propHooks[this.prop];return e&&e.get?e.get(this):ut.propHooks._default.get(this)},run:function(e){var t,n=ut.propHooks[this.prop];return this.pos=t=this.options.duration?g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ut.propHooks._default.set(this),this}}).init.prototype=ut.prototype,(ut.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=ut.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=ut.prototype.init,g.fx.step={};var ht,dt,pt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function mt(){return r.setTimeout(function(){ht=void 0}),ht=g.now()}function gt(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=X[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var r,i=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function vt(e,t,n){var r,i,o=0,s=vt.prefilters.length,a=g.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=ht||mt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=g.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=g.camelCase(n)],g.isArray(o=e[n])&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=g.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=vt.prefilters[o].call(c,e,u,c.opts))return g.isFunction(r.stop)&&(g._queueHooks(c.elem,c.opts.queue).stop=g.proxy(r.stop,r)),r;return g.map(u,yt,c),g.isFunction(c.opts.start)&&c.opts.start.call(e,c),g.fx.timer(g.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return K(n.elem,e,Q.exec(t),n),n}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(F);for(var n,r=0,i=e.length;r<i;r++)(vt.tweeners[n=e[r]]=vt.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u=this,h={},d=e.style,p=e.nodeType&&Y(e),m=g._data(e,"fxshow");for(r in n.queue||(null==(a=g._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,g.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=g.css(e,"display"))?g._data(e,"olddisplay")||He(e.nodeName):c)&&"none"===g.css(e,"float")&&(f.inlineBlockNeedsLayout&&"inline"!==He(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.shrinkWrapBlocks()||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(pt.exec(i=t[r])){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;p=!0}h[r]=m&&m[r]||g.style(e,r)}else c=void 0;if(g.isEmptyObject(h))"inline"===("none"===c?He(e.nodeName):c)&&(d.display=c);else for(r in m?"hidden"in m&&(p=m.hidden):m=g._data(e,"fxshow",{}),o&&(m.hidden=!p),p?g(e).show():u.done(function(){g(e).hide()}),u.done(function(){var t;for(t in g._removeData(e,"fxshow"),h)g.style(e,t,h[t])}),h)s=yt(p?m[r]:0,r,u),r in m||(m[r]=s.start,p&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),g.speed=function(e,t,n){var r=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return r.duration=g.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in g.fx.speeds?g.fx.speeds[r.duration]:g.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g.isFunction(r.old)&&r.old.call(this),r.queue&&g.dequeue(this,r.queue)},r},g.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=g.isEmptyObject(e),o=g.speed(t,n,r),s=function(){var t=vt(this,g.extend({},e),o);(i||g._data(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=g.timers,s=g._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ft.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||g.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=g._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=g.timers,s=r?r.length:0;for(n.finish=!0,g.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),g.each(["toggle","show","hide"],function(e,t){var n=g.fn[t];g.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,r,i)}}),g.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){g.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),g.timers=[],g.fx.tick=function(){var e,t=g.timers,n=0;for(ht=g.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||g.fx.stop(),ht=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){dt||(dt=r.setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){r.clearInterval(dt),dt=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(e,t){return e=g.fx&&g.fx.speeds[e]||e,this.queue(t=t||"fx",function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e,t=s.createElement("input"),n=s.createElement("div"),r=s.createElement("select"),i=r.appendChild(s.createElement("option"));(n=s.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),(e=n.getElementsByTagName("a")[0]).style.cssText="top:1px",f.getSetAttribute="t"!==n.className,f.style=/top/.test(e.getAttribute("style")),f.hrefNormalized="/a"===e.getAttribute("href"),f.checkOn=!!t.value,f.optSelected=i.selected,f.enctype=!!s.createElement("form").enctype,r.disabled=!0,f.optDisabled=!i.disabled,(t=s.createElement("input")).setAttribute("value",""),f.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),f.radioValue="t"===t.value}();var bt=/\r/g,xt=/[\x20\t\r\n\f]+/g;g.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=g.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,g(this).val()):e)?i="":"number"==typeof i?i+="":g.isArray(i)&&(i=g.map(i,function(e){return null==e?"":e+""})),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=g.valHooks[i.type]||g.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:g.trim(g.text(e)).replace(xt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,l=i<0?a:o?i:0;l<a;l++)if(((n=r[l]).selected||l===i)&&(f.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(t=g(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=g.makeArray(t),s=i.length;s--;)if(g.inArray(g.valHooks.option.get(r=i[s]),o)>-1)try{r.selected=n=!0}catch(e){}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(e,t){if(g.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},f.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var St,wt,Nt=g.expr.attrHandle,Et=/^(?:checked|selected)$/i,Tt=f.getSetAttribute,At=f.input;g.fn.extend({attr:function(e,t){return te(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){g.removeAttr(this,e)})}}),g.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?g.prop(e,t,n):(1===o&&g.isXMLDoc(e)||(t=t.toLowerCase(),i=g.attrHooks[t]||(g.expr.match.bool.test(t)?wt:St)),void 0!==n?null===n?void g.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=g.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&g.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(F);if(o&&1===e.nodeType)for(;n=o[i++];)r=g.propFix[n]||n,g.expr.match.bool.test(n)?At&&Tt||!Et.test(n)?e[r]=!1:e[g.camelCase("default-"+n)]=e[r]=!1:g.attr(e,n,""),e.removeAttribute(Tt?n:r)}}),wt={set:function(e,t,n){return!1===t?g.removeAttr(e,n):At&&Tt||!Et.test(n)?e.setAttribute(!Tt&&g.propFix[n]||n,n):e[g.camelCase("default-"+n)]=e[n]=!0,n}},g.each(g.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Nt[t]||g.find.attr;Nt[t]=At&&Tt||!Et.test(t)?function(e,t,r){var i,o;return r||(o=Nt[t],Nt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Nt[t]=o),i}:function(e,t,n){if(!n)return e[g.camelCase("default-"+t)]?t.toLowerCase():null}}),At&&Tt||(g.attrHooks.value={set:function(e,t,n){if(!g.nodeName(e,"input"))return St&&St.set(e,t,n);e.defaultValue=t}}),Tt||(St={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Nt.id=Nt.name=Nt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},g.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:St.set},g.attrHooks.contenteditable={set:function(e,t,n){St.set(e,""!==t&&t,n)}},g.each(["width","height"],function(e,t){g.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),f.style||(g.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ct=/^(?:input|select|textarea|button|object)$/i,kt=/^(?:a|area)$/i;g.fn.extend({prop:function(e,t){return te(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return e=g.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),g.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&g.isXMLDoc(e)||(i=g.propHooks[t=g.propFix[t]||t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.hrefNormalized||g.each(["href","src"],function(e,t){g.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),f.optSelected||(g.propHooks.selected={get:function(e){return null},set:function(e){}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this}),f.enctype||(g.propFix.enctype="encoding");var Mt=/[\t\r\n\f]/g;function _t(e){return g.attr(e,"class")||""}g.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,l=0;if(g.isFunction(e))return this.each(function(t){g(this).addClass(e.call(this,t,_t(this)))});if("string"==typeof e&&e)for(t=e.match(F)||[];n=this[l++];)if(i=_t(n),r=1===n.nodeType&&(" "+i+" ").replace(Mt," ")){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=g.trim(r))&&g.attr(n,"class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,l=0;if(g.isFunction(e))return this.each(function(t){g(this).removeClass(e.call(this,t,_t(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(F)||[];n=this[l++];)if(i=_t(n),r=1===n.nodeType&&(" "+i+" ").replace(Mt," ")){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=g.trim(r))&&g.attr(n,"class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each(function(n){g(this).toggleClass(e.call(this,n,_t(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=g(this),o=e.match(F)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=_t(this))&&g._data(this,"__className__",t),g.attr(this,"class",t||!1===e?"":g._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+_t(n)+" ").replace(Mt," ").indexOf(t)>-1)return!0;return!1}}),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Ot=r.location,It=g.now(),Lt=/\?/,Rt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;g.parseJSON=function(e){if(r.JSON&&r.JSON.parse)return r.JSON.parse(e+"");var t,n=null,i=g.trim(e+"");return i&&!g.trim(i.replace(Rt,function(e,r,i,o){return t&&r&&(n=0),0===n?e:(t=i||r,n+=!o-!i,"")}))?Function("return "+i)():g.error("Invalid JSON: "+e)},g.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{r.DOMParser?t=(new r.DOMParser).parseFromString(e,"text/xml"):((t=new r.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+e),t};var Dt=/#.*$/,Ft=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qt=/^(?:GET|HEAD)$/,Bt=/^\/\//,jt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zt={},Ht={},Ut="*/".concat("*"),$t=Ot.href,Gt=jt.exec($t.toLowerCase())||[];function Vt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(F)||[];if(g.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Wt(e,t,n,r){var i={},o=e===Ht;function s(a){var l;return i[a]=!0,g.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Qt(e,t){var n,r,i=g.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&g.extend(!0,e,n),e}function Xt(e){return e.style&&e.style.display||g.css(e,"display")}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$t,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Gt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qt(Qt(e,g.ajaxSettings),t):Qt(g.ajaxSettings,e)},ajaxPrefilter:Vt(zt),ajaxTransport:Vt(Ht),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var n,i,o,s,a,l,c,u,h=g.ajaxSetup({},t=t||{}),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?g(d):g.event,f=g.Deferred(),m=g.Callbacks("once memory"),y=h.statusCode||{},v={},b={},x=0,S="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!u)for(u={};t=Pt.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||S;return c&&c.abort(t),N(0,t),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||$t)+"").replace(Dt,"").replace(Bt,Gt[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=g.trim(h.dataType||"*").toLowerCase().match(F)||[""],null==h.crossDomain&&(n=jt.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===Gt[1]&&n[2]===Gt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Gt[3]||("http:"===Gt[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=g.param(h.data,h.traditional)),Wt(zt,h,t,w),2===x)return w;for(i in(l=g.event&&h.global)&&0==g.active++&&g.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!qt.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Lt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Ft.test(o)?o.replace(Ft,"$1_="+It++):o+(Lt.test(o)?"&":"?")+"_="+It++)),h.ifModified&&(g.lastModified[o]&&w.setRequestHeader("If-Modified-Since",g.lastModified[o]),g.etag[o]&&w.setRequestHeader("If-None-Match",g.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ut+"; q=0.01":""):h.accepts["*"]),h.headers)w.setRequestHeader(i,h.headers[i]);if(h.beforeSend&&(!1===h.beforeSend.call(d,w,h)||2===x))return w.abort();for(i in S="abort",{success:1,error:1,complete:1})w[i](h[i]);if(c=Wt(Ht,h,t,w)){if(w.readyState=1,l&&p.trigger("ajaxSend",[w,h]),2===x)return w;h.async&&h.timeout>0&&(a=r.setTimeout(function(){w.abort("timeout")},h.timeout));try{x=1,c.send(v,N)}catch(e){if(!(x<2))throw e;N(-1,e)}}else N(-1,"No Transport");function N(e,t,n,i){var u,v,b,S,N,E=t;2!==x&&(x=2,a&&r.clearTimeout(a),c=void 0,s=i||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(S=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}r||(r=s)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}(h,w,n)),S=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(h,S,w,u),u?(h.ifModified&&((N=w.getResponseHeader("Last-Modified"))&&(g.lastModified[o]=N),(N=w.getResponseHeader("etag"))&&(g.etag[o]=N)),204===e||"HEAD"===h.type?E="nocontent":304===e?E="notmodified":(E=S.state,v=S.data,u=!(b=S.error))):(b=E,!e&&E||(E="error",e<0&&(e=0))),w.status=e,w.statusText=(t||E)+"",u?f.resolveWith(d,[v,E,w]):f.rejectWith(d,[w,E,b]),w.statusCode(y),y=void 0,l&&p.trigger(u?"ajaxSuccess":"ajaxError",[w,h,u?v:b]),m.fireWith(d,[w,E]),l&&(p.trigger("ajaxComplete",[w,h]),--g.active||g.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],function(e,t){g[t]=function(e,n,r,i){return g.isFunction(n)&&(i=i||r,r=n,n=void 0),g.ajax(g.extend({url:e,type:t,dataType:i,data:n,success:r},g.isPlainObject(e)&&e))}}),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){if(g.isFunction(e))return this.each(function(t){g(this).wrapAll(e.call(this,t))});if(this[0]){var t=g(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return g.isFunction(e)?this.each(function(t){g(this).wrapInner(e.call(this,t))}):this.each(function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g.isFunction(e);return this.each(function(n){g(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)}).end()}}),g.expr.filters.hidden=function(e){return f.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function(e){if(!g.contains(e.ownerDocument||s,e))return!0;for(;e&&1===e.nodeType;){if("none"===Xt(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}(e)},g.expr.filters.visible=function(e){return!g.expr.filters.hidden(e)};var Yt=/%20/g,Kt=/\[\]$/,Zt=/\r?\n/g,Jt=/^(?:submit|button|image|reset|file)$/i,en=/^(?:input|select|textarea|keygen)/i;function tn(e,t,n,r){var i;if(g.isArray(t))g.each(t,function(t,i){n||Kt.test(e)?r(e,i):tn(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==g.type(t))r(e,t);else for(i in t)tn(e+"["+i+"]",t[i],n,r)}g.param=function(e,t){var n,r=[],i=function(e,t){t=g.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,function(){i(this.name,this.value)});else for(n in e)tn(n,e[n],t,i);return r.join("&").replace(Yt,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&en.test(this.nodeName)&&!Jt.test(e)&&(this.checked||!ne.test(e))}).map(function(e,t){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,function(e){return{name:t.name,value:e.replace(Zt,"\r\n")}}):{name:t.name,value:n.replace(Zt,"\r\n")}}).get()}}),g.ajaxSettings.xhr=void 0!==r.ActiveXObject?function(){return this.isLocal?an():s.documentMode>8?sn():/^(get|post|head|put|delete|options)$/i.test(this.type)&&sn()||an()}:sn;var nn=0,rn={},on=g.ajaxSettings.xhr();function sn(){try{return new r.XMLHttpRequest}catch(e){}}function an(){try{return new r.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}r.attachEvent&&r.attachEvent("onunload",function(){for(var e in rn)rn[e](void 0,!0)}),f.cors=!!on&&"withCredentials"in on,(on=f.ajax=!!on)&&g.ajaxTransport(function(e){var t;if(!e.crossDomain||f.cors)return{send:function(n,i){var o,s=e.xhr(),a=++nn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[o]&&s.setRequestHeader(o,n[o]+"");s.send(e.hasContent&&e.data||null),t=function(n,r){var o,l,c;if(t&&(r||4===s.readyState))if(delete rn[a],t=void 0,s.onreadystatechange=g.noop,r)4!==s.readyState&&s.abort();else{c={},o=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(e){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&i(o,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?r.setTimeout(t):s.onreadystatechange=rn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),g.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=s.head||g("head")[0]||s.documentElement;return{send:function(r,i){(t=s.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ln=[],cn=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ln.pop()||g.expando+"_"+It++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(cn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&cn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(cn,"$1"+i):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||g.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always(function(){void 0===o?g(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,ln.push(i)),s&&g.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),g.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||s;var r=A.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=fe([e],t,i),i&&i.length&&g(i).remove(),g.merge([],r.childNodes))};var un=g.fn.load;function hn(e){return g.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}g.fn.load=function(e,t,n){if("string"!=typeof e&&un)return un.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=g.trim(e.slice(a,e.length)),e=e.slice(0,a)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&g.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?g("<div>").append(g.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}}),g.expr.filters.animated=function(e){return g.grep(g.timers,function(t){return e===t.elem}).length},g.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=g.css(e,"position"),u=g(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=g.css(e,"top"),l=g.css(e,"left"),("absolute"===c||"fixed"===c)&&g.inArray("auto",[o,l])>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,n,g.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):u.css(h)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){g.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?g.contains(t=o.documentElement,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=hn(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r:void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===g.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),g.nodeName(e[0],"html")||(n=e.offset()),n.top+=g.css(e[0],"borderTopWidth",!0),n.left+=g.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-g.css(r,"marginTop",!0),left:t.left-n.left-g.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!g.nodeName(e,"html")&&"static"===g.css(e,"position");)e=e.offsetParent;return e||Ve})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);g.fn[e]=function(r){return te(this,function(e,r,i){var o=hn(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?g(o).scrollLeft():i,n?i:g(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),g.each(["top","left"],function(e,t){g.cssHooks[t]=Ye(f.pixelPosition,function(e,n){if(n)return n=Qe(e,t),$e.test(n)?g(e).position()[t]+"px":n})}),g.each({Height:"height",Width:"width"},function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){g.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return te(this,function(t,n,r){var i;return g.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?g.css(t,n,s):g.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),g.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),g.fn.size=function(){return this.length},g.fn.andSelf=g.fn.addBack,void 0===(n=(function(){return g}).apply(t,[]))||(e.exports=n);var dn=r.jQuery,pn=r.$;return g.noConflict=function(e){return r.$===g&&(r.$=pn),e&&r.jQuery===g&&(r.jQuery=dn),g},i||(r.jQuery=r.$=g),g},"object"==typeof e.exports?e.exports=r.document?i(r,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(r)},143:function(module,__unused_webpack_exports,__webpack_require__){var __dirname="/",e;e=()=>(()=>{var __webpack_modules__={460:(__unused_webpack___webpack_module__,__nested_webpack_exports__,__nested_webpack_require_302__)=>{__nested_webpack_require_302__.d(__nested_webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _variables_js__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_302__(507);class SystemExternal{static extRequire(library){if("undefined"!=typeof process){const nodeRequire=eval("require");return nodeRequire(library)}return null}}SystemExternal.windowSupported=!("undefined"==typeof window),SystemExternal.documentSupported=SystemExternal.windowSupported&&!(void 0===window.document),SystemExternal.xmldom=SystemExternal.documentSupported?window:SystemExternal.extRequire("@xmldom/xmldom"),SystemExternal.document=SystemExternal.documentSupported?window.document:(new SystemExternal.xmldom.DOMImplementation).createDocument("","",0),SystemExternal.xpath=SystemExternal.documentSupported?document:function(){const e={document:{},XPathResult:{}};return SystemExternal.extRequire("wicked-good-xpath").install(e),e.document.XPathResult=e.XPathResult,e.document}(),SystemExternal.mathmapsIePath="https://cdn.jsdelivr.net/npm/sre-mathmaps-ie@"+_variables_js__WEBPACK_IMPORTED_MODULE_0__.L.VERSION+"mathmaps_ie.js",SystemExternal.commander=SystemExternal.documentSupported?null:SystemExternal.extRequire("commander"),SystemExternal.fs=SystemExternal.documentSupported?null:SystemExternal.extRequire("fs"),SystemExternal.url=_variables_js__WEBPACK_IMPORTED_MODULE_0__.L.url,SystemExternal.jsonPath=(SystemExternal.documentSupported?SystemExternal.url:process.env.SRE_JSON_PATH||__webpack_require__.g.SRE_JSON_PATH||__dirname+"/mathmaps")+"/",SystemExternal.WGXpath=_variables_js__WEBPACK_IMPORTED_MODULE_0__.L.WGXpath,SystemExternal.wgxpath=null;const __WEBPACK_DEFAULT_EXPORT__=SystemExternal},507:(e,t,n)=>{n.d(t,{L:()=>r});class r{static ensureLocale(e,t){return r.LOCALES.get(e)?e:(console.error(`Locale ${e} does not exist! Using ${r.LOCALES.get(t)} instead.`),t)}}r.VERSION="4.1.0-beta.7",r.LOCALES=new Map([["ca","Catalan"],["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["euro","Euro"],["fr","French"],["hi","Hindi"],["it","Italian"],["ko","Korean"],["nb","Bokm\xe5l"],["nn","Nynorsk"],["sv","Swedish"],["nemeth","Nemeth"]]),r.mathjaxVersion="4.0.0-beta.1",r.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+r.VERSION+"/lib/mathmaps",r.WGXpath="https://cdn.jsdelivr.net/npm/wicked-good-xpath@1.3.0/dist/wgxpath.install.js"}},__webpack_module_cache__={};function __nested_webpack_require_2738__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__nested_webpack_require_2738__),n.exports}__nested_webpack_require_2738__.d=(e,t)=>{for(var n in t)__nested_webpack_require_2738__.o(t,n)&&!__nested_webpack_require_2738__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_2738__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_2738__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__={};return(()=>{__nested_webpack_require_2738__.r(__nested_webpack_exports__),__nested_webpack_require_2738__.d(__nested_webpack_exports__,{cli:()=>Cu,engineReady:()=>lu,engineSetup:()=>au,exit:()=>Eu,file:()=>xu,localeLoader:()=>cu,localePath:()=>Tu,move:()=>Nu,number:()=>mu,numericOrdinal:()=>yu,ordinal:()=>gu,processFile:()=>Su,setupEngine:()=>su,toDescription:()=>pu,toEnriched:()=>fu,toJson:()=>du,toSemantic:()=>hu,toSpeech:()=>uu,variables:()=>ku,version:()=>ou,vulgar:()=>vu,walk:()=>wu});var e,t,n,r={};__nested_webpack_require_2738__.r(r),__nested_webpack_require_2738__.d(r,{engineReady:()=>lu,engineSetup:()=>au,exit:()=>Eu,file:()=>xu,localeLoader:()=>cu,localePath:()=>Tu,move:()=>Nu,number:()=>mu,numericOrdinal:()=>yu,ordinal:()=>gu,processFile:()=>Su,setupEngine:()=>su,toDescription:()=>pu,toEnriched:()=>fu,toJson:()=>du,toSemantic:()=>hu,toSpeech:()=>uu,version:()=>ou,vulgar:()=>vu,walk:()=>wu}),function(e){e.DOMAIN="domain",e.STYLE="style",e.LOCALE="locale",e.TOPIC="topic",e.MODALITY="modality"}(e||(e={}));class i{static createProp(...e){const t=o.DEFAULT_ORDER,n={};for(let r=0,i=e.length,o=t.length;r<i&&r<o;r++)n[t[r]]=e[r];return new i(n)}constructor(e,t=Object.keys(e)){this.properties=e,this.order=t}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(e){return this.properties[e]}updateProperties(e){this.properties=e}allProperties(){const e=[];return this.order.forEach(t=>e.push(this.getProperty(t).slice())),e}toString(){const e=[];return this.order.forEach(t=>e.push(t+": "+this.getProperty(t).toString())),e.join("\n")}}class o extends i{static createCstr(...e){const t=o.DEFAULT_ORDER,n={};for(let r=0,i=e.length,o=t.length;r<i&&r<o;r++)n[t[r]]=e[r];return new o(n)}static defaultCstr(){return o.createCstr.apply(null,o.DEFAULT_ORDER.map(function(e){return o.DEFAULT_VALUES[e]}))}static validOrder(e){const t=o.DEFAULT_ORDER.slice();return e.every(e=>{const n=t.indexOf(e);return-1!==n&&t.splice(n,1)})}constructor(e,t){const n={};for(const[r,i]of Object.entries(e))n[r]=[i];super(n,t),this.components=e}getComponents(){return this.components}getValue(e){return this.components[e]}getValues(){return this.order.map(e=>this.getValue(e))}allProperties(){const e=super.allProperties();for(let t,n,r=0;t=e[r],n=this.order[r];r++){const e=this.getValue(n);-1===t.indexOf(e)&&t.unshift(e)}return e}toString(){return this.getValues().join(".")}equal(e){const t=e.getAxes();if(this.order.length!==t.length)return!1;for(let n,r=0;n=t[r];r++){const t=this.getValue(n);if(!t||e.getValue(n)!==t)return!1}return!0}}o.DEFAULT_ORDER=[e.LOCALE,e.MODALITY,e.DOMAIN,e.STYLE,e.TOPIC],o.BASE_LOCALE="base",o.DEFAULT_VALUE="default",o.DEFAULT_VALUES={[e.LOCALE]:"en",[e.DOMAIN]:o.DEFAULT_VALUE,[e.STYLE]:o.DEFAULT_VALUE,[e.TOPIC]:o.DEFAULT_VALUE,[e.MODALITY]:"speech"};class s{constructor(e){this.order=e}parse(e){const t=e.split("."),n={};if(t.length>this.order.length)throw new Error("Invalid dynamic constraint: "+n);let r=0;for(let i,o=0;i=this.order[o],t.length;o++,r++){const e=t.shift();n[i]=e}return new o(n,this.order.slice(0,r))}}class a{constructor(e,t=new i(e.getProperties(),e.getOrder())){this.reference=e,this.fallback=t,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(e,t){this.reference=e,this.fallback=t||new i(e.getProperties(),e.getOrder()),this.order=this.reference.getOrder()}match(e){const t=e.getAxes();return t.length===this.reference.getAxes().length&&t.every(t=>{const n=e.getValue(t);return n===this.reference.getValue(t)||-1!==this.fallback.getProperty(t).indexOf(n)})}compare(e,t){let n=!1;for(let r,i=0;r=this.order[i];i++){const i=e.getValue(r),o=t.getValue(r);if(!n){const e=this.reference.getValue(r);if(e===i&&e!==o)return-1;if(e===o&&e!==i)return 1;if(e===i&&e===o)continue;e!==i&&e!==o&&(n=!0)}const s=this.fallback.getProperty(r),a=s.indexOf(i),l=s.indexOf(o);if(a<l)return-1;if(l<a)return 1}return 0}toString(){return this.reference.toString()+"\n"+this.fallback.toString()}}!function(e){e.SYNC="sync",e.ASYNC="async",e.HTTP="http"}(t||(t={})),function(e){e.PITCH="pitch",e.RATE="rate",e.VOLUME="volume",e.PAUSE="pause",e.JOIN="join",e.LAYOUT="layout"}(n||(n={}));const l=[n.PITCH,n.RATE,n.VOLUME,n.PAUSE,n.JOIN];var c,u;!function(e){e.NONE="none",e.SHALLOW="shallow",e.DEEP="deep"}(c||(c={})),function(e){e.NONE="none",e.LAYOUT="layout",e.PUNCTUATION="punctuation",e.SSML="ssml",e.ACSS="acss",e.SABLE="sable",e.VOICEXML="voicexml"}(u||(u={}));const h={mathspeak:"default",clearspeak:"default"};var d=__nested_webpack_require_2738__(460);class p{static getInstance(){return p.instance=p.instance||new p,p.instance}init(e){return e&&this.startDebugFile_(e),this.isActive_=!0,this.fileHandle}output(...e){this.isActive_&&this.output_(e)}generateOutput(e){this.isActive_&&this.output_(e.apply(e,[]))}exit(e=(()=>{})){this.fileHandle.then(()=>{this.isActive_&&this.stream_&&this.stream_.end("","",e)})}constructor(){this.isActive_=!1,this.outputFunction_=console.info,this.fileHandle=Promise.resolve(),this.stream_=null}startDebugFile_(e){this.fileHandle=d.Z.fs.promises.open(e,"w"),this.fileHandle=this.fileHandle.then(t=>{this.stream_=t.createWriteStream(e),this.outputFunction_=(function(...e){this.stream_.write(e.join(" ")),this.stream_.write("\n")}).bind(this),this.stream_.on("error",(function(e){console.info("Invalid log file. Debug information sent to console."),this.outputFunction_=console.info}).bind(this)),this.stream_.on("finish",function(){console.info("Finalizing debug file.")})})}output_(e){console.info!==this.outputFunction_?this.fileHandle.then(()=>this.outputFunction_.apply(this.outputFunction_,["Speech Rule Engine Debugger:"].concat(e))):this.outputFunction_.apply(console,["Speech Rule Engine Debugger:"].concat(e))}}var f=__nested_webpack_require_2738__(507);class m extends Error{constructor(e=""){super(),this.message=e,this.name="SRE Error"}}class g{set defaultLocale(e){this._defaultLocale=f.L.ensureLocale(e,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return g.instance=g.instance||new g,g.instance}static defaultEvaluator(e,t){return e}static evaluateNode(e){return g.nodeEvaluator(e)}getRate(){const e=parseInt(this.rate,10);return isNaN(e)?100:e}setDynamicCstr(t){if(this.defaultLocale&&(o.DEFAULT_VALUES[e.LOCALE]=this.defaultLocale),t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];-1!==o.DEFAULT_ORDER.indexOf(r)&&(this[r]=t[r])}}h[this.domain]=this.style;const n=[this.locale,this.modality,this.domain,this.style].join("."),r=i.createProp([o.DEFAULT_VALUES[e.LOCALE]],[o.DEFAULT_VALUES[e.MODALITY]],[o.DEFAULT_VALUES[e.DOMAIN]],[o.DEFAULT_VALUES[e.STYLE]]),s=this.comparators[this.domain];this.parser=this.parsers[this.domain]||this.defaultParser,this.dynamicCstr=this.parser.parse(n),this.dynamicCstr.updateProperties(r.getProperties()),this.comparator=s?s():new a(this.dynamicCstr)}constructor(){this.customLoader=null,this.parsers={},this.comparator=null,this.mode=t.SYNC,this.init=!0,this.delay=!1,this.comparators={},this.domain="mathspeak",this.style=o.DEFAULT_VALUES[e.STYLE],this._defaultLocale=o.DEFAULT_VALUES[e.LOCALE],this.locale=this.defaultLocale,this.subiso="",this.modality=o.DEFAULT_VALUES[e.MODALITY],this.speech=c.NONE,this.markup=u.NONE,this.mark=!0,this.automark=!1,this.character=!0,this.cleanpause=!0,this.rate="100",this.walker="Table",this.structure=!1,this.aria=!1,this.ruleSets=[],this.strict=!1,this.isIE=!1,this.isEdge=!1,this.pprint=!1,this.config=!1,this.rules="",this.prune="",this.evaluator=g.defaultEvaluator,this.defaultParser=new s(o.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=o.defaultCstr()}configurate(e){this.mode!==t.HTTP||this.config||(function(e){const t=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]');for(let n=0,r=t.length;n<r;n++){let r;try{r=t[n].innerHTML;const i=JSON.parse(r);for(const[t,n]of Object.entries(i))e[t]=n}catch(e){p.getInstance().output("Illegal configuration ",r)}}}(e),this.config=!0),function(e){if("undefined"!=typeof SREfeature)for(const[t,n]of Object.entries(SREfeature))e[t]=n}(e)}setCustomLoader(e){e&&(this.customLoader=e)}}g.BINARY_FEATURES=["automark","mark","character","cleanpause","strict","structure","aria","pprint"],g.STRING_FEATURES=["markup","style","domain","speech","walker","defaultLocale","locale","delay","modality","rate","rules","subiso","prune"],g.nodeEvaluator=function(e){return[]};const y=g;class v{static get(e=g.getInstance().locale){return v.promises[e]||Promise.resolve("")}static getall(){return Promise.all(Object.values(v.promises))}}function b(){return"undefined"!=typeof XPathResult}v.loaded={},v.promises={};const x={currentDocument:null,evaluate:b()?document.evaluate:d.Z.xpath.evaluate,result:b()?XPathResult:d.Z.xpath.XPathResult,createNSResolver:b()?document.createNSResolver:d.Z.xpath.createNSResolver},S={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function w(e){return S[e]||null}class N{constructor(){this.lookupNamespaceURI=w}}function E(e,n,r){return y.getInstance().mode!==t.HTTP||y.getInstance().isIE||y.getInstance().isEdge?x.evaluate(e,n,new N,r,null):x.currentDocument.evaluate(e,n,w,r,null)}function T(e,t){let n;try{n=E(e,t,x.result.ORDERED_NODE_ITERATOR_TYPE)}catch(e){return[]}const r=[];for(let i=n.iterateNext();i;i=n.iterateNext())r.push(i);return r}function A(e){if(y.getInstance().mode!==t.HTTP)return;let n=e;for(;n&&!n.evaluate;)n=n.parentNode;n&&n.evaluate?x.currentDocument=n:e.ownerDocument&&(x.currentDocument=e.ownerDocument)}function C(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function k(e){const n=new d.Z.xmldom.DOMParser,r=function(e){return(e=e.replace(/&nbsp;/g,"\xa0")).replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim()}(e),i=!!r.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!r)throw new Error("Empty input!");try{const e=n.parseFromString(r,i?"text/html":"text/xml");return y.getInstance().mode===t.HTTP?(x.currentDocument=e,i?e.body.childNodes[0]:e.documentElement):e.documentElement}catch(e){throw new m("Illegal input: "+e.message)}}var M;function _(e,t){e.parentNode&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e))}function O(e){return d.Z.document.createElement(e)}function I(e,t){return d.Z.document.createElementNS(e,t)}function L(e){let t="",n=/(>)(<)(\/*)/g,r=0,i=(e=e.replace(n,"$1\r\n$2$3")).split("\r\n");for(n=/(\.)*(<)(\/*)/g,i=i.map(e=>e.replace(n,"$1\r\n$2$3").split("\r\n")).reduce((e,t)=>e.concat(t),[]);i.length;){let e=i.shift();if(!e)continue;let n=0;if(e.match(/^<\w[^>/]*>[^>]+$/)){const t=R(e,i[0]);t[0]?t[1]?(e+=i.shift().slice(0,-t[1].length),t[1].trim()&&i.unshift(t[1])):e+=i.shift():n=1}else if(e.match(/^<\/\w/))0!==r&&(r-=1);else if(e.match(/^<\w[^>]*[^/]>.*$/))n=1;else if(e.match(/^<\w[^>]*\/>.+$/)){const t=e.indexOf(">")+1,n=e.slice(t);n.trim()&&i.unshift(),e=e.slice(0,t)+n}else n=0;t+=new Array(r+1).join("  ")+e+"\r\n",r+=n}return t}function R(e,t){if(!t)return[!1,""];const n=e.match(/^<([^> ]+).*>/),r=t.match(/^<\/([^>]+)>(.*)/);return n&&r&&n[1]===r[1]?[!0,r[2]]:[!1,""]}function D(e,t,n){return e.querySelectorAll?C(e.querySelectorAll(`[${t}="${n}"]`)):T(`.//*[@${t}="${n}"]`,e)}function F(e,t){return e.querySelectorAll?C(e.querySelectorAll(t)):T(`.//${t}`,e)}function P(e){return e.tagName.toUpperCase()}function q(e){return e.cloneNode(!0)}function B(e){return(new d.Z.xmldom.XMLSerializer).serializeToString(e)}function j(e,t){return e.toString()}function z(e){return e.toString()}function H(e,t){return e+t.toLowerCase()}!function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",e[e.NOTATION_NODE=12]="NOTATION_NODE"}(M||(M={}));const U={};function $(e,t=""){if(!e.childNodes||!e.childNodes[0]||!e.childNodes[0].childNodes||e.childNodes[0].childNodes.length<2||"number"!==e.childNodes[0].childNodes[0].tagName||"integer"!==e.childNodes[0].childNodes[0].getAttribute("role")||"number"!==e.childNodes[0].childNodes[1].tagName||"integer"!==e.childNodes[0].childNodes[1].getAttribute("role"))return{convertible:!1,content:e.textContent};const n=e.childNodes[0].childNodes[1].textContent,r=e.childNodes[0].childNodes[0].textContent,i=Number(n),o=Number(r);return isNaN(i)||isNaN(o)?{convertible:!1,content:`${r} ${t} ${n}`}:{convertible:!0,enumerator:o,denominator:i}}function G(e,t,n){const r=$(e);if(r.convertible){const e=r.enumerator,i=r.denominator;return e>0&&e<t&&i>0&&i<n}return!1}function V(){return{zero:"zero",ones:[],tens:[],large:[],special:{},wordOrdinal:z,numericOrdinal:z,numberToWords:z,numberToOrdinal:j,vulgarSep:" ",numSep:" "}}U.identityCombiner=function(e,t,n){return e+t+n},U.prefixCombiner=function(e,t,n){return e=n?n+" "+e:e,t?t+" "+e:e},U.postfixCombiner=function(e,t,n){return e=n?n+" "+e:e,t?e+" "+t:e},U.romanceCombiner=function(e,t,n){return e=n?e+" "+n:e,t?e+" "+t:e};const W=Q();function Q(){return{FUNCTIONS:{fracNestDepth:e=>G(e,10,100),radicalNestDepth:e=>"",combineRootIndex:function(e,t){return e},combineNestedFraction:U.identityCombiner,combineNestedRadical:U.identityCombiner,fontRegexp:function(e){return new RegExp("^"+e.split(/ |-/).join("( |-)")+"( |-)")},si:H,plural:z},MESSAGES:{MS:{},MSroots:{},font:{},embellish:{},role:{},enclose:{},navigate:{},regexp:{},unitTimes:""},ALPHABETS:{latinSmall:[],latinCap:[],greekSmall:[],greekCap:[],capPrefix:{default:""},smallPrefix:{default:""},digitPrefix:{default:""},languagePrefix:{},digitTrans:{default:z,mathspeak:z,clearspeak:z},letterTrans:{default:z},combiner:(e,t,n)=>e},NUMBERS:V(),COMBINERS:{},CORRECTIONS:{},SUBISO:{default:"",current:"",all:[]}}}function X(e){switch(e){case 1:return W.MESSAGES.MS.ONCE||"";case 2:return W.MESSAGES.MS.TWICE;default:return e.toString()}}function Y(e,t){return e===W.MESSAGES.MS.ROOTINDEX||e===W.MESSAGES.MS.INDEX?e:e+" "+t}function K(e){return Z(W.MESSAGES.font[e],e)}function Z(e,t){return void 0===e?t:"string"==typeof e?e:e[0]}const J="grammar";class ee{static getInstance(){return ee.instance=ee.instance||new ee,ee.instance}static parseInput(e){const t={},n=e.split(":");for(const r of n){const e=r.split("="),n=e[0].trim();e[1]?t[n]=e[1].trim():n.match(/^!/)?t[n.slice(1)]=!1:t[n]=!0}return t}static parseState(e){const t={},n=e.split(" ");for(const r of n){const e=r.split(":");t[e[0]]=e[1]||!0}return t}static translateString(e){if(e.match(/:unit$/))return ee.translateUnit(e);const t=y.getInstance();let n=t.evaluator(e,t.dynamicCstr);return n=null===n?e:n,ee.getInstance().getParameter("plural")&&(n=W.FUNCTIONS.plural(n)),n}static translateUnit(e){e=ee.prepareUnit(e);const t=y.getInstance(),n=ee.getInstance().getParameter("plural"),r=t.strict,i=`${t.locale}.${t.modality}.default`;let o,s;return t.strict=!0,n&&(o=t.defaultParser.parse(i+".plural"),s=t.evaluator(e,o)),s?(t.strict=r,s):(o=t.defaultParser.parse(i+".default"),s=t.evaluator(e,o),t.strict=r,s?(n&&(s=W.FUNCTIONS.plural(s)),s):ee.cleanUnit(e))}static prepareUnit(e){const t=e.match(/:unit$/);return t?e.slice(0,t.index).replace(/\s+/g," ")+e.slice(t.index):e}static cleanUnit(e){return e.match(/:unit$/)?e.replace(/:unit$/,""):e}clear(){this.parameters_={},this.stateStack_=[]}setParameter(e,t){const n=this.parameters_[e];return t?this.parameters_[e]=t:delete this.parameters_[e],n}getParameter(e){return this.parameters_[e]}setCorrection(e,t){this.corrections_[e]=t}setPreprocessor(e,t){this.preprocessors_[e]=t}getCorrection(e){return this.corrections_[e]}getState(){const e=[];for(const[t,n]of Object.entries(this.parameters_))e.push("string"==typeof n?t+":"+n:t);return e.join(" ")}processSingles(){const e={};for(const t of this.singles)e[t]=!1;this.singles=[],this.pushState(e)}pushState(e){for(let[t,n]of Object.entries(e))t.match(/^\?/)&&(delete e[t],t=t.slice(1),this.singles.push(t)),e[t]=this.setParameter(t,n);this.stateStack_.push(e)}popState(){const e=this.stateStack_.pop();for(const[t,n]of Object.entries(e))this.setParameter(t,n)}setAttribute(e){if(e&&e.nodeType===M.ELEMENT_NODE){const t=this.getState();t&&e.setAttribute(J,t)}}preprocess(e){return this.runProcessors(e,this.preprocessors_)}correct(e){return this.runProcessors(e,this.corrections_)}apply(e,t){return this.currentFlags=t||{},e=this.currentFlags.adjust||this.currentFlags.preprocess?ee.getInstance().preprocess(e):e,(this.parameters_.translate||this.currentFlags.translate)&&(e=ee.translateString(e)),e=this.currentFlags.adjust||this.currentFlags.correct?ee.getInstance().correct(e):e,this.currentFlags={},e}runProcessors(e,t){for(const[n,r]of Object.entries(this.parameters_)){const i=t[n];i&&(e=!0===r?i(e):i(e,r))}return e}constructor(){this.currentFlags={},this.parameters_={},this.corrections_={},this.preprocessors_={},this.stateStack_=[],this.singles=[]}}function te(e,t){if(!t||!e)return e;const n=W.FUNCTIONS.fontRegexp(K(t));return e.replace(n,"")}function ne(e){const t=e%1e3,n=Math.floor(t/100),r=n?1===n?"cent":oe.ones[n]+"-cents":"",i=function(e){const t=e%100;if(t<20)return oe.ones[t];const n=Math.floor(t/10),r=oe.tens[n],i=oe.ones[t%10];return r&&i?r+(2===n?"-i-":"-")+i:r||i}(t%100);return r&&i?r+oe.numSep+i:r||i}function re(e){if(0===e)return oe.zero;if(e>=Math.pow(10,36))return e.toString();let t=0,n="";for(;e>0;){const r=e%(t>1?1e6:1e3);if(r){let e=oe.large[t];if(t)if(1===t)n=(1===r?"":ne(r)+oe.numSep)+e+(n?oe.numSep+n:"");else{const t=re(r);e=1===r?e:e.replace(/\u00f3$/,"ons"),n=t+oe.numSep+e+(n?oe.numSep+n:"")}else n=ne(r)}e=Math.floor(e/(t>1?1e6:1e3)),t++}return n}function ie(e){const t=ee.getInstance().getParameter("gender");return e.toString()+("f"===t?"a":"n")}ee.getInstance().setCorrection("localFont",K),ee.getInstance().setCorrection("localRole",function(e){return Z(W.MESSAGES.role[e],e)}),ee.getInstance().setCorrection("localEnclose",function(e){return Z(W.MESSAGES.enclose[e],e)}),ee.getInstance().setCorrection("ignoreFont",te),ee.getInstance().setPreprocessor("annotation",function(e,t){return e+":"+t}),ee.getInstance().setPreprocessor("noTranslateText",function(e){return e.match(new RegExp("^["+W.MESSAGES.regexp.TEXT+"]+$"))&&(ee.getInstance().currentFlags.translate=!1),e}),ee.getInstance().setCorrection("ignoreCaps",function(e){let t=W.ALPHABETS.capPrefix[y.getInstance().domain];return void 0===t&&(t=W.ALPHABETS.capPrefix.default),te(e,t)}),ee.getInstance().setPreprocessor("numbers2alpha",function(e){return e.match(/\d+/)?W.NUMBERS.numberToWords(parseInt(e,10)):e});const oe=V();oe.numericOrdinal=ie,oe.numberToWords=re,oe.numberToOrdinal=function(e,t){if(e>1999)return ie(e);if(e<=10)return oe.special.onesOrdinals[e-1];const n=re(e);return n.match(/mil$/)?n.replace(/mil$/,"mil\xb7l\xe8sima"):n.match(/u$/)?n.replace(/u$/,"vena"):n.match(/a$/)?n.replace(/a$/,"ena"):n+(n.match(/e$/)?"na":"ena")};const se=oe,ae=function(e,t,n){return e="sans serif "+(n?n+" "+e:e),t?e+" "+t:e};let le=null;function ce(e,t=!1){return e===pe.ones[1]?t?"et":"en":e}function ue(e,t=!1){let n=e%1e3,r="",i=pe.ones[Math.floor(n/100)];if(r+=i?ce(i,!0)+" hundrede":"",n%=100,n)if(r+=r?" og ":"",i=t?pe.special.smallOrdinals[n]:pe.ones[n],i)r+=i;else{const e=t?pe.special.tensOrdinals[Math.floor(n/10)]:pe.tens[Math.floor(n/10)];i=pe.ones[n%10],r+=i?ce(i)+"og"+e:e}return r}function he(e,t=!1){if(0===e)return pe.zero;if(e>=Math.pow(10,36))return e.toString();let n=0,r="";for(;e>0;){const i=e%1e3;if(i){const e=ue(i,t&&!n);if(n){const t=pe.large[n],o=i>1?"er":"";r=ce(e,n<=1)+" "+t+o+(r?" og ":"")+r}else r=ce(e)+r}e=Math.floor(e/1e3),n++}return r}function de(e){if(e%100)return he(e,!0);const t=he(e);return t.match(/e$/)?t:t+"e"}const pe=V();pe.wordOrdinal=de,pe.numericOrdinal=function(e){return e.toString()+"."},pe.numberToWords=he,pe.numberToOrdinal=function(e,t){return 1===e?t?"hel":"hele":2===e?t?"halv":"halve":de(e)+(t?"dele":"del")};const fe=pe;let me=null;function ge(e,t=!1){return e===xe.ones[1]?t?"eine":"ein":e}function ye(e){let t=e%1e3,n="",r=xe.ones[Math.floor(t/100)];if(n+=r?ge(r)+"hundert":"",t%=100,t)if(n+=n?xe.numSep:"",r=xe.ones[t],r)n+=r;else{const e=xe.tens[Math.floor(t/10)];r=xe.ones[t%10],n+=r?ge(r)+"und"+e:e}return n}function ve(e){if(0===e)return xe.zero;if(e>=Math.pow(10,36))return e.toString();let t=0,n="";for(;e>0;){const r=e%1e3;if(r){const i=ye(e%1e3);if(t){const e=xe.large[t],o=t>1&&r>1?e.match(/e$/)?"n":"en":"";n=ge(i,t>1)+e+o+n}else n=ge(i,t>1)+n}e=Math.floor(e/1e3),t++}return n.replace(/ein$/,"eins")}function be(e){return 1===e?"erste":3===e?"dritte":7===e?"siebte":8===e?"achte":ve(e)+(e<19?"te":"ste")}const xe=V();xe.wordOrdinal=be,xe.numericOrdinal=function(e){return e.toString()+"."},xe.numberToWords=ve,xe.numberToOrdinal=function(e,t){return 1===e?"eintel":2===e?t?"halbe":"halb":be(e)+"l"};const Se=xe,we=function(e,t,n){return"s"===n&&(t=t.split(" ").map(function(e){return e.replace(/s$/,"")}).join(" "),n=""),e=n?n+" "+e:e,t?t+" "+e:e},Ne=function(e,t,n){return e=n&&"s"!==n?n+" "+e:e,t?e+" "+t:e};let Ee=null;function Te(e){let t=e%1e3,n="";return n+=ke.ones[Math.floor(t/100)]?ke.ones[Math.floor(t/100)]+ke.numSep+"hundred":"",t%=100,t&&(n+=n?ke.numSep:"",n+=ke.ones[t]||ke.tens[Math.floor(t/10)]+(t%10?ke.numSep+ke.ones[t%10]:"")),n}function Ae(e){if(0===e)return ke.zero;if(e>=Math.pow(10,36))return e.toString();let t=0,n="";for(;e>0;)e%1e3&&(n=Te(e%1e3)+(t?"-"+ke.large[t]+"-":"")+n),e=Math.floor(e/1e3),t++;return n.replace(/-$/,"")}function Ce(e){let t=Ae(e);return t.match(/one$/)?t=t.slice(0,-3)+"first":t.match(/two$/)?t=t.slice(0,-3)+"second":t.match(/three$/)?t=t.slice(0,-5)+"third":t.match(/five$/)?t=t.slice(0,-4)+"fifth":t.match(/eight$/)?t=t.slice(0,-5)+"eighth":t.match(/nine$/)?t=t.slice(0,-4)+"ninth":t.match(/twelve$/)?t=t.slice(0,-6)+"twelfth":t.match(/ty$/)?t=t.slice(0,-2)+"tieth":t+="th",t}const ke=V();ke.wordOrdinal=Ce,ke.numericOrdinal=function(e){const t=e%100,n=e.toString();if(t>10&&t<20)return n+"th";switch(e%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd";default:return n+"th"}},ke.numberToWords=Ae,ke.numberToOrdinal=function(e,t){if(1===e)return t?"oneths":"oneth";if(2===e)return t?"halves":"half";const n=Ce(e);return t?n+"s":n};const Me=ke;let _e=null;function Oe(e){const t=e%1e3,n=Math.floor(t/100),r=Ie.special.hundreds[n],i=function(e){const t=e%100;if(t<30)return Ie.ones[t];const n=Ie.tens[Math.floor(t/10)],r=Ie.ones[t%10];return n&&r?n+" y "+r:n||r}(t%100);return 1===n?i?r+"to "+i:r:r&&i?r+" "+i:r||i}const Ie=V();Ie.numericOrdinal=function(e){const t=ee.getInstance().getParameter("gender");return e.toString()+("f"===t?"a":"o")},Ie.numberToWords=function(e){if(0===e)return Ie.zero;if(e>=Math.pow(10,36))return e.toString();let t=0,n="";for(;e>0;){const r=e%1e3;if(r){let e=Ie.large[t];const i=Oe(r);t?1===r?(e=e.match("/^mil( |$)/")?e:"un "+e,n=e+(n?" "+n:"")):(e=e.replace(/\u00f3n$/,"ones"),n=Oe(r)+" "+e+(n?" "+n:"")):n=i}e=Math.floor(e/1e3),t++}return n},Ie.numberToOrdinal=function(e,t){if(e>1999)return e.toString()+"a";if(e<=12)return Ie.special.onesOrdinals[e-1];const n=[];if(e>=1e3&&(e-=1e3,n.push("mil\xe9sima")),!e)return n.join(" ");let r=0;return r=Math.floor(e/100),r>0&&(n.push(Ie.special.hundredsOrdinals[r-1]),e%=100),e<=12?n.push(Ie.special.onesOrdinals[e-1]):(r=Math.floor(e/10),r>0&&(n.push(Ie.special.tensOrdinals[r-1]),e%=10),e>0&&n.push(Ie.special.onesOrdinals[e-1])),n.join(" ")};const Le=Ie,Re=function(e,t,n){return e="sans serif "+(n?n+" "+e:e),t?e+" "+t:e};let De=null,Fe=null;function Pe(e){let t=e%1e3,n="";if(n+=ze.ones[Math.floor(t/100)]?ze.ones[Math.floor(t/100)]+"-cent":"",t%=100,t){n+=n?"-":"";let e=ze.ones[t];if(e)n+=e;else{const r=ze.tens[Math.floor(t/10)];r.match(/-dix$/)?(e=ze.ones[t%10+10],n+=r.replace(/-dix$/,"")+"-"+e):n+=r+(t%10?"-"+ze.ones[t%10]:"")}}const r=n.match(/s-\w+$/);return r?n.replace(/s-\w+$/,r[0].slice(1)):n.replace(/-un$/,"-et-un")}function qe(e){if(0===e)return ze.zero;if(e>=Math.pow(10,36))return e.toString();ze.special["tens-"+y.getInstance().subiso]&&(ze.tens=ze.special["tens-"+y.getInstance().subiso]);let t=0,n="";for(;e>0;){const r=e%1e3;if(r){let e=ze.large[t];const i=Pe(r);if(e&&e.match(/^mille /)){const r=e.replace(/^mille /,"");n=n.match(RegExp(r))?i+(t?"-mille-":"")+n:n.match(RegExp(r.replace(/s$/,"")))?i+(t?"-mille-":"")+n.replace(r.replace(/s$/,""),r):i+(t?"-"+e+"-":"")+n}else e=1===r&&e?e.replace(/s$/,""):e,n=i+(t?"-"+e+"-":"")+n}e=Math.floor(e/1e3),t++}return n.replace(/-$/,"")}const Be={1:"uni\xe8me",2:"demi",3:"tiers",4:"quart"};function je(e){if(1===e)return"premi\xe8re";let t=qe(e);return t.match(/^neuf$/)?t=t.slice(0,-1)+"v":t.match(/cinq$/)?t+="u":t.match(/trois$/)?t+="":(t.match(/e$/)||t.match(/s$/))&&(t=t.slice(0,-1)),t+="i\xe8me",t}const ze=V();ze.wordOrdinal=je,ze.numericOrdinal=function(e){const t=ee.getInstance().getParameter("gender");return 1===e?e.toString()+("m"===t?"er":"re"):e.toString()+"e"},ze.numberToWords=qe,ze.numberToOrdinal=function(e,t){const n=Be[e]||je(e);return 3===e?n:t?n+"s":n};const He=ze;let Ue=null;function $e(e){if(0===e)return Ve.zero;if(e>=Math.pow(10,32))return e.toString();let t=0,n="";const r=function(e){let t=e%1e3,n="";return n+=Ve.ones[Math.floor(t/100)]?Ve.ones[Math.floor(t/100)]+Ve.numSep+Ve.special.hundred:"",t%=100,t&&(n+=n?Ve.numSep:"",n+=Ve.ones[t]),n}(e%1e3);if(!(e=Math.floor(e/1e3)))return r;for(;e>0;){const r=e%100;r&&(n=Ve.ones[r]+Ve.numSep+Ve.large[t]+(n?Ve.numSep+n:"")),e=Math.floor(e/100),t++}return r?n+Ve.numSep+r:n}function Ge(e){const t=ee.getInstance().getParameter("gender");return e<=0?e.toString():e<10?"f"===t?Ve.special.ordinalsFeminine[e]:Ve.special.ordinalsMasculine[e]:$e(e)+("f"===t?"\u0935\u0940\u0902":"\u0935\u093e\u0901")}const Ve=V();Ve.wordOrdinal=Ge,Ve.numericOrdinal=function(e){const t=ee.getInstance().getParameter("gender");return e>0&&e<10?"f"===t?Ve.special.simpleSmallOrdinalsFeminine[e]:Ve.special.simpleSmallOrdinalsMasculine[e]:e.toString().split("").map(function(e){const t=parseInt(e,10);return isNaN(t)?"":Ve.special.simpleNumbers[t]}).join("")+("f"===t?"\u0935\u0940\u0902":"\u0935\u093e\u0901")},Ve.numberToWords=$e,Ve.numberToOrdinal=function(e,t){return e<=10?Ve.special.smallDenominators[e]:Ge(e)+" \u0905\u0902\u0936"};const We=Ve;let Qe=null;function Xe(e){let t=e%1e4,n="";return n+=Je.ones[Math.floor(t/1e3)]?1===Math.floor(t/1e3)?"\ucc9c":Je.ones[Math.floor(t/1e3)]+"\ucc9c":"",t%=1e3,t&&(n+=Je.ones[Math.floor(t/100)]?1===Math.floor(t/100)?"\ubc31":Je.ones[Math.floor(t/100)]+"\ubc31":"",t%=100,n+=Je.tens[Math.floor(t/10)]+(t%10?Je.ones[t%10]:"")),n}function Ye(e){if(0===e)return Je.zero;if(e>=Math.pow(10,36))return e.toString();let t=0,n="";for(;e>0;)e%1e4&&(n=Xe(e%1e4)+(t?Je.large[t]+Je.numSep:"")+n),e=Math.floor(e/1e4),t++;return n.replace(/ $/,"")}function Ke(e,t){return 1===e?"\uccab\ubc88\uc9f8":Ze(e)+"\ubc88\uc9f8"}function Ze(e){const t=Ye(e),n=Ye(e%=100);if(!n||!e)return t;const r=20===e?"\uc2a4\ubb34":Je.tens[10+Math.floor(e/10)],i=Je.ones[10+Math.floor(e%10)];return t.slice(0,-n.length)+r+i}const Je=V();Je.wordOrdinal=Ze,Je.numericOrdinal=function(e){return Ke(e)},Je.numberToWords=Ye,Je.numberToOrdinal=Ke;const et=Je;let tt=null;function nt(e){let t=e%1e3,n="";if(n+=ot.ones[Math.floor(t/100)]?ot.ones[Math.floor(t/100)]+ot.numSep+"cento":"",t%=100,t){n+=n?ot.numSep:"";const e=ot.ones[t];if(e)n+=e;else{let e=ot.tens[Math.floor(t/10)];const r=t%10;1!==r&&8!==r||(e=e.slice(0,-1)),n+=e,n+=r?ot.numSep+ot.ones[t%10]:""}}return n}function rt(e){if(0===e)return ot.zero;if(e>=Math.pow(10,36))return e.toString();if(1===e&&ee.getInstance().getParameter("fraction"))return"un";let t=0,n="";for(;e>0;)e%1e3&&(n=nt(e%1e3)+(t?"-"+ot.large[t]+"-":"")+n),e=Math.floor(e/1e3),t++;return n.replace(/-$/,"")}function it(e){const t="m"===ee.getInstance().getParameter("gender")?"o":"a";let n=ot.special.onesOrdinals[e];return n?n.slice(0,-1)+t:(n=rt(e),n.slice(0,-1)+"esim"+t)}const ot=V();ot.wordOrdinal=it,ot.numericOrdinal=function(e){const t=ee.getInstance().getParameter("gender");return e.toString()+("m"===t?"o":"a")},ot.numberToWords=rt,ot.numberToOrdinal=function(e,t){if(2===e)return t?"mezzi":"mezzo";const n=it(e);if(!t)return n;const r=n.match(/o$/)?"i":"e";return n.slice(0,-1)+r};const st=ot,at=function(e,t,n){return e.match(/^[a-zA-Z]$/)&&(t=t.replace("cerchiato","cerchiata")),e=n?e+" "+n:e,t?e+" "+t:e};let lt=null;function ct(e,t=!1){let n=e%1e3,r="";const i=Math.floor(n/100),o=dt.ones[i];if(r+=o?(1===i?"":o)+"hundre":"",n%=100,n){if(r+=r?"og":"",t){const e=dt.special.smallOrdinals[n];if(e)return r+e;if(n%10)return r+dt.tens[Math.floor(n/10)]+dt.special.smallOrdinals[n%10]}r+=dt.ones[n]||dt.tens[Math.floor(n/10)]+(n%10?dt.ones[n%10]:"")}return t?ut(r):r}function ut(e){const t=dt.special.endOrdinal[0];return"a"===t&&e.match(/en$/)?e.slice(0,-2)+dt.special.endOrdinal:e.match(/(d|n)$/)||e.match(/hundre$/)?e+"de":e.match(/i$/)?e+dt.special.endOrdinal:"a"===t&&e.match(/e$/)?e.slice(0,-1)+dt.special.endOrdinal:(e.match(/e$/),e+"nde")}function ht(e){return gt(e,!0)}const dt=V();dt.wordOrdinal=ht,dt.numericOrdinal=function(e){return e.toString()+"."},dt.numberToWords=gt,dt.numberToOrdinal=function(e,t){return ht(e)};const pt=dt;function ft(e,t=!1){return e===dt.ones[1]?"ein"===e?"eitt ":t?"et":"ett":e}function mt(e,t=!1){let n=e%1e3,r="",i=dt.ones[Math.floor(n/100)];if(r+=i?ft(i)+"hundre":"",n%=100,n){if(r+=r?"og":"",t){const e=dt.special.smallOrdinals[n];if(e)return r+e}if(i=dt.ones[n],i)r+=i;else{const e=dt.tens[Math.floor(n/10)];i=dt.ones[n%10],r+=i?i+"og"+e:e}}return t?ut(r):r}function gt(e,t=!1){return"alt"===y.getInstance().subiso?function(e,t=!1){if(0===e)return t?dt.special.smallOrdinals[0]:dt.zero;if(e>=Math.pow(10,36))return e.toString();let n=0,r="";for(;e>0;){const i=e%1e3;if(i){const o=mt(e%1e3,!n&&t);!n&&t&&(t=!t),r=(1===n?ft(o,!0):o)+(n>1?dt.numSep:"")+(n?dt.large[n]+(n>1&&i>1?"er":""):"")+(n>1&&r?dt.numSep:"")+r}e=Math.floor(e/1e3),n++}return t?r+(r.match(/tusen$/)?"de":"te"):r}(e,t):function(e,t=!1){if(0===e)return t?dt.special.smallOrdinals[0]:dt.zero;if(e>=Math.pow(10,36))return e.toString();let n=0,r="";for(;e>0;){const i=e%1e3;if(i){const o=ct(e%1e3,!n&&t);!n&&t&&(t=!t),r=o+(n?" "+dt.large[n]+(n>1&&i>1?"er":"")+(r?" ":""):"")+r}e=Math.floor(e/1e3),n++}return t?r+(r.match(/tusen$/)?"de":"te"):r}(e,t)}let yt=null;function vt(e){return e.toString().split("").map(function(e){return bt.ones[parseInt(e,10)]}).join("")}const bt=V();bt.numberToWords=vt,bt.numberToOrdinal=vt;const xt=bt,St=function(e){return e.match(RegExp("^"+Ct.ALPHABETS.languagePrefix.english))?e.slice(1):e},wt=function(e,t,n){return e=St(e),t?e+t:e},Nt=function(e,t,n){return t+St(e)},Et=function(e,t,n){return t+(n||"")+(e=St(e))+"\u283b"},Tt=function(e,t,n){return t+(n||"")+(e=St(e))+"\u283b\u283b"},At=function(e,t,n){return t+(e=St(e))+"\u283e"};let Ct=null,kt=null;function Mt(e){let t=e%1e3,n="";const r=Math.floor(t/100);return n+=It.ones[r]?(1===r?"":It.ones[r]+It.numSep)+"hundra":"",t%=100,t&&(n+=n?It.numSep:"",n+=It.ones[t]||It.tens[Math.floor(t/10)]+(t%10?It.numSep+It.ones[t%10]:"")),n}function _t(e,t=!1){if(0===e)return It.zero;if(e>=Math.pow(10,36))return e.toString();let n=0,r="";for(;e>0;){const i=e%1e3;if(i){const o=It.large[n],s=i>1&&n>1&&!t?"er":"";r=(1===n&&1===i?"":(n>1&&1===i?"en":Mt(e%1e3))+(n>1?" ":""))+(n?o+s+(n>1?" ":""):"")+r}e=Math.floor(e/1e3),n++}return r.replace(/ $/,"")}function Ot(e){let t=_t(e,!0);return t.match(/^noll$/)?t="nollte":t.match(/ett$/)?t=t.replace(/ett$/,"f\xf6rsta"):t.match(/tv\xe5$/)?t=t.replace(/tv\xe5$/,"andra"):t.match(/tre$/)?t=t.replace(/tre$/,"tredje"):t.match(/fyra$/)?t=t.replace(/fyra$/,"fj\xe4rde"):t.match(/fem$/)?t=t.replace(/fem$/,"femte"):t.match(/sex$/)?t=t.replace(/sex$/,"sj\xe4tte"):t.match(/sju$/)?t=t.replace(/sju$/,"sjunde"):t.match(/\xe5tta$/)?t=t.replace(/\xe5tta$/,"\xe5ttonde"):t.match(/nio$/)?t=t.replace(/nio$/,"nionde"):t.match(/tio$/)?t=t.replace(/tio$/,"tionde"):t.match(/elva$/)?t=t.replace(/elva$/,"elfte"):t.match(/tolv$/)?t=t.replace(/tolv$/,"tolfte"):t.match(/tusen$/)?t=t.replace(/tusen$/,"tusonde"):t.match(/jard$/)||t.match(/jon$/)?t+="te":t+="de",t}const It=V();It.wordOrdinal=Ot,It.numericOrdinal=function(e){const t=e.toString();return t.match(/11$|12$/)?t+":e":t+(t.match(/1$|2$/)?":a":":e")},It.numberToWords=_t,It.numberToOrdinal=function(e,t){if(1===e)return"hel";if(2===e)return t?"halva":"halv";let n=Ot(e);return n=n.match(/de$/)?n.replace(/de$/,""):n,n+(t?"delar":"del")};const Lt=It;let Rt=null;const Dt={ca:function(){return le||(le=function(){const e=Q();return e.NUMBERS=se,e.COMBINERS.sansserif=ae,e.FUNCTIONS.fracNestDepth=e=>!1,e.FUNCTIONS.combineRootIndex=Y,e.FUNCTIONS.combineNestedRadical=(e,t,n)=>e+n,e.FUNCTIONS.fontRegexp=e=>RegExp("^"+e+" "),e.FUNCTIONS.plural=e=>/.*os$/.test(e)?e+"sos":/.*s$/.test(e)?e+"os":/.*ga$/.test(e)?e.slice(0,-2)+"gues":/.*\xe7a$/.test(e)?e.slice(0,-2)+"ces":/.*ca$/.test(e)?e.slice(0,-2)+"ques":/.*ja$/.test(e)?e.slice(0,-2)+"ges":/.*qua$/.test(e)?e.slice(0,-3)+"q\xfces":/.*a$/.test(e)?e.slice(0,-1)+"es":/.*(e|i)$/.test(e)?e+"ns":/.*\xed$/.test(e)?e.slice(0,-1)+"ins":e+"s",e.FUNCTIONS.si=(e,t)=>(t.match(/^metre/)&&(e=e.replace(/a$/,"\xe0").replace(/o$/,"\xf2").replace(/i$/,"\xed")),e+t),e.ALPHABETS.combiner=U.prefixCombiner,e}()),le},da:function(){return me||(me=function(){const e=Q();return e.NUMBERS=fe,e.FUNCTIONS.radicalNestDepth=X,e.FUNCTIONS.fontRegexp=t=>t===e.ALPHABETS.capPrefix.default?RegExp("^"+t+" "):RegExp(" "+t+"$"),e.ALPHABETS.combiner=U.postfixCombiner,e.ALPHABETS.digitTrans.default=fe.numberToWords,e}()),me},de:function(){return Ee||(Ee=function(){const e=Q();return e.NUMBERS=Se,e.COMBINERS.germanPostfix=Ne,e.ALPHABETS.combiner=we,e.FUNCTIONS.radicalNestDepth=t=>t>1?e.NUMBERS.numberToWords(t)+"fach":"",e.FUNCTIONS.combineRootIndex=(e,t)=>e.replace("Wurzel",t?t+"wurzel":""),e.FUNCTIONS.combineNestedRadical=(e,t,n)=>{const r=(t?t+" ":"")+(e=n.match(/exponent$/)?e+"r":e);return n.match(/ /)?n.replace(/ /," "+r+" "):r+" "+n},e.FUNCTIONS.fontRegexp=function(e){return e=e.split(" ").map(function(e){return e.replace(/s$/,"(|s)")}).join(" "),new RegExp("((^"+e+" )|( "+e+"$))")},e.CORRECTIONS.correctOne=e=>e.replace(/^eins$/,"ein"),e.CORRECTIONS.localFontNumber=e=>K(e).split(" ").map(function(e){return e.replace(/s$/,"")}).join(" "),e.CORRECTIONS.lowercase=e=>e.toLowerCase(),e.CORRECTIONS.article=e=>{const t=ee.getInstance().getParameter("case"),n=ee.getInstance().getParameter("plural");return"dative"===t?{der:"dem",die:n?"den":"der",das:"dem"}[e]:e},e.CORRECTIONS.masculine=e=>"dative"===ee.getInstance().getParameter("case")?e+"n":e,e}()),Ee},en:function(){return _e||(_e=function(){const e=Q();return e.NUMBERS=Me,e.FUNCTIONS.radicalNestDepth=X,e.FUNCTIONS.plural=e=>/.*s$/.test(e)?e:e+"s",e.ALPHABETS.combiner=U.prefixCombiner,e.ALPHABETS.digitTrans.default=Me.numberToWords,e.CORRECTIONS.article=e=>ee.getInstance().getParameter("noArticle")?"":e,e}()),_e},es:function(){return De||(De=function(){const e=Q();return e.NUMBERS=Le,e.COMBINERS.sansserif=Re,e.FUNCTIONS.fracNestDepth=e=>!1,e.FUNCTIONS.combineRootIndex=Y,e.FUNCTIONS.combineNestedRadical=(e,t,n)=>e+n,e.FUNCTIONS.fontRegexp=e=>RegExp("^"+e+" "),e.FUNCTIONS.plural=e=>/.*(a|e|i|o|u)$/.test(e)?e+"s":/.*z$/.test(e)?e.slice(0,-1)+"ces":/.*c$/.test(e)?e.slice(0,-1)+"ques":/.*g$/.test(e)?e+"ues":/.*\u00f3n$/.test(e)?e.slice(0,-2)+"ones":e+"es",e.FUNCTIONS.si=(e,t)=>(t.match(/^metro/)&&(e=e.replace(/a$/,"\xe1").replace(/o$/,"\xf3").replace(/i$/,"\xed")),e+t),e.ALPHABETS.combiner=U.prefixCombiner,e}()),De},euro:function(){return Fe||(Fe=Q()),Fe},fr:function(){return Ue||(Ue=function(){const e=Q();return e.NUMBERS=He,e.FUNCTIONS.radicalNestDepth=X,e.FUNCTIONS.combineRootIndex=Y,e.FUNCTIONS.combineNestedFraction=(e,t,n)=>n.replace(/ $/g,"")+t+e,e.FUNCTIONS.combineNestedRadical=(e,t,n)=>n+" "+e,e.FUNCTIONS.fontRegexp=e=>RegExp(" (en |)"+e+"$"),e.FUNCTIONS.plural=e=>/.*s$/.test(e)?e:e+"s",e.CORRECTIONS.article=e=>ee.getInstance().getParameter("noArticle")?"":e,e.ALPHABETS.combiner=U.romanceCombiner,e.SUBISO={default:"fr",current:"fr",all:["fr","be","ch"]},e}()),Ue},hi:function(){return Qe||(Qe=function(){const e=Q();return e.NUMBERS=We,e.ALPHABETS.combiner=U.prefixCombiner,e.FUNCTIONS.radicalNestDepth=X,e}()),Qe},it:function(){return lt||(lt=function(){const e=Q();return e.NUMBERS=st,e.COMBINERS.italianPostfix=at,e.FUNCTIONS.radicalNestDepth=X,e.FUNCTIONS.combineRootIndex=Y,e.FUNCTIONS.combineNestedFraction=(e,t,n)=>n.replace(/ $/g,"")+t+e,e.FUNCTIONS.combineNestedRadical=(e,t,n)=>n+" "+e,e.FUNCTIONS.fontRegexp=e=>RegExp(" (en |)"+e+"$"),e.ALPHABETS.combiner=U.romanceCombiner,e}()),lt},ko:function(){return tt||(tt=function(){const e=Q();return e.NUMBERS=et,e.FUNCTIONS.radicalNestDepth=X,e.FUNCTIONS.plural=function(e){return e},e.FUNCTIONS.si=(e,t)=>e+t,e.FUNCTIONS.combineRootIndex=function(e,t){return e+t},e.ALPHABETS.combiner=U.prefixCombiner,e.ALPHABETS.digitTrans.default=et.numberToWords,e.CORRECTIONS.postposition=e=>{if(["\uac19\ub2e4","\ub294","\uc640","\ub97c","\ub85c"].includes(e))return e;const t=e.slice(-1);let n=(t.charCodeAt(0)-44032)%28>0;return t.match(/[r,l,n,m,1,3,6,7,8,0]/i)&&(n=!0),ee.getInstance().setParameter("final",n),e},e.CORRECTIONS.article=e=>{const t=ee.getInstance().getParameter("final");t&&ee.getInstance().setParameter("final",!1),"\uac19\ub2e4"===e&&(e="\ub294");const n={"\ub294":"\uc740","\uc640":"\uacfc","\ub97c":"\uc744","\ub85c":"\uc73c\ub85c"}[e];return void 0!==n&&t?n:e},e}()),tt},nb:function(){return yt||(yt=function(){const e=Q();return e.NUMBERS=pt,e.ALPHABETS.combiner=U.prefixCombiner,e.ALPHABETS.digitTrans.default=pt.numberToWords,e.FUNCTIONS.radicalNestDepth=X,e}()),yt},nn:function(){return kt||(kt=function(){const e=Q();return e.NUMBERS=pt,e.ALPHABETS.combiner=U.prefixCombiner,e.ALPHABETS.digitTrans.default=pt.numberToWords,e.FUNCTIONS.radicalNestDepth=X,e.SUBISO={default:"",current:"",all:["","alt"]},e}()),kt},sv:function(){return Rt||(Rt=function(){const e=Q();return e.NUMBERS=Lt,e.FUNCTIONS.radicalNestDepth=X,e.FUNCTIONS.fontRegexp=function(e){return new RegExp("((^"+e+" )|( "+e+"$))")},e.ALPHABETS.combiner=U.prefixCombiner,e.ALPHABETS.digitTrans.default=Lt.numberToWords,e.CORRECTIONS.correctOne=e=>e.replace(/^ett$/,"en"),e}()),Rt},nemeth:function(){return Ct||(Ct=function(){const e=Q();return e.NUMBERS=xt,e.COMBINERS={postfixCombiner:wt,germanCombiner:Nt,embellishCombiner:Et,doubleEmbellishCombiner:Tt,parensCombiner:At},e.FUNCTIONS.fracNestDepth=e=>!1,e.FUNCTIONS.fontRegexp=e=>RegExp("^"+e),e.FUNCTIONS.si=z,e.ALPHABETS.combiner=(e,t,n)=>t?t+n+e:St(e),e.ALPHABETS.digitTrans={default:xt.numberToWords},e}()),Ct}};function Ft(){const e=function(){const e=f.L.ensureLocale(y.getInstance().locale,y.getInstance().defaultLocale);return y.getInstance().locale=e,Dt[e]()}();if(function(e){const t=y.getInstance().subiso;-1===e.SUBISO.all.indexOf(t)&&(y.getInstance().subiso=e.SUBISO.default),e.SUBISO.current=y.getInstance().subiso}(e),e){for(const t of Object.getOwnPropertyNames(e))W[t]=e[t];for(const[t,n]of Object.entries(e.CORRECTIONS))ee.getInstance().setCorrection(t,n)}}function Pt(e){Bt(d.Z.WGXpath),qt(e)}function qt(e,t){let n=t||1;"undefined"==typeof wgxpath&&n<10?setTimeout(function(){qt(e,n++)},200):n>=10||(d.Z.wgxpath=wgxpath,e?d.Z.wgxpath.install({document:document}):d.Z.wgxpath.install(),x.evaluate=document.evaluate,x.result=XPathResult,x.createNSResolver=document.createNSResolver)}function Bt(e){const t=d.Z.document.createElement("script");t.type="text/javascript",t.src=e,d.Z.document.head?d.Z.document.head.appendChild(t):d.Z.document.body.appendChild(t)}function jt(e){return e.match("/$")?e:e+"/"}function zt(e,t="json"){return jt(d.Z.jsonPath)+e+(t.match(/^\./)?t:"."+t)}var Ht,Ut,$t;function Gt(e){const t=e.toString(16).toUpperCase();return t.length>3?t:("000"+t).slice(-4)}function Vt([e,t],n){const r=parseInt(e,16),i=parseInt(t,16),o=[];for(let s=r;s<=i;s++){let e=Gt(s);!1!==n[e]&&(e=n[e]||e,o.push(e))}return o}function Wt(e,t={}){return Vt(e,t).map(e=>String.fromCodePoint(parseInt(e,16)))}!function(e){e.BOLD="bold",e.BOLDFRAKTUR="bold-fraktur",e.BOLDITALIC="bold-italic",e.BOLDSCRIPT="bold-script",e.DOUBLESTRUCK="double-struck",e.DOUBLESTRUCKITALIC="double-struck-italic",e.FULLWIDTH="fullwidth",e.FRAKTUR="fraktur",e.ITALIC="italic",e.MONOSPACE="monospace",e.NORMAL="normal",e.SCRIPT="script",e.SANSSERIF="sans-serif",e.SANSSERIFITALIC="sans-serif-italic",e.SANSSERIFBOLD="sans-serif-bold",e.SANSSERIFBOLDITALIC="sans-serif-bold-italic"}(Ht||(Ht={})),function(e){e.SUPER="super",e.SUB="sub",e.CIRCLED="circled",e.PARENTHESIZED="parenthesized",e.PERIOD="period",e.NEGATIVECIRCLED="negative-circled",e.DOUBLECIRCLED="double-circled",e.CIRCLEDSANSSERIF="circled-sans-serif",e.NEGATIVECIRCLEDSANSSERIF="negative-circled-sans-serif",e.COMMA="comma",e.SQUARED="squared",e.NEGATIVESQUARED="negative-squared"}(Ut||(Ut={})),function(e){e.LATINCAP="latinCap",e.LATINSMALL="latinSmall",e.GREEKCAP="greekCap",e.GREEKSMALL="greekSmall",e.DIGIT="digit"}($t||($t={}));const Qt=[{interval:["1D400","1D419"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.BOLD},{interval:["1D41A","1D433"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.BOLD},{interval:["1D56C","1D585"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.BOLDFRAKTUR},{interval:["1D468","1D481"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.BOLDITALIC},{interval:["1D482","1D49B"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.BOLDSCRIPT},{interval:["1D538","1D551"],base:$t.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:Ht.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:$t.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:Ht.FRAKTUR},{interval:["1D51E","1D537"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.FRAKTUR},{interval:["FF21","FF3A"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.FULLWIDTH},{interval:["FF41","FF5A"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.FULLWIDTH},{interval:["1D434","1D44D"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.ITALIC},{interval:["1D44E","1D467"],base:$t.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:Ht.ITALIC},{interval:["1D670","1D689"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.MONOSPACE},{interval:["1D68A","1D6A3"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.MONOSPACE},{interval:["0041","005A"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.NORMAL},{interval:["0061","007A"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.NORMAL},{interval:["1D49C","1D4B5"],base:$t.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:Ht.SCRIPT},{interval:["1D4B6","1D4CF"],base:$t.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:Ht.SCRIPT},{interval:["1D5A0","1D5B9"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.SANSSERIF},{interval:["1D5BA","1D5D3"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.SANSSERIF},{interval:["1D608","1D621"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:$t.LATINCAP,subst:{},capital:!0,category:"Lu",font:Ht.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:$t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:Ht.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:$t.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:Ht.NORMAL},{interval:["03B0","03D0"],base:$t.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:Ht.NORMAL},{interval:["1D6A8","1D6C0"],base:$t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:Ht.BOLD},{interval:["1D6C1","1D6E1"],base:$t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:Ht.BOLD},{interval:["1D6E2","1D6FA"],base:$t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:Ht.ITALIC},{interval:["1D6FB","1D71B"],base:$t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:Ht.ITALIC},{interval:["1D71C","1D734"],base:$t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:Ht.BOLDITALIC},{interval:["1D735","1D755"],base:$t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:Ht.BOLDITALIC},{interval:["1D756","1D76E"],base:$t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:Ht.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:$t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:Ht.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:$t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:Ht.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:$t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:Ht.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:$t.DIGIT,subst:{},offset:0,category:"Nd",font:Ht.NORMAL},{interval:["2070","2079"],base:$t.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:Ut.SUPER},{interval:["2080","2089"],base:$t.DIGIT,subst:{},offset:0,category:"No",font:Ut.SUB},{interval:["245F","2473"],base:$t.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:Ut.CIRCLED},{interval:["3251","325F"],base:$t.DIGIT,subst:{},offset:21,category:"No",font:Ut.CIRCLED},{interval:["32B1","32BF"],base:$t.DIGIT,subst:{},offset:36,category:"No",font:Ut.CIRCLED},{interval:["2474","2487"],base:$t.DIGIT,subst:{},offset:1,category:"No",font:Ut.PARENTHESIZED},{interval:["2487","249B"],base:$t.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:Ut.PERIOD},{interval:["2775","277F"],base:$t.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:Ut.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:$t.DIGIT,subst:{},offset:11,category:"No",font:Ut.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:$t.DIGIT,subst:{},offset:1,category:"No",font:Ut.DOUBLECIRCLED},{interval:["277F","2789"],base:$t.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:Ut.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:$t.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:Ut.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:$t.DIGIT,subst:{},offset:0,category:"Nd",font:Ht.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:$t.DIGIT,subst:{},offset:0,category:"Nd",font:Ht.BOLD},{interval:["1D7D8","1D7E1"],base:$t.DIGIT,subst:{},offset:0,category:"Nd",font:Ht.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:$t.DIGIT,subst:{},offset:0,category:"Nd",font:Ht.SANSSERIF},{interval:["1D7EC","1D7F5"],base:$t.DIGIT,subst:{},offset:0,category:"Nd",font:Ht.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:$t.DIGIT,subst:{},offset:0,category:"Nd",font:Ht.MONOSPACE},{interval:["1F101","1F10A"],base:$t.DIGIT,subst:{},offset:0,category:"No",font:Ut.COMMA},{interval:["24B6","24CF"],base:$t.LATINCAP,subst:{},capital:!0,category:"So",font:Ut.CIRCLED},{interval:["24D0","24E9"],base:$t.LATINSMALL,subst:{},capital:!1,category:"So",font:Ut.CIRCLED},{interval:["1F110","1F129"],base:$t.LATINCAP,subst:{},capital:!0,category:"So",font:Ut.PARENTHESIZED},{interval:["249C","24B5"],base:$t.LATINSMALL,subst:{},capital:!1,category:"So",font:Ut.PARENTHESIZED},{interval:["1F130","1F149"],base:$t.LATINCAP,subst:{},capital:!0,category:"So",font:Ut.SQUARED},{interval:["1F170","1F189"],base:$t.LATINCAP,subst:{},capital:!0,category:"So",font:Ut.NEGATIVESQUARED},{interval:["1F150","1F169"],base:$t.LATINCAP,subst:{},capital:!0,category:"So",font:Ut.NEGATIVECIRCLED}],Xt=new Map;function Yt(e,t){return e+t.split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}for(const Mu of Qt){const e=Yt(Mu.base,Mu.font),t=Wt(Mu.interval,Mu.subst);let n=Xt.get(e);n?n.unicode=n.unicode.concat(t):(n=Mu,n.unicode=t,Xt.set(e,n))}var Kt;!function(e){e.CALIGRAPHIC="caligraphic",e.CALIGRAPHICBOLD="caligraphic-bold",e.OLDSTYLE="oldstyle",e.OLDSTYLEBOLD="oldstyle-bold",e.UNKNOWN="unknown"}(Kt||(Kt={}));const Zt=Object.assign(Object.assign(Object.assign({},Ht),Kt),Ut);var Jt;!function(e){e.ALLLETTERS="allLetters",e.D="d",e.BAR="bar",e.TILDE="tilde"}(Jt||(Jt={}));const en=Object.assign(Object.assign({},$t),Jt);var tn,nn;!function(e){e.functionApplication=String.fromCodePoint(8289),e.invisibleTimes=String.fromCodePoint(8290),e.invisibleComma=String.fromCodePoint(8291),e.invisiblePlus=String.fromCodePoint(8292)}(tn||(tn={}));class rn extends Map{get(e){return super.get(e)||{role:"unknown",type:"unknown",font:Zt.UNKNOWN}}}class on extends Map{set(e,t,n=""){return super.set(this.secKey(t,e),n||t),this}has(e,t){return super.has(this.secKey(t,e))}get(e,t){return super.get(this.secKey(t,e))}secKey(e,t){return t?`${e} ${t}`:`${e}`}}function sn(e,t){for(const n of e)nn.Meaning.set(n,{role:t.role||"unknown",type:t.type||"unknown",font:t.font||Zt.UNKNOWN}),t.secondary&&nn.Secondary.set(n,t.secondary)}function an(e,t,n=1){const r={},i=function(e){let t=[];for(const n of e)Array.isArray(n)?t=t.concat(Vt(n,{}).map(e=>parseInt(e,16))):t.push(parseInt(n,16));return t}(t);for(const o of i)r[o]||(e.set(String.fromCodePoint(o),String.fromCodePoint(o+n)),r[o]=!0,r[o+n]=!0)}!function(e){e.Meaning=new rn,e.Secondary=new on,e.FencesHoriz=new Map,e.FencesVert=new Map}(nn||(nn={}));const ln=["cos","cot","csc","sec","sin","tan","arccos","arccot","arccsc","arcsec","arcsin","arctan"].concat(["cosh","coth","csch","sech","sinh","tanh","arcosh","arcoth","arcsch","arsech","arsinh","artanh"],["deg","det","dim","hom","ker","Tr"],["log","ln","lg","exp","gcd","lcm","arg","im","re","Pr"]);function cn(e,t,n,r,i,o=[],s={},a={}){const l=Xt.get(Yt(e,r));l&&(l.unicode.forEach(e=>{nn.Meaning.set(e,{type:t,role:n,font:i}),o.forEach(t=>nn.Secondary.set(e,t))}),function(e,t){for(const[n,r]of Object.entries(t)){const t=e[n];void 0!==t&&nn.Meaning.set(t,r)}}(l.unicode,s),function(e,t){for(const[n,r]of Object.entries(t)){const t=e[n];void 0!==t&&nn.Secondary.set(t,r)}}(l.unicode,a))}[{set:["23","25","26","40","5c","a1","a7","b6","bf","2017",["2022","2025"],"2027","2030","2031","203b","203c",["2041","2043"],["2047","2049"],["204b","204d"],"2050","2055","2056",["2058","205e"],"2234","2235","fe45","fe46","fe5f","fe60","fe68","fe6a","fe6b","ff03","ff05","ff06","ff0f","ff20","ff3c"],type:"punctuation",role:"unknown"},{set:["22","ab","bb","2dd",["2018","201f"],"2039","203a",["301d","301f"],"fe10","ff02","ff07"],type:"punctuation",role:"quotes"},{set:["3b","204f","2a1f","2a3e","fe14","fe54","ff1b"],type:"punctuation",role:"semicolon"},{set:["3f","203d","fe16","fe56","ff1f"],type:"punctuation",role:"question"},{set:["21","fe15","fe57","ff01"],type:"punctuation",role:"exclamation"},{set:["5e","60","a8","aa","b4","ba","2c7",["2d8","2da"],"2040","207a","207d","207e","ff3e","ff40"],type:"punctuation",role:"overaccent"},{set:["b8","2db","2038","203f","2054","208a","208d","208e"],type:"punctuation",role:"underaccent"},{set:["3a","2982","fe13","fe30","fe55","ff1a"],type:"punctuation",role:"colon"},{set:["2c","2063","fe50","ff0c"],type:"punctuation",role:"comma"},{set:["2026",["22ee","22f1"],"fe19"],type:"punctuation",role:"ellipsis"},{set:["2e","fe52","ff0e"],type:"punctuation",role:"fullstop"},{set:["2d","5f","af",["2010","2015"],"203e","203e","207b","208b","2212","2796",["fe49","fe4f"],"fe58","fe63","ff0d","ff3f","ffe3"],type:"operator",role:"dash",secondary:en.BAR},{set:["7e","2dc","2f7","303","330","334","2053","223c","223d","301c","ff5e"],type:"operator",role:"tilde",secondary:en.TILDE},{set:["27","2b9","2ba",["2032","2037"],"2057"],type:"punctuation",role:"prime"},{set:["b0"],type:"punctuation",role:"degree"},{set:["2b","b1","2064","2213","2214","2228","222a",["228c","228e"],"2294","2295","229d","229e","22bb","22bd","22c4","22ce","22d3","2304","271b","271c","2795","27cf","29fa","29fb","29fe",["2a22","2a28"],"2a2d","2a2e","2a39","2a42","2a45","2a46","2a48","2a4a","2a4c","2a4f","2a50","2a52","2a54","2a56","2a57","2a59","2a5b","2a5d",["2a61","2a63"],"2adc","2add","fe62","ff0b"],type:"operator",role:"addition"},{set:["2a","b7","d7","2020","2021","204e","2051","2062",["2217","2219"],"2227","2229","2240","2293","2297",["2299","229b"],"22a0","22a1","22b9","22bc",["22c5","22cc"],"22cf","22d2","22d4","2303","2305","2306","25cb","2715","2716","27ce","27d1",["29d1","29d7"],"29e2","2a1d",["2a2f","2a37"],["2a3b","2a3d"],"2a40","2a43","2a44","2a47","2a49","2a4b","2a4d","2a4e","2a51","2a53","2a55","2a58","2a5a","2a5c",["2a5e","2a60"],"2ada","2adb","fe61","ff0a"],type:"operator",role:"multiplication"},{set:["2d","af","2010","2011","2052","207b","208b","2212","2216","2238","2242","2296","229f","2796","29ff",["2a29","2a2c"],"2a3a","2a41","fe63","ff0d"],type:"operator",role:"subtraction"},{set:["2f","f7","2044","2215","2298","2797","27cc","29bc",["29f5","29f9"],"2a38"],type:"operator",role:"division"},{set:["ac","2200","2201","2203","2204","2206",["221a","221c"],"2310","ffe2"],type:"operator",role:"prefix operator"},{set:["2320","2321","23aa","23ae","23af","23b2","23b3","23b6","23b7"],type:"operator",role:"prefix operator"},{set:["1d7ca","1d7cb"],type:"operator",role:"prefix operator",font:Zt.BOLD},{set:["3d","7e","207c","208c","221d","2237",["223a","223f"],"2243","2245","2248",["224a","224e"],["2251","225f"],"2261","2263","229c","22cd","22d5","29e4","29e6","2a66","2a67",["2a6a","2a6c"],["2a6c","2a78"],"fe66","ff1d"],type:"relation",role:"equality"},{set:["3c","3e","2241","2242","2244","2246","2247","2249","224f","2250","2260","2262",["2264","2281"],"22b0","22b1",["22d6","22e1"],["22e6","22e9"],["2976","2978"],"29c0","29c1","29e1","29e3","29e5",["2a79","2abc"],["2af7","2afa"],"fe64","fe65","ff1c","ff1e"],type:"relation",role:"inequality"},{set:[["2282","228b"],["228f","2292"],["22b2","22b8"],"22d0","22d1",["22e2","22e5"],["22ea","22ed"],"27c3","27c4",["27c7","27c9"],["27d5","27d7"],"27dc",["2979","297b"],"29df",["2abd","2ad8"]],type:"relation",role:"set"},{set:["2236",["27e0","27e5"],"292b","292c",["29b5","29bb"],"29be","29bf",["29c2","29d0"]],type:"relation",role:"unknown"},{set:["2205",["29b0","29b4"]],type:"identifier",role:"set empty"},{set:["1ab2","221e",["29dc","29de"]],type:"identifier",role:"infty"},{set:["22a2","22a3",["22a6","22af"],"27da","27db","27dd","27de","2ade",["2ae2","2ae6"],"2aec","2aed"],type:"relation",role:"logic"},{set:["22a4","22a5","22ba","27d8","27d9","27df","2adf","2ae0",["2ae7","2aeb"],"2af1"],type:"identifier",role:"logic"},{set:[["2190","21ff"],"2301","2324","238b","2794",["2798","27af"],["27b1","27be"],["27f0","27ff"],["2900","292a"],["292d","2975"],["297c","297f"],["2b00","2b11"],["2b30","2b4c"],["ffe9","ffec"]],type:"relation",role:"arrow"},{set:["2208","220a",["22f2","22f9"],"22ff","27d2","2ad9"],type:"operator",role:"element"},{set:["2209"],type:"operator",role:"nonelement"},{set:["220b","220d",["22fa","22fe"]],type:"operator",role:"reelement"},{set:["220c"],type:"operator",role:"renonelement"},{set:[["220f","2211"],["22c0","22c3"],["2a00","2a0b"],"2a3f","2afc","2aff"],type:"largeop",role:"sum"},{set:["2140"],type:"largeop",role:"sum",font:Zt.DOUBLESTRUCK},{set:[["222b","2233"],["2a0c","2a17"],["2a17","2a1c"]],type:"largeop",role:"integral"},{set:[["2500","257F"]],type:"relation",role:"box"},{set:[["2580","259F"]],type:"identifier",role:"block"},{set:[["25A0","25FF"],["2B12","2B2F"],["2B50","2B59"]],type:"relation",role:"geometry"},{set:["220e","2300","2302","2311","29bd","29e0",["29e8","29f3"],"2a1e","2afe","ffed","ffee"],type:"operator",role:"geometry"},{set:[["221f","2222"],"22be","22bf",["2312","2314"],"237c","27c0",["299b","29af"]],type:"operator",role:"geometry"},{set:["24",["a2","a5"],"b5","2123",["2125","2127"],"212a","212b","fe69","ff04","ffe0","ffe1","ffe5","ffe6"],type:"identifier",role:"unknown"},{set:["a9","ae","210f","2114","2116","2117",["211e","2122"],"212e","2132",["2139","213b"],["2141","2144"],"214d","214e",["1f12a","1f12c"],"1f18a"],type:"identifier",role:"otherletter"},{set:["2224","2226","2239","2307","27b0","27bf","27c1","27c2","27ca","27cb","27cd","27d0","27d3","27d4","2981","2999","299a","29e7","29f4","2a20","2a21","2a64","2a65","2a68","2a69","2ae1",["2aee","2af0"],"2af2","2af3","2af5","2af6","2afb","2afd"],type:"operator",role:"unknown"},{set:["2605","2606","26aa","26ab",["2720","274d"]],type:"operator",role:"unknown"},{set:[["2145","2149"]],type:"identifier",role:"latinletter",font:Zt.DOUBLESTRUCKITALIC,secondary:en.ALLLETTERS},{set:[["213c","213f"]],type:"identifier",role:"greekletter",font:Zt.DOUBLESTRUCK,secondary:en.ALLLETTERS},{set:["3d0","3d7","3f6",["1d26","1d2a"],"1d5e","1d60",["1d66","1d6a"]],type:"identifier",role:"greekletter",font:Zt.NORMAL,secondary:en.ALLLETTERS},{set:[["2135","2138"]],type:"identifier",role:"otherletter",font:Zt.NORMAL,secondary:en.ALLLETTERS},{set:["131","237"],type:"identifier",role:"latinletter",font:Zt.NORMAL},{set:["1d6a4","1d6a5"],type:"identifier",role:"latinletter",font:Zt.ITALIC},{set:["2113","2118"],type:"identifier",role:"latinletter",font:Zt.SCRIPT},{set:[["c0","d6"],["d8","f6"],["f8","1bf"],["1c4","2af"],["1d00","1d25"],["1d6b","1d9a"],["1e00","1ef9"],["363","36f"],["1dd3","1de6"],["1d62","1d65"],"1dca","2071","207f",["2090","209c"],"2c7c"],type:"identifier",role:"latinletter",font:Zt.NORMAL},{set:[["00bc","00be"],["2150","215f"],"2189"],type:"number",role:"float"},{set:["23E8",["3248","324f"]],type:"number",role:"integer"},{set:[["214A","214C"],"2705","2713","2714","2717","2718"],type:"identifier",role:"unknown"},{set:["20","a0","ad",["2000","200f"],["2028","202f"],["205f","2060"],"206a","206b","206e","206f","feff",["fff9","fffb"]],type:"text",role:"space"},{set:["7c","a6","2223","23b8","23b9","23d0","2758",["fe31","fe34"],"ff5c","ffe4","ffe8"],type:"fence",role:"neutral"},{set:["2016","2225","2980","2af4"],type:"fence",role:"metric"}].forEach(e=>{var{set:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["set"]);return sn(function(e){let t=[];for(const n of e)Array.isArray(n)?t=t.concat(Wt(n)):t.push(String.fromCodePoint(parseInt(n,16)));return t}(t),n)}),an(nn.FencesVert,["23b4",["23dc","23e1"],["fe35","fe44"],"fe47"]),an(nn.FencesHoriz,["28","2045",["2308","230f"],["231c","231f"],"2329","23b0",["2768","2775"],"27c5",["27e6","27ef"],["2983","2998"],["29d8","29db"],"29fc",["2e22","2e29"],["3008","3011"],["3014","301b"],"fd3e","fe17",["fe59","fe5e"],"ff08","ff5f","ff62"]),an(nn.FencesHoriz,["5b","7b","ff3b","ff5b"],2),an(nn.FencesHoriz,[["239b","23a6"]],3),an(nn.FencesHoriz,[["23a7","23a9"]],4),sn([...nn.FencesHoriz.keys()],{type:"fence",role:"open"}),sn([...nn.FencesHoriz.values()],{type:"fence",role:"close"}),sn([...nn.FencesVert.keys()],{type:"fence",role:"top"}),sn([...nn.FencesVert.values()],{type:"fence",role:"bottom"}),function(){for(const[e,t]of Object.entries(Zt)){const n=Ut[e]?Zt.UNKNOWN:t===Zt.FULLWIDTH?Zt.NORMAL:t;cn($t.LATINCAP,"identifier","latinletter",t,n,[en.ALLLETTERS]),cn($t.LATINSMALL,"identifier","latinletter",t,n,[en.ALLLETTERS],{},{3:en.D}),cn($t.GREEKCAP,"identifier","greekletter",t,n,[en.ALLLETTERS]),cn($t.GREEKSMALL,"identifier","greekletter",t,n,[en.ALLLETTERS],{0:{type:"operator",role:"prefix operator",font:n},26:{type:"operator",role:"prefix operator",font:n}}),cn($t.DIGIT,"number","integer",t,n)}}(),sn(["inf","lim","liminf","limsup","max","min","sup","injlim","projlim"],{type:"function",role:"limit function"}),sn(ln,{type:"function",role:"prefix function"}),sn(["mod","rem"],{type:"operator",role:"prefix function"});class un{constructor(){this.rules=new Map}static parseUnicode(e){const t=parseInt(e,16);return String.fromCodePoint(t)}static testDynamicConstraints_(e,t){return y.getInstance().strict?t.cstr.equal(e):y.getInstance().comparator.match(t.cstr)}defineRulesFromMappings(e,t,n){for(const[r,i]of Object.entries(n))for(const[n,o]of Object.entries(i))this.defineRuleFromStrings(e,t,r,n,o)}getRules(e){let t=this.rules.get(e);return t||(t=[],this.rules.set(e,t)),t}defineRuleFromStrings(e,t,n,r,i){let o=this.getRules(e);const s=y.getInstance().parsers[n]||y.getInstance().defaultParser,a=y.getInstance().comparators[n],l=s.parse(`${e}.${t}.${n}.${r}`),c=a?a():y.getInstance().comparator,u=c.getReference();c.setReference(l);const h={cstr:l,action:i};o=o.filter(e=>!l.equal(e.cstr)),o.push(h),this.rules.set(e,o),c.setReference(u)}lookupRule(t,n){let r=this.getRules(n.getValue(e.LOCALE));return r=r.filter(function(e){return un.testDynamicConstraints_(n,e)}),1===r.length?r[0]:r.length?r.sort((e,t)=>y.getInstance().comparator.compare(e.cstr,t.cstr))[0]:null}}let hn=o.DEFAULT_VALUES[e.LOCALE],dn=o.DEFAULT_VALUES[e.MODALITY];function pn(e){return!(!e.locale&&!e.modality||(hn=e.locale||hn,dn=e.modality||dn,0))}let fn={};function mn(e){fn=e}const gn=new Map,yn=new Map;function vn(e,t){let n=gn.get(t);return n||(n=new un,n.base=yn.get(e),gn.set(t,n),n)}function bn(e){const t=yn.get(e.key);if(!t)return;const n=e.names;Object.assign(e,t),n&&t.names&&(e.names=e.names.concat(n))}function xn(e,t,n){vn(e,t).defineRulesFromMappings(hn,dn,n)}function Sn(e,t,n,r){vn(n,n).defineRuleFromStrings(hn,dn,e,t,r)}function wn(e){if(!pn(e))for(const[t,n]of Object.entries(e))Sn("default","default",t,n)}function Nn(e){for(let t,n=0;t=e.names[n];n++)xn(e.key,t,e.mappings)}function En(e){for(const t of Object.keys(fn)){const n=Object.assign({},e);n.mappings={};const r=fn[t];n.names=n.names.map(function(e){return t+e});for(const t of Object.keys(e.mappings)){n.mappings[t]={};for(const i of Object.keys(e.mappings[t]))n.mappings[t][i]=Dt[hn]().FUNCTIONS.si(r,e.mappings[t][i])}Nn(n)}}function Tn(e={}){for(const t of gn.values())for(const[,n]of t.rules.entries())for(const{cstr:t}of n)e=An(t.getValues(),e);return e}function An(e,t){return t=t||{},e.length?(t[e[0]]=An(e.slice(1),t[e[0]]),t):t}y.getInstance().evaluator=function(e,t){const n=function(e,t){const n=gn.get(e);return n?n.lookupRule(null,t):null}(e,t);return n?n.action:null};class Cn{constructor(e,t){this.speech=e,this.attributes=t}static empty(){return new Cn("",{})}static stringEmpty(e){return new Cn(e,{})}static stringAttr(e,t){return new Cn(e,t)}static singleton(e,t={}){return[Cn.stringAttr(e,t)]}static node(e,t,n={}){const r=Cn.getAttributes(t);return Object.assign(r,n),new Cn(e,r)}static getAttributes(e){const t={};for(const n of Cn.attributeList)e.hasAttribute(n)&&(t[n]=e.getAttribute(n));return t}}Cn.attributeList=["id","extid"];class kn{static create(e,t={}){return e.text=ee.getInstance().apply(e.text,t),new kn(e)}constructor({context:e,text:t,userValue:n,annotation:r,attributes:i,personality:o,layout:s}){this.context=e||"",this.text=t||"",this.userValue=n||"",this.annotation=r||"",this.attributes=i||{},this.personality=o||{},this.layout=s||""}isEmpty(){return 0===this.context.length&&0===this.text.length&&0===this.userValue.length&&0===this.annotation.length}clone(){let e,t;if(this.personality){e={};for(const[t,n]of Object.entries(this.personality))e[t]=n}if(this.attributes){t={};for(const[e,n]of Object.entries(this.attributes))t[e]=n}return new kn({context:this.context,text:this.text,userValue:this.userValue,annotation:this.annotation,personality:e,attributes:t,layout:this.layout})}toString(){return'AuditoryDescription(context="'+this.context+'"  text="'+this.text+'"  userValue="'+this.userValue+'"  annotation="'+this.annotation+'")'}descriptionString(){return this.context&&this.text?this.context+" "+this.text:this.context||this.text}descriptionSpan(){return Cn.stringAttr(this.descriptionString(),this.attributes)}equals(e){return this.context===e.context&&this.text===e.text&&this.userValue===e.userValue&&this.annotation===e.annotation}}const Mn=new Map;function _n(e,t,n){const r={};if(t){const e=Mn.get(t)||{};Object.assign(r,e)}Mn.set(e,Object.assign(r,n))}function On(e,t){const n=e.length;let r=0,i=t;return t||(i=""),function(){return r<n&&(r+=1),i+" "+r}}function In(e,t){const n=parseFloat(t),r=isNaN(n)?t:n;return function(){return[kn.create({text:"",personality:{pause:r}})]}}function Ln(e,t){let n;return n=e.length>0?T("../../content/*",e[0]):[],function(){const e=n.shift(),r=t?[kn.create({text:t},{translate:!0})]:[];if(!e)return r;const i=y.evaluateNode(e);return r.concat(i)}}class Rn{constructor(e,t,n){this.domain=e,this.name=t,this.func=n,this.active=!1}annotate(e){e.childNodes.forEach(this.annotate.bind(this)),e.addAnnotation(this.domain,this.func(e))}}class Dn{constructor(e,t,n,r={}){this.domain=e,this.name=t,this.func=n,this.def=r,this.active=!1}visit(e,t){let n=this.func(e,t);e.addAnnotation(this.domain,n[0]);for(let r,i=0;r=e.childNodes[i];i++)n=this.visit(r,n[1]);return n}}const Fn=new Map,Pn=new Map;function qn(e){const t=e.domain+":"+e.name;e instanceof Rn?Fn.set(t,e):Pn.set(t,e)}function Bn(e,t){const n=e+":"+t,r=Fn.get(n)||Pn.get(n);r&&(r.active=!0)}function jn(e,t){const n=t.split("-"),r=On(e,n[0]||""),i=n[1]||"",o=n[2]||"";let s=!0;return function(){const e=r();return s?(s=!1,o+e+i):e+i}}function zn(e){return e.hasAnnotation("clearspeak","simple")}function Hn(e){return"identifier"===e.type&&("latinletter"===e.role||"greekletter"===e.role||"otherletter"===e.role||"simple function"===e.role)}function Un(e){return"number"===e.type&&("integer"===e.role||"float"===e.role)}function $n(e){return Un(e)||function(e){if(Gn("Fraction_Over")||Gn("Fraction_FracOver"))return!1;if("fraction"!==e.type||"vulgar"!==e.role)return!1;if(Gn("Fraction_Ordinal"))return!0;const t=parseInt(e.childNodes[0].textContent,10),n=parseInt(e.childNodes[1].textContent,10);return t>0&&t<20&&n>0&&n<11}(e)}function Gn(e){return y.getInstance().style===e}function Vn(e){if(function(e){if(!e.hasAttribute("annotation"))return!1;const t=e.getAttribute("annotation");return!!/clearspeak:simple$|clearspeak:simple;/.exec(t)}(e))return!0;if("subscript"!==e.tagName)return!1;const t=e.childNodes[0].childNodes,n=t[1];return"identifier"===t[0].tagName&&(Wn(n)||"infixop"===n.tagName&&n.hasAttribute("role")&&"implicit"===n.getAttribute("role")&&function(e){return T("children/*",e).every(e=>Wn(e)||"identifier"===e.tagName)}(n))}function Wn(e){return"number"===e.tagName&&e.hasAttribute("role")&&"integer"===e.getAttribute("role")}function Qn(e){return T("matrix"===e.tagName?"children/row/children/cell/children/*":"children/line/children/*",e).every(Vn)?[e]:[]}function Xn(e){return G(e,20,11)?[e]:[]}function Yn(e){const t=parseInt(e.textContent,10);return[Cn.stringEmpty(isNaN(t)?e.textContent:t>10?W.NUMBERS.numericOrdinal(t):W.NUMBERS.wordOrdinal(t))]}qn(new Rn("clearspeak","simple",function(e){return function(e){return $n(e)||function(e){return Hn(e)||"infixop"===e.type&&"implicit"===e.role&&(2===e.childNodes.length&&(Hn(e.childNodes[0])||$n(e.childNodes[0]))&&Hn(e.childNodes[1])||3===e.childNodes.length&&$n(e.childNodes[0])&&Hn(e.childNodes[1])&&Hn(e.childNodes[2]))}(e)||function(e){return"punctuated"===e.type&&"endpunct"===e.role&&2===e.childNodes.length&&"degree"===e.childNodes[1].role&&(Hn(e.childNodes[0])||Un(e.childNodes[0])||"prefixop"===e.childNodes[0].type&&"negative"===e.childNodes[0].role&&(Hn(e.childNodes[0].childNodes[0])||Un(e.childNodes[0].childNodes[0])))}(e)||function(e){return"prefixop"===e.type&&"negative"===e.role&&zn(e.childNodes[0])&&"prefixop"!==e.childNodes[0].type&&"appl"!==e.childNodes[0].type&&"punctuated"!==e.childNodes[0].type}(e)||function(e){return"appl"===e.type&&("prefix function"===e.childNodes[0].role||"simple function"===e.childNodes[0].role)&&(zn(e.childNodes[1])||"fenced"===e.childNodes[1].type&&zn(e.childNodes[1].childNodes[0]))}(e)}(e)?"simple":""})),qn(new Rn("clearspeak","unit",function(e){return function(e){return"text"===e.type||"punctuated"===e.type&&"text"===e.role&&Un(e.childNodes[0])&&function(e){for(let t=0;t<e.length-1;t++)if("text"!==e[t].type||""!==e[t].textContent)return!1;return"text"===e[e.length-1].type}(e.childNodes.slice(1))||"identifier"===e.type&&"unit"===e.role||"infixop"===e.type&&("implicit"===e.role||"unit"===e.role)}(e)?"unit":""}));let Kn=null;function Zn(e){let t=0;const n=e.textContent,r="open"===e.getAttribute("role")?0:1;let i=e.parentNode;for(;i;)"fenced"===i.tagName&&i.childNodes[0].childNodes[r].textContent===n&&t++,i=i.parentNode;return Kn=t>1?W.NUMBERS.wordOrdinal(t):"",[Cn.stringEmpty(Kn)]}function Jn(e){const t=e.previousSibling;let n,r;return t?(n=t,r=e):(n=e,r=e.nextSibling),r&&function(e,t){const n=nn.Meaning.get(e);return"fence"===n.type&&("neutral"===n.role||"metric"===n.role?e===t:nn.FencesHoriz.get(e)===t||nn.FencesVert.get(e)===t)}(n.textContent,r.textContent)?[e]:[]}function er(e){const t=C(e.parentNode.childNodes),n=T("../../children/*",e),r=t.indexOf(e);return rr(n[r])||rr(n[r+1])?[e]:[]}function tr(e){const t=C(e.parentNode.childNodes),n=T("../../children/*",e),r=t.indexOf(e);return nr(n[r])&&n[r+1]&&(nr(n[r+1])||"root"===n[r+1].tagName||"sqrt"===n[r+1].tagName||"superscript"===n[r+1].tagName&&n[r+1].childNodes[0].childNodes[0]&&("number"===n[r+1].childNodes[0].childNodes[0].tagName||"identifier"===n[r+1].childNodes[0].childNodes[0].tagName)&&("2"===n[r+1].childNodes[0].childNodes[1].textContent||"3"===n[r+1].childNodes[0].childNodes[1].textContent))?[e]:[]}function nr(e){return!!e&&("number"===e.tagName||"identifier"===e.tagName||"function"===e.tagName||"appl"===e.tagName||"fraction"===e.tagName)}function rr(e){return e&&("fenced"===e.tagName||e.hasAttribute("role")&&"leftright"===e.getAttribute("role")||function(e){return!!e&&("matrix"===e.tagName||"vector"===e.tagName)}(e))}function ir(e){return[Cn.stringEmpty(W.NUMBERS.wordOrdinal(parseInt(e.textContent,10)))]}function or(e,t){const n=[];for(;e.length||t.length;)e.length&&n.push(e.shift()),t.length&&n.push(t.shift());return n}function sr(e,t){return e?t?e.filter(e=>t.indexOf(e)<0):e:[]}ee.getInstance().setCorrection("insertNesting",function(e,t){if(!t||!e)return e;const n=e.match(/^(open|close) /);return n?n[0]+t+" "+e.substring(n[0].length):t+" "+e});let ar=null;function lr(e){ar=e}const cr=new Map,ur={combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},hr={};function dr(e){const t=e.name;cr.set(t,e),ur[t]||(ur[t]=!1)}function pr(e,t,n){const r=cr.get(e);return r&&!hr[e]&&(ur[e]||r.applicable(t))?r.apply(t):n?n(t):t}const fr=[];function mr(e,t){for(let n,r=0;n=fr[r];r++){const r=n.compare(e,t);if(0!==r)return r}return 0}function gr(e){if(e.length<=1)return e;const t=e.slice();!function(e){e.sort(mr)}(t);const n=[];let r;do{r=t.pop(),n.push(r)}while(r&&t.length&&0===mr(t[t.length-1],r));return n}function yr(e,t){return e.match(/^.+:.+$/)||!t?e:e+":"+t}new class{constructor(e,t=null){this.comparator=e,this.type=t,function(e){fr.push(e)}(this)}compare(e,t){return this.type&&this.type===e.type&&this.type===t.type?this.comparator(e,t):0}}(function(e,t){return"simple function"===e.role?1:"simple function"===t.role?-1:0},"identifier");class vr extends Map{set(e,t){return super.set(yr(e,t.font),t),this}setNode(e){this.set(e.textContent,e.meaning())}get(e,t=null){return super.get(yr(e,t))}getNode(e){return this.get(e.textContent,e.font)}}class br extends Map{add(e,t){const n=this.get(e);n?n.push(t):super.set(e,[t])}get(e,t=null){return super.get(yr(e,t))}getNode(e){return this.get(e.textContent,e.font)}minimize(){for(const[e,t]of this)1===t.length&&this.delete(e)}isMultiValued(){for(const e of this.values())if(e.length>1)return!0;return!1}}class xr extends br{add(e,t){super.add(yr(e,t.font),t)}addNode(e){this.add(e.textContent,e)}toString(){const e=[];for(const[t,n]of this){const r=Array(t.length+3).join(" "),i=n.map(e=>e.toString()).join("\n"+r);e.push(t+": "+i)}return e.join("\n")}collateMeaning(){const e=new Sr;for(const[t,n]of this)e.set(t,n.map(e=>e.meaning()));return e}}class Sr extends br{add(e,t){const n=this.get(e,t.font);n&&n.find(function(e){return(n=e).type===(r=t).type&&n.role===r.role&&n.font===r.font;var n,r})||super.add(yr(e,t.font),t)}addNode(e){this.add(e.textContent,e.meaning())}toString(){const e=[];for(const[t,n]of this){const r=Array(t.length+3).join(" "),i=n.map(e=>`{type: ${e.type}, role: ${e.role}, font: ${e.font}}`).join("\n"+r);e.push(t+": "+i)}return e.join("\n")}reduce(){for(const[e,t]of this)1!==t.length&&this.set(e,gr(t))}default(){const e=new vr;for(const[t,n]of this)1===n.length&&e.set(t,n[0]);return e}newDefault(){const e=this.default();this.reduce();const t=this.default();return e.size!==t.size?t:null}}const wr=["MO","MI","MN","MTEXT","MS","MSPACE"],Nr=["MERROR","MPHANTOM","MALIGNGROUP","MALIGNMARK","MPRESCRIPTS","ANNOTATION","ANNOTATION-XML"],Er=["MATH","MROW","MPADDED","MACTION","NONE","MSTYLE","SEMANTICS"],Tr=["MROOT","MSQRT"],Ar=["aria-label","exact-speech","alt"];function Cr(e){return!!e&&"MATH"===P(e)}function kr(e){return!!e&&-1!==Nr.indexOf(P(e))}function Mr(e){return!!e&&-1!==Er.indexOf(P(e))}function _r(e){const t=[];for(let n,r=0;n=e[r];r++){if(n.nodeType!==M.ELEMENT_NODE)continue;const e=P(n);-1===Nr.indexOf(e)&&(-1!==Er.indexOf(e)&&0===n.childNodes.length||t.push(n))}return t}function Or(e,t){if(t.hasAttributes()){const n=t.attributes;for(let t=n.length-1;t>=0;t--){const r=n[t].name;r.match(/^ext/)&&(e.attributes[r]=n[t].value,e.nobreaking=!0),-1!==Ar.indexOf(r)&&(e.attributes["ext-speech"]=n[t].value,e.nobreaking=!0),r.match(/texclass$/)&&(e.attributes.texclass=n[t].value),"latex"===r&&(e.attributes.latex=n[t].value),"href"===r&&(e.attributes.href=n[t].value,e.nobreaking=!0)}}}function Ir(e){return e&&e.embellished&&e.childNodes.length>0?Ir(e.childNodes[0]):e}function Lr(e,t,n){n&&e.reverse();const r=[];for(let i,o=0;i=e[o];o++){if(t(i))return n?{head:e.slice(o+1).reverse(),div:i,tail:r.reverse()}:{head:r,div:i,tail:e.slice(o+1)};r.push(i)}return n?{head:[],div:null,tail:r.reverse()}:{head:r,div:null,tail:[]}}function Rr(e,t){let n=e;const r=[],i=[];let o=null;do{o=Lr(n,t),i.push(o.head),r.push(o.div),n=o.tail}while(o.div);return r.pop(),{rel:r,comp:i}}class Dr{static fromXml(e){const t=parseInt(e.getAttribute("id"),10),n=new Dr(t);return n.type=e.tagName,Dr.setAttribute(n,e,"role"),Dr.setAttribute(n,e,"font"),Dr.setAttribute(n,e,"embellished"),Dr.setAttribute(n,e,"fencepointer","fencePointer"),e.getAttribute("annotation")&&n.parseAnnotation(e.getAttribute("annotation")),Or(n,e),Dr.processChildren(n,e),n}static setAttribute(e,t,n,r){r=r||n;const i=t.getAttribute(n);i&&(e[r]=i)}static processChildren(e,t){for(const n of C(t.childNodes)){if(n.nodeType===M.TEXT_NODE){e.textContent=n.textContent;continue}const t=C(n.childNodes).map(Dr.fromXml);t.forEach(t=>t.parent=e),"CONTENT"===P(n)?e.contentNodes=t:e.childNodes=t}}constructor(e){this.id=e,this.mathml=[],this.parent=null,this.type="unknown",this.role="unknown",this.font=Zt.UNKNOWN,this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}querySelectorAll(e){let t=[];for(let n,r=0;n=this.childNodes[r];r++)t=t.concat(n.querySelectorAll(e));for(let n,r=0;n=this.contentNodes[r];r++)t=t.concat(n.querySelectorAll(e));return e(this)&&t.unshift(this),t}xml(e,t){const n=function(n,r){const i=r.map(function(n){return n.xml(e,t)}),o=e.createElementNS("",n);for(let e,t=0;e=i[t];t++)o.appendChild(e);return o},r=e.createElementNS("",this.type);return t||this.xmlAttributes(r),r.textContent=this.textContent,this.contentNodes.length>0&&r.appendChild(n("content",this.contentNodes)),this.childNodes.length>0&&r.appendChild(n("children",this.childNodes)),r}toString(e=!1){const t=k("<snode/>");return B(this.xml(t.ownerDocument,e))}allAttributes(){const e=[];return e.push(["role",this.role]),this.font!==Zt.UNKNOWN&&e.push(["font",this.font]),Object.keys(this.annotation).length&&e.push(["annotation",this.annotationXml()]),this.embellished&&e.push(["embellished",this.embellished]),this.fencePointer&&e.push(["fencepointer",this.fencePointer]),e.push(["id",this.id.toString()]),e}annotationXml(){const e=[];for(const[t,n]of Object.entries(this.annotation))n.forEach(n=>e.push(t+":"+n));return e.join(";")}attributesXml(){const e=[];for(const[t,n]of Object.entries(this.attributes))e.push(t+":"+n);return e.join(";")}toJson(){const e={};e.type=this.type;const t=this.allAttributes();for(let n,r=0;n=t[r];r++)e[n[0]]=n[1].toString();return this.textContent&&(e.$t=this.textContent),this.childNodes.length&&(e.children=this.childNodes.map(function(e){return e.toJson()})),this.contentNodes.length&&(e.content=this.contentNodes.map(function(e){return e.toJson()})),e}updateContent(e,t){const n=t?e.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):e.trim();if(this.textContent===(e=e&&!n?e:n))return;const r=nn.Meaning.get(e);this.textContent=e,this.role=r.role,this.type=r.type,this.font=r.font}addMathmlNodes(e){for(let t,n=0;t=e[n];n++)-1===this.mathml.indexOf(t)&&this.mathml.push(t)}appendChild(e){this.childNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this}replaceChild(e,t){const n=this.childNodes.indexOf(e);if(-1===n)return;e.parent=null,t.parent=this,this.childNodes[n]=t;const r=e.mathml.filter(function(e){return-1===t.mathml.indexOf(e)}),i=t.mathml.filter(function(t){return-1===e.mathml.indexOf(t)});this.removeMathmlNodes(r),this.addMathmlNodes(i)}appendContentNode(e){e&&(this.contentNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this)}removeContentNode(e){if(e){const t=this.contentNodes.indexOf(e);-1!==t&&this.contentNodes.slice(t,1)}}equals(e){if(!e)return!1;if(this.type!==e.type||this.role!==e.role||this.textContent!==e.textContent||this.childNodes.length!==e.childNodes.length||this.contentNodes.length!==e.contentNodes.length)return!1;for(let t,n,r=0;t=this.childNodes[r],n=e.childNodes[r];r++)if(!t.equals(n))return!1;for(let t,n,r=0;t=this.contentNodes[r],n=e.contentNodes[r];r++)if(!t.equals(n))return!1;return!0}displayTree(){console.info(this.displayTree_(0))}addAnnotation(e,t){t&&this.addAnnotation_(e,t)}getAnnotation(e){return this.annotation[e]||[]}hasAnnotation(e,t){const n=this.annotation[e];return!!n&&-1!==n.indexOf(t)}parseAnnotation(e){const t=e.split(";");for(let n=0,r=t.length;n<r;n++){const e=t[n].split(":");this.addAnnotation(e[0],e[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(e){const t=this.allAttributes();for(let n,r=0;n=t[r];r++)e.setAttribute(n[0],n[1]);this.addExternalAttributes(e)}addExternalAttributes(e){for(const[t,n]of Object.entries(this.attributes))e.setAttribute(t,n)}parseAttributes(e){if(!e)return;const t=e.split(";");for(let n=0,r=t.length;n<r;n++){const[e,r]=t[n].split(":");e&&(this.attributes[e]=r)}}removeMathmlNodes(e){const t=this.mathml;for(let n,r=0;n=e[r];r++){const e=t.indexOf(n);-1!==e&&t.splice(e,1)}this.mathml=t}displayTree_(e){e++;const t=Array(e).join("  ");let n="";n+="\n"+t+this.toString(),n+="\n"+t+"MathmlTree:",n+="\n"+t+this.mathmlTreeString(),n+="\n"+t+"MathML:";for(let r,i=0;r=this.mathml[i];i++)n+="\n"+t+r.toString();return n+="\n"+t+"Begin Content",this.contentNodes.forEach(function(t){n+=t.displayTree_(e)}),n+="\n"+t+"End Content",n+="\n"+t+"Begin Children",this.childNodes.forEach(function(t){n+=t.displayTree_(e)}),n+="\n"+t+"End Children",n}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"}addAnnotation_(e,t){const n=this.annotation[e];n?n.push(t):this.annotation[e]=[t]}}class Fr{constructor(){this.leafMap=new xr,this.defaultMap=new vr,this.idCounter_=-1}makeNode(e){return this.createNode_(e)}makeUnprocessed(e){const t=this.createNode_();return t.mathml=[e],t.mathmlTree=e,t}makeEmptyNode(){const e=this.createNode_();return e.type="empty",e}makeContentNode(e){const t=this.createNode_();return t.updateContent(e),t}makeMultipleContentNodes(e,t){const n=[];for(let r=0;r<e;r++)n.push(this.makeContentNode(t));return n}makeLeafNode(e,t){if(!e)return this.makeEmptyNode();const n=this.makeContentNode(e);n.font=t||n.font;const r=this.defaultMap.getNode(n);return r&&(n.type=r.type,n.role=r.role,n.font=r.font),this.leafMap.addNode(n),n}makeBranchNode(e,t,n,r){const i=this.createNode_();return r&&i.updateContent(r),i.type=e,i.childNodes=t,i.contentNodes=n,t.concat(n).forEach(function(e){e.parent=i,i.addMathmlNodes(e.mathml)}),i}createNode_(e){return void 0!==e?this.idCounter_=Math.max(this.idCounter_,e):e=++this.idCounter_,new Dr(e)}}function Pr(e,t){return e.type===t}function qr(e,t){return e.embellished===t}function Br(e,t){return e.role===t}function jr(e){return Pr(e,"fence")||Pr(e,"punctuation")||Pr(e,"operator")||Pr(e,"relation")}function zr(e){return Wr(e)&&!Br(e,"division")||Pr(e,"appl")||Gr(e)}function Hr(e){return Wr(e)||Gr(e)}function Ur(e,t){return!!t&&Pr(t,"identifier")&&nn.Secondary.has(e.textContent,en.D)}function $r(e){if(Pr(e,"identifier")){const t=e.textContent[0];return t&&e.textContent[1]&&nn.Secondary.has(t,en.D)}return!1}function Gr(e){return Qr(e)||Xr(e)}function Vr(e){return e.embellished?e.embellished:"operator"===(t=e.type)||"relation"===t||"fence"===t||"punctuation"===t?e.type:null;var t}function Wr(e){return Pr(e,"operator")||qr(e,"operator")}function Qr(e){return Pr(e,"relation")||qr(e,"relation")}function Xr(e){return Pr(e,"punctuation")||qr(e,"punctuation")}function Yr(e){return Pr(e,"fence")||qr(e,"fence")}function Kr(e){return!(!e||!Yr(e))&&(!e.embellished||Zr(e))}function Zr(e){return!e.embellished||!function(e){return Pr(e,"tensor")&&(!Pr(e.childNodes[1],"empty")||!Pr(e.childNodes[2],"empty"))&&(!Pr(e.childNodes[3],"empty")||!Pr(e.childNodes[4],"empty"))}(e)&&(!Br(e,"close")||!Pr(e,"tensor"))&&(!Br(e,"open")||!Pr(e,"subscript")&&!Pr(e,"superscript"))&&Zr(e.childNodes[0])}function Jr(e){return!!e&&(Pr(e,"table")||Pr(e,"multiline"))}function ei(e){return!!e&&ti(e)&&Jr(e.childNodes[0])}function ti(e){return!!e&&Pr(e,"fenced")&&(Br(e,"leftright")||mi(e))&&1===e.childNodes.length}function ni(e,t){return t.length>0&&Br(t[t.length-1],"openfence")}function ri(e){return e.childNodes.every(function(e){return e.childNodes.length<=1})}function ii(e){return Pr(e,"largeop")||Pr(e,"limboth")||Pr(e,"limlower")||Pr(e,"limupper")||Pr(e,"function")&&Br(e,"limit function")||(Pr(e,"overscore")||Pr(e,"underscore"))&&ii(e.childNodes[0])}function oi(e,t,n){return 1===t.length&&("punctuation"===e[n].type||"punctuation"===e[n].embellished)&&e[n]===t[0]}function si(e){return Pr(e,"identifier")&&Br(e,"simple function")}const ai=["punctuation","punctuated","relseq","multirel","table","multiline","cases","inference"],li=["limupper","limlower","limboth","subscript","superscript","underscore","overscore","tensor"];function ci(e){const t=e.type;return-1===ai.indexOf(t)&&("infixop"!==t||"implicit"===e.role)&&("fenced"===t?"leftright"!==e.role||ci(e.childNodes[0]):-1===li.indexOf(t)||ci(e.childNodes[0]))}function ui(e){return function(e){return"number"===e.type&&("integer"===e.role||"float"===e.role)}(e)||"vulgar"===e.role||"mixed"===e.role}function hi(e){const t=e.childNodes;return"unit"===e.role&&(!t.length||"unit"===t[0].role)}function di(e){const t=e.childNodes;return"infixop"===e.type&&("multiplication"===e.role||"implicit"===e.role)&&t.length&&(hi(t[0])||ui(t[0]))&&e.childNodes.slice(1).every(hi)}function pi(e){return"infixop"===e.type&&("implicit"===e.role||"unit"===e.role&&!!e.contentNodes.length&&e.contentNodes[0].textContent===tn.invisibleTimes)}function fi(e){return"infixop"===e.type&&"implicit"===e.role}function mi(e){return"neutral"===e.role||"metric"===e.role}function gi(e,t){return mi(e)&&mi(t)&&Ir(e).textContent===Ir(t).textContent}function yi(e){return!!mi(e)&&(!e.embellished||"superscript"!==e.type&&"subscript"!==e.type&&("tensor"!==e.type||"empty"===e.childNodes[3].type&&"empty"===e.childNodes[4].type))}function vi(e){return!!mi(e)&&(!e.embellished||"tensor"!==e.type||"empty"===e.childNodes[1].type&&"empty"===e.childNodes[2].type)}class bi{static getInstance(){return bi.instance=bi.instance||new bi,bi.instance}static tableToMultiline(e){if(!ri(e))return pr("rewrite_subcases",e,bi.classifyTable);e.type="multiline";for(let n,r=0;n=e.childNodes[r];r++)bi.rowToLine_(n,"multiline");var t;return 1!==e.childNodes.length||Pr(t=e.childNodes[0],"line")&&t.contentNodes.length&&Br(t.contentNodes[0],"label")||!ti(e.childNodes[0].childNodes[0])||bi.tableToMatrixOrVector_(bi.rewriteFencedLine_(e)),bi.binomialForm_(e),bi.classifyMultiline(e),e}static number(e){"unknown"!==e.type&&"identifier"!==e.type||(e.type="number"),bi.meaningFromContent(e,bi.numberRole_),bi.exprFont_(e)}static classifyMultiline(e){let t=0;const n=e.childNodes.length;let r;for(;t<n&&(!(r=e.childNodes[t])||!r.childNodes.length);)t++;if(t>=n)return;const i=r.childNodes[0].role;"unknown"!==i&&e.childNodes.every(function(e){const t=e.childNodes[0];return!t||t.role===i&&(Pr(t,"relation")||Pr(t,"relseq"))})&&(e.role=i)}static classifyTable(e){const t=bi.computeColumns_(e);return bi.classifyByColumns_(e,t,"equality")||bi.classifyByColumns_(e,t,"inequality",["equality"])||bi.classifyByColumns_(e,t,"arrow")||bi.detectCaleyTable(e),e}static detectCaleyTable(e){if(!e.mathmlTree)return!1;const t=e.mathmlTree,n=t.getAttribute("columnlines"),r=t.getAttribute("rowlines");return!(!n||!r||!bi.cayleySpacing(n)||!bi.cayleySpacing(r)||(e.role="cayley",0))}static cayleySpacing(e){const t=e.split(" ");return("solid"===t[0]||"dashed"===t[0])&&t.slice(1).every(e=>"none"===e)}static proof(e,t,n){const r=bi.separateSemantics(t);return bi.getInstance().proof(e,r,n)}static findSemantics(e,t,n){const r=null==n?null:n,i=bi.getSemantics(e);return!(!i||!i[t]||null!=r&&i[t]!==r)}static getSemantics(e){const t=e.getAttribute("semantics");return t?bi.separateSemantics(t):null}static removePrefix(e){const[,...t]=e.split("_");return t.join("_")}static separateSemantics(e){const t={};return e.split(";").forEach(function(e){const[n,r]=e.split(":");t[bi.removePrefix(n)]=r}),t}static matchSpaces_(e,t){for(let n,r=0;n=t[r];r++){const t=e[r].mathmlTree,i=e[r+1].mathmlTree;if(!t||!i)continue;const o=t.nextSibling;if(!o||o===i)continue;const s=bi.getSpacer_(o);s&&(n.mathml.push(s),n.mathmlTree=s,n.role="space")}}static getSpacer_(e){if("MSPACE"===P(e))return e;for(;Mr(e)&&1===e.childNodes.length;)if("MSPACE"===P(e=e.childNodes[0]))return e;return null}static fenceToPunct_(e){const t=bi.FENCE_TO_PUNCT_[e.role];if(t){for(;e.embellished;)e.embellished="punctuation",Br(e,"subsup")||Br(e,"underover")||(e.role=t),e=e.childNodes[0];e.type="punctuation",e.role=t}}static classifyFunction_(e,t){if("appl"===e.type||"bigop"===e.type||"integral"===e.type)return"";if(t[0]&&t[0].textContent===tn.functionApplication){bi.getInstance().funcAppls[e.id]=t.shift();let n="simple function";return pr("simple2prefix",e),"prefix function"!==e.role&&"limit function"!==e.role||(n=e.role),bi.propagateFunctionRole_(e,n),"prefix"}return bi.CLASSIFY_FUNCTION_[e.role]||("identifier"===(n=e).type||"latinletter"===n.role||"greekletter"===n.role||"otherletter"===n.role?"simple":"");var n}static propagateFunctionRole_(e,t){if(e){if("infixop"===e.type)return;Br(e,"subsup")||Br(e,"underover")||(e.role=t),bi.propagateFunctionRole_(e.childNodes[0],t)}}static getFunctionOp_(e,t){if(t(e))return e;for(let n,r=0;n=e.childNodes[r];r++){const e=bi.getFunctionOp_(n,t);if(e)return e}return null}static tableToMatrixOrVector_(e){const t=e.childNodes[0];Pr(t,"multiline")?bi.tableToVector_(e):bi.tableToMatrix_(e),e.contentNodes.forEach(t.appendContentNode.bind(t));for(let n,r=0;n=t.childNodes[r];r++)bi.assignRoleToRow_(n,bi.getComponentRoles_(t));return t.parent=null,t}static tableToVector_(e){const t=e.childNodes[0];t.type="vector",1!==t.childNodes.length?bi.binomialForm_(t):bi.tableToSquare_(e)}static binomialForm_(e){2===e.childNodes.length&&(e.role="binomial",e.childNodes[0].role="binomial",e.childNodes[1].role="binomial")}static tableToMatrix_(e){const t=e.childNodes[0];t.type="matrix",t.childNodes&&t.childNodes.length>0&&t.childNodes[0].childNodes&&t.childNodes.length===t.childNodes[0].childNodes.length?bi.tableToSquare_(e):t.childNodes&&1===t.childNodes.length&&(t.role="rowvector")}static tableToSquare_(e){e.childNodes[0].role=mi(e)?"determinant":"squarematrix"}static getComponentRoles_(e){const t=e.role;return t&&"unknown"!==t?t:e.type.toLowerCase()||"unknown"}static tableToCases_(e,t){for(let n,r=0;n=e.childNodes[r];r++)bi.assignRoleToRow_(n,"cases");return e.type="cases",e.appendContentNode(t),ri(e)&&bi.binomialForm_(e),e}static rewriteFencedLine_(e){const t=e.childNodes[0],n=e.childNodes[0].childNodes[0],r=e.childNodes[0].childNodes[0].childNodes[0];return n.parent=e.parent,e.parent=n,r.parent=t,n.childNodes=[e],t.childNodes=[r],n}static rowToLine_(e,t){const n=t||"unknown";Pr(e,"row")&&(e.type="line",e.role=n,1===e.childNodes.length&&Pr(e.childNodes[0],"cell")&&(e.childNodes=e.childNodes[0].childNodes,e.childNodes.forEach(function(t){t.parent=e})))}static assignRoleToRow_(e,t){Pr(e,"line")?e.role=t:Pr(e,"row")&&(e.role=t,e.childNodes.forEach(function(e){Pr(e,"cell")&&(e.role=t)}))}static nextSeparatorFunction_(e){let t;if(e){if(e.match(/^\s+$/))return null;t=e.replace(/\s/g,"").split("").filter(function(e){return e})}else t=[","];return function(){return t.length>1?t.shift():t[0]}}static meaningFromContent(e,t){const n=[...e.textContent].filter(e=>e.match(/[^\s]/)),r=n.map(e=>nn.Meaning.get(e));t(e,n,r)}static numberRole_(e,t,n){if("unknown"===e.role)return n.every(function(e){return"number"===e.type&&"integer"===e.role||"punctuation"===e.type&&"comma"===e.role})?(e.role="integer",void("0"===t[0]&&e.addAnnotation("general","basenumber"))):void(e.role=n.every(function(e){return"number"===e.type&&"integer"===e.role||"punctuation"===e.type})?"float":"othernumber")}static exprFont_(e){if(e.font!==Zt.UNKNOWN)return;const t=[...e.textContent].map(e=>nn.Meaning.get(e)).reduce(function(e,t){return e&&t.font&&t.font!==Zt.UNKNOWN&&t.font!==e?e===Zt.UNKNOWN?t.font:null:e},Zt.UNKNOWN);t&&(e.font=t)}static purgeFences_(e){const t=e.rel,n=e.comp,r=[],i=[];for(;t.length>0;){const e=t.shift();let o=n.shift();Kr(e)?(r.push(e),i.push(o)):(bi.fenceToPunct_(e),o.push(e),o=o.concat(n.shift()),n.unshift(o))}return i.push(n.shift()),{rel:r,comp:i}}static rewriteFencedNode_(e){const t=e.contentNodes[1];let n=bi.rewriteFence_(e,e.contentNodes[0]);return e.contentNodes[0]=n.fence,n=bi.rewriteFence_(n.node,t),e.contentNodes[1]=n.fence,e.contentNodes[0].parent=e,e.contentNodes[1].parent=e,n.node.parent=null,n.node}static rewriteFence_(e,t){if(!t.embellished)return{node:e,fence:t};const n=t.childNodes[0],r=bi.rewriteFence_(e,n);return Pr(t,"superscript")||Pr(t,"subscript")||Pr(t,"tensor")?(Br(t,"subsup")||(t.role=e.role),n!==r.node&&(t.replaceChild(n,r.node),n.parent=e),bi.propagateFencePointer_(t,n),{node:t,fence:r.fence}):(t.replaceChild(n,r.fence),t.mathmlTree&&-1===t.mathml.indexOf(t.mathmlTree)&&t.mathml.push(t.mathmlTree),{node:r.node,fence:t})}static propagateFencePointer_(e,t){e.fencePointer=t.fencePointer||t.id.toString(),e.embellished=null}static classifyByColumns_(e,t,n,r){return!!(3===t.length&&bi.testColumns_(t,1,e=>bi.isPureRelation_(e,n))||2===t.length&&(bi.testColumns_(t,1,e=>bi.isEndRelation_(e,n)||bi.isPureRelation_(e,n))||bi.testColumns_(t,0,e=>bi.isEndRelation_(e,n,!0)||bi.isPureRelation_(e,n))))&&(e.role=n,!0)}static isEndRelation_(e,t,n){const r=n?e.childNodes.length-1:0;return Pr(e,"relseq")&&Br(e,t)&&Pr(e.childNodes[r],"empty")}static isPureRelation_(e,t){return Pr(e,"relation")&&Br(e,t)}static computeColumns_(e){const t=[];for(let n,r=0;n=e.childNodes[r];r++)for(let e,i=0;e=n.childNodes[i];i++)t[i]?t[i].push(e):t[i]=[e];return t}static testColumns_(e,t,n){const r=e[t];return!!r&&r.some(function(e){return e.childNodes.length&&n(e.childNodes[0])})&&r.every(function(e){return!e.childNodes.length||n(e.childNodes[0])})}setNodeFactory(e){bi.getInstance().factory_=e,lr(bi.getInstance().factory_)}getNodeFactory(){return bi.getInstance().factory_}identifierNode(e,t,n){if("MathML-Unit"===n)e.type="identifier",e.role="unit";else if(!t&&1===e.textContent.length&&("integer"===e.role||"latinletter"===e.role||"greekletter"===e.role)&&e.font===Zt.NORMAL)return e.font=Zt.ITALIC,pr("simpleNamedFunction",e);return"unknown"===e.type&&(e.type="identifier"),bi.exprFont_(e),pr("simpleNamedFunction",e)}implicitNode(e){return e=bi.getInstance().getMixedNumbers_(e),1===(e=bi.getInstance().combineUnits_(e)).length?e[0]:pr("combine_juxtaposition",bi.getInstance().implicitNode_(e))}text(e,t){return bi.exprFont_(e),e.type="text","ANNOTATION-XML"===t?(e.role="annotation",e):"MS"===t?(e.role="string",e):"MSPACE"===t||e.textContent.match(/^\s*$/)?(e.role="space",e):/\s/.exec(e.textContent)?(e.role="text",e):(e.role="unknown",e)}row(e){return 0===(e=e.filter(function(e){return!Pr(e,"empty")})).length?bi.getInstance().factory_.makeEmptyNode():(e=bi.getInstance().getFencesInRow_(e),e=bi.getInstance().tablesInRow(e),e=bi.getInstance().getPunctuationInRow_(e),e=bi.getInstance().getTextInRow_(e),e=bi.getInstance().getFunctionsInRow_(e),bi.getInstance().relationsInRow_(e))}limitNode(e,t){if(!t.length)return bi.getInstance().factory_.makeEmptyNode();let n,r=t[0],i="unknown";if(!t[1])return r;if(ii(r)){n=bi.MML_TO_LIMIT_[e];const o=n.length;if(i=n.type,t=t.slice(0,n.length+1),1===o&&jr(t[1])||2===o&&jr(t[1])&&jr(t[2]))return n=bi.MML_TO_BOUNDS_[e],bi.getInstance().accentNode_(r,t,n.type,n.length,n.accent);if(2===o){if(jr(t[1]))return r=bi.getInstance().accentNode_(r,[r,t[1]],{MSUBSUP:"subscript",MUNDEROVER:"underscore"}[e],1,!0),t[2]?bi.getInstance().makeLimitNode_(r,[r,t[2]],null,"limupper"):r;if(t[2]&&jr(t[2]))return r=bi.getInstance().accentNode_(r,[r,t[2]],{MSUBSUP:"superscript",MUNDEROVER:"overscore"}[e],1,!0),bi.getInstance().makeLimitNode_(r,[r,t[1]],null,"limlower");t[o]||(i="limlower")}return bi.getInstance().makeLimitNode_(r,t,null,i)}return n=bi.MML_TO_BOUNDS_[e],bi.getInstance().accentNode_(r,t,n.type,n.length,n.accent)}tablesInRow(e){let t=Rr(e,ei),n=[];for(let r,i=0;r=t.rel[i];i++)n=n.concat(t.comp.shift()),n.push(bi.tableToMatrixOrVector_(r));n=n.concat(t.comp.shift()),t=Rr(n,Jr),n=[];for(let r,i=0;r=t.rel[i];i++){const e=t.comp.shift();ni(0,e)&&bi.tableToCases_(r,e.pop()),n=n.concat(e),n.push(r)}return n.concat(t.comp.shift())}mfenced(e,t,n,r){if(n&&r.length>0){const e=bi.nextSeparatorFunction_(n),t=[r.shift()];r.forEach(n=>{t.push(bi.getInstance().factory_.makeContentNode(e())),t.push(n)}),r=t}return e&&t?bi.getInstance().horizontalFencedNode_(bi.getInstance().factory_.makeContentNode(e),bi.getInstance().factory_.makeContentNode(t),r):(e&&r.unshift(bi.getInstance().factory_.makeContentNode(e)),t&&r.push(bi.getInstance().factory_.makeContentNode(t)),bi.getInstance().row(r))}fractionLikeNode(e,t,n,r){let i;if(!r&&function(e){if(!e)return!1;if(-1!==["negativeveryverythinmathspace","negativeverythinmathspace","negativethinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace"].indexOf(e))return!0;const t=e.match(/[0-9.]+/);return!!t&&0===parseFloat(t[0])}(n)){const n=bi.getInstance().factory_.makeBranchNode("line",[e],[]),r=bi.getInstance().factory_.makeBranchNode("line",[t],[]);return i=bi.getInstance().factory_.makeBranchNode("multiline",[n,r],[]),bi.binomialForm_(i),bi.classifyMultiline(i),i}return i=bi.getInstance().fractionNode_(e,t),r&&i.addAnnotation("general","bevelled"),i}tensor(e,t,n,r,i){const o=bi.getInstance().factory_.makeBranchNode("tensor",[e,bi.getInstance().scriptNode_(t,"leftsub"),bi.getInstance().scriptNode_(n,"leftsuper"),bi.getInstance().scriptNode_(r,"rightsub"),bi.getInstance().scriptNode_(i,"rightsuper")],[]);return o.role=e.role,o.embellished=Vr(e),o}pseudoTensor(e,t,n){const r=e=>!Pr(e,"empty"),i=t.filter(r).length,o=n.filter(r).length;if(!i&&!o)return e;const s=i?o?"MSUBSUP":"MSUB":"MSUP",a=[e];return i&&a.push(bi.getInstance().scriptNode_(t,"rightsub",!0)),o&&a.push(bi.getInstance().scriptNode_(n,"rightsuper",!0)),bi.getInstance().limitNode(s,a)}font(e){return bi.MATHJAX_FONTS[e]||e}proof(e,t,n){if(t.inference||t.axiom||console.log("Noise"),t.axiom){const t=bi.getInstance().cleanInference(e.childNodes),r=t.length?bi.getInstance().factory_.makeBranchNode("inference",n(t),[]):bi.getInstance().factory_.makeEmptyNode();return r.role="axiom",r.mathmlTree=e,r}const r=bi.getInstance().inference(e,t,n);return t.proof&&(r.role="proof",r.childNodes[0].role="final"),r}inference(e,t,n){if(t.inferenceRule){const t=bi.getInstance().getFormulas(e,[],n);return bi.getInstance().factory_.makeBranchNode("inference",[t.conclusion,t.premises],[])}const r=t.labelledRule,i=C(e.childNodes),o=[];"left"!==r&&"both"!==r||o.push(bi.getInstance().getLabel(e,i,n,"left")),"right"!==r&&"both"!==r||o.push(bi.getInstance().getLabel(e,i,n,"right"));const s=bi.getInstance().getFormulas(e,i,n),a=bi.getInstance().factory_.makeBranchNode("inference",[s.conclusion,s.premises],o);return a.mathmlTree=e,a}getLabel(e,t,n,r){const i=bi.getInstance().findNestedRow(t,"prooflabel",r),o=bi.getInstance().factory_.makeBranchNode("rulelabel",n(C(i.childNodes)),[]);return o.role=r,o.mathmlTree=i,o}getFormulas(e,t,n){const r=t.length?bi.getInstance().findNestedRow(t,"inferenceRule"):e,i="up"===bi.getSemantics(r).inferenceRule,o=i?r.childNodes[0]:r.childNodes[1],s=(i?r.childNodes[1]:r.childNodes[0]).childNodes[0].childNodes[0],a=C(s.childNodes[0].childNodes),l=[];let c=1;for(const f of a)c%2&&l.push(f.childNodes[0]),c++;const u=n(l),h=n(C(o.childNodes[0].childNodes))[0],d=bi.getInstance().factory_.makeBranchNode("premises",u,[]);d.mathmlTree=s;const p=bi.getInstance().factory_.makeBranchNode("conclusion",[h],[]);return p.mathmlTree=o.childNodes[0].childNodes[0],{conclusion:p,premises:d}}findNestedRow(e,t,n){return bi.getInstance().findNestedRow_(e,t,0,n)}cleanInference(e){return C(e).filter(function(e){return"MSPACE"!==P(e)})}operatorNode(e){return"unknown"===e.type&&(e.type="operator"),pr("multioperator",e)}constructor(){this.funcAppls={},this.splitRoles=new Map([["subtraction","negative"],["addition","positive"]]),this.splitOps=["\u2212","-","\u2010","\u2011","+"],this.factory_=new Fr,lr(this.factory_)}implicitNode_(e){const t=bi.getInstance().factory_.makeMultipleContentNodes(e.length-1,tn.invisibleTimes);bi.matchSpaces_(e,t);const n=bi.getInstance().infixNode_(e,t[0]);return n.role="implicit",t.forEach(function(e){e.parent=n}),n.contentNodes=t,n}infixNode_(e,t){const n=bi.getInstance().factory_.makeBranchNode("infixop",e,[t],Ir(t).textContent);return n.role=t.role,pr("propagateSimpleFunction",n)}explicitMixed_(e){const t=Rr(e,function(e){return e.textContent===tn.invisiblePlus});if(!t.rel.length)return e;let n=[];for(let r,i=0;r=t.rel[i];i++){const e=t.comp[i],o=t.comp[i+1],s=e.length-1;if(e[s]&&o[0]&&Pr(e[s],"number")&&!Br(e[s],"mixed")&&Pr(o[0],"fraction")){const t=bi.getInstance().factory_.makeBranchNode("number",[e[s],o[0]],[]);t.role="mixed",n=n.concat(e.slice(0,s)),n.push(t),o.shift()}else n=n.concat(e),n.push(r)}return n.concat(t.comp[t.comp.length-1])}concatNode_(e,t,n){if(0===t.length)return e;const r=t.map(function(e){return Ir(e).textContent}).join(" "),i=bi.getInstance().factory_.makeBranchNode(n,[e],t,r);return t.length>1&&(i.role="multiop"),i}prefixNode_(e,t){const n=this.splitSingles(t);let r=e;for(;n.length>0;){const e=n.pop();r=bi.getInstance().concatNode_(r,e,"prefixop"),1===e.length&&-1!==this.splitOps.indexOf(e[0].textContent)&&(r.role=this.splitRoles.get(e[0].role))}return r}splitSingles(e){let t=0;const n=[];let r=0;for(;r<e.length;){const i=e[r];!this.splitRoles.has(i.role)||e[r-1]&&e[r-1].role===i.role||e[r+1]&&e[r+1].role===i.role||-1===this.splitOps.indexOf(i.textContent)||(n.push(e.slice(t,r)),n.push(e.slice(r,r+1)),t=r+1),r++}return t<r&&n.push(e.slice(t,r)),n}postfixNode_(e,t){return t.length?bi.getInstance().concatNode_(e,t,"postfixop"):e}combineUnits_(e){const t=Rr(e,function(e){return!Br(e,"unit")});if(e.length===t.rel.length)return t.rel;const n=[];let r,i;do{const e=t.comp.shift();r=t.rel.shift();let o=null;i=n.pop(),i&&(e.length&&ui(i)?e.unshift(i):n.push(i)),1===e.length&&(o=e.pop()),e.length>1&&(o=bi.getInstance().implicitNode_(e),o.role="unit"),o&&n.push(o),r&&n.push(r)}while(r);return n}getMixedNumbers_(e){const t=Rr(e,function(e){return Pr(e,"fraction")&&Br(e,"vulgar")});if(!t.rel.length)return e;let n=[];for(let r,i=0;r=t.rel[i];i++){const e=t.comp[i],o=e.length-1;if(e[o]&&Pr(e[o],"number")&&(Br(e[o],"integer")||Br(e[o],"float"))){const t=bi.getInstance().factory_.makeBranchNode("number",[e[o],r],[]);t.role="mixed",n=n.concat(e.slice(0,o)),n.push(t)}else n=n.concat(e),n.push(r)}return n.concat(t.comp[t.comp.length-1])}getTextInRow_(e){if(0===e.length)return e;if(1===e.length)return"text"===e[0].type&&"unknown"===e[0].role&&(e[0].role="annotation"),e;const{rel:t,comp:n}=Rr(e,e=>Pr(e,"text"));if(0===t.length)return e;const r=[];let i=n.shift();for(;t.length>0;){let e=t.shift(),o=n.shift();const s=[];for(;!o.length&&t.length&&"space"!==e.role&&"space"!==t[0].role;)s.push(e),e=t.shift(),o=n.shift();if(s.length){i.length&&r.push(bi.getInstance().row(i)),s.push(e);let t=bi.getInstance().dummyNode_(s);r.push(t),i=o;continue}if("unknown"!==e.role){i.length&&r.push(bi.getInstance().row(i)),r.push(e),i=o;continue}const a=nn.Meaning.get(e.textContent);"punctuation"!==a.type?"unknown"===a.type?(bi.meaningFromContent(e,(e,t,n)=>{if("unknown"===e.role){if(bi.numberRole_(e,t,n),"othernumber"===e.role)return n.some(e=>"number"!==e.type&&"identifier"!==e.type)?(e.type="text",void(e.role="annotation")):void(e.role="unknown");e.type="number"}}),"text"!==e.type||"unknown"===e.role?("unknown"===e.role&&(t.length||o.length?o.length&&"fenced"===o[0].type?(e.type="function",e.role="prefix function"):e.role="text":(e.type="identifier",e.role="unit")),i.push(e),i=i.concat(o)):(i.length&&r.push(bi.getInstance().row(i)),r.push(e),i=o)):(e.type=a.type,e.role=a.role,e.font=a.font,e.addAnnotation("general","text"),i.push(e),i=i.concat(o)):(e.role=a.role,e.font=a.font,i.length&&r.push(bi.getInstance().row(i)),r.push(e),i=o)}return i.length>0&&r.push(bi.getInstance().row(i)),r.length>1?[bi.getInstance().dummyNode_(r)]:r}relationsInRow_(e){const t=Rr(e,Qr),n=t.rel[0];if(!n)return bi.getInstance().operationsInRow_(e);if(1===e.length)return e[0];const r=t.comp.map(bi.getInstance().operationsInRow_);let i;return t.rel.some(function(e){return!e.equals(n)})?(i=bi.getInstance().factory_.makeBranchNode("multirel",r,t.rel),t.rel.every(function(e){return e.role===n.role})&&(i.role=n.role),i):(i=bi.getInstance().factory_.makeBranchNode("relseq",r,t.rel,Ir(n).textContent),i.role=n.role,i)}operationsInRow_(e){if(0===e.length)return bi.getInstance().factory_.makeEmptyNode();if(1===(e=bi.getInstance().explicitMixed_(e)).length)return e[0];const t=[];for(;e.length>0&&Wr(e[0]);)t.push(e.shift());if(0===e.length)return bi.getInstance().prefixNode_(t.pop(),t);if(1===e.length)return bi.getInstance().prefixNode_(e[0],t);const n=Lr(e=pr("convert_juxtaposition",e),Wr),r=bi.getInstance().prefixNode_(bi.getInstance().implicitNode(n.head),t);return n.div?bi.getInstance().operationsTree_(n.tail,r,n.div):(di(r)&&(r.role="unit"),r)}operationsTree_(e,t,n,r){const i=r||[];if(0===e.length){if(i.unshift(n),"infixop"===t.type){const e=bi.getInstance().postfixNode_(t.childNodes.pop(),i);return t.appendChild(e),t}return bi.getInstance().postfixNode_(t,i)}const o=Lr(e,Wr);if(0===o.head.length)return i.push(o.div),bi.getInstance().operationsTree_(o.tail,t,n,i);const s=bi.getInstance().prefixNode_(bi.getInstance().implicitNode(o.head),i),a=bi.getInstance().appendOperand_(t,n,s);return o.div?bi.getInstance().operationsTree_(o.tail,a,o.div,[]):a}appendOperand_(e,t,n){return"infixop"!==e.type?bi.getInstance().infixNode_([e,n],t):bi.getInstance().appendDivisionOp_(e,t,n)||(bi.getInstance().appendExistingOperator_(e,t,n)?e:"multiplication"===t.role?bi.getInstance().appendMultiplicativeOp_(e,t,n):bi.getInstance().appendAdditiveOp_(e,t,n))}appendDivisionOp_(e,t,n){return"division"===t.role?pi(e)?bi.getInstance().infixNode_([e,n],t):bi.getInstance().appendLastOperand_(e,t,n):"division"===e.role?bi.getInstance().infixNode_([e,n],t):null}appendLastOperand_(e,t,n){let r=e,i=e.childNodes[e.childNodes.length-1];for(;i&&"infixop"===i.type&&!pi(i);)r=i,i=r.childNodes[e.childNodes.length-1];const o=bi.getInstance().infixNode_([r.childNodes.pop(),n],t);return r.appendChild(o),e}appendMultiplicativeOp_(e,t,n){if(pi(e))return bi.getInstance().infixNode_([e,n],t);let r=e,i=e.childNodes[e.childNodes.length-1];for(;i&&"infixop"===i.type&&!pi(i);)r=i,i=r.childNodes[e.childNodes.length-1];const o=bi.getInstance().infixNode_([r.childNodes.pop(),n],t);return r.appendChild(o),e}appendAdditiveOp_(e,t,n){return bi.getInstance().infixNode_([e,n],t)}appendExistingOperator_(e,t,n){return!(!e||"infixop"!==e.type||pi(e))&&(e.contentNodes[0].equals(t)?(e.appendContentNode(t),e.appendChild(n),!0):bi.getInstance().appendExistingOperator_(e.childNodes[e.childNodes.length-1],t,n))}getFencesInRow_(e){let t=Rr(e,Yr);t=bi.purgeFences_(t);const n=t.comp.shift();return bi.getInstance().fences_(t.rel,t.comp,[],[n])}fences_(e,t,n,r){if(0===e.length&&0===n.length)return r[0];const i=e=>Br(e,"open");if(0===e.length){const e=r.shift();for(;n.length>0;){if(i(n[0])){const t=n.shift();bi.fenceToPunct_(t),e.push(t)}else{const t=Lr(n,i),o=t.head.length-1,s=bi.getInstance().neutralFences_(t.head,r.slice(0,o));r=r.slice(o),e.push(...s),t.div&&t.tail.unshift(t.div),n=t.tail}e.push(...r.shift())}return e}const o=n[n.length-1],s=e[0].role;if("open"===s||mi(e[0])&&(!o||!gi(e[0],o))){n.push(e.shift());const i=t.shift();return i&&r.push(i),bi.getInstance().fences_(e,t,n,r)}if(o&&"close"===s&&"open"===o.role){const i=bi.getInstance().horizontalFencedNode_(n.pop(),e.shift(),r.pop());return r.push(r.pop().concat([i],t.shift())),bi.getInstance().fences_(e,t,n,r)}if(o&&gi(e[0],o)){if(!yi(o)||!vi(e[0])){n.push(e.shift());const i=t.shift();return i&&r.push(i),bi.getInstance().fences_(e,t,n,r)}const i=bi.getInstance().horizontalFencedNode_(n.pop(),e.shift(),r.pop());return r.push(r.pop().concat([i],t.shift())),bi.getInstance().fences_(e,t,n,r)}if(o&&"close"===s&&mi(o)&&n.some(i)){const o=Lr(n,i,!0),s=r.pop(),a=r.length-o.tail.length+1,l=bi.getInstance().neutralFences_(o.tail,r.slice(a));r=r.slice(0,a);const c=bi.getInstance().horizontalFencedNode_(o.div,e.shift(),r.pop().concat(l,s));return r.push(r.pop().concat([c],t.shift())),bi.getInstance().fences_(e,t,o.head,r)}const a=e.shift();return bi.fenceToPunct_(a),r.push(r.pop().concat([a],t.shift())),bi.getInstance().fences_(e,t,n,r)}neutralFences_(e,t){if(0===e.length)return e;if(1===e.length)return bi.fenceToPunct_(e[0]),e;const n=e.shift();if(!yi(n)){bi.fenceToPunct_(n);const r=t.shift();return r.unshift(n),r.concat(bi.getInstance().neutralFences_(e,t))}const r=Lr(e,function(e){return gi(e,n)});if(!r.div){bi.fenceToPunct_(n);const r=t.shift();return r.unshift(n),r.concat(bi.getInstance().neutralFences_(e,t))}if(!vi(r.div))return bi.fenceToPunct_(r.div),e.unshift(n),bi.getInstance().neutralFences_(e,t);const i=bi.getInstance().combineFencedContent_(n,r.div,r.head,t);if(r.tail.length>0){const e=i.shift(),t=bi.getInstance().neutralFences_(r.tail,i);return e.concat(t)}return i[0]}combineFencedContent_(e,t,n,r){if(0===n.length){const n=bi.getInstance().horizontalFencedNode_(e,t,r.shift());return r.length>0?r[0].unshift(n):r=[[n]],r}const i=r.shift(),o=n.length-1,s=r.slice(0,o),a=(r=r.slice(o)).shift(),l=bi.getInstance().neutralFences_(n,s);i.push(...l),i.push(...a);const c=bi.getInstance().horizontalFencedNode_(e,t,i);return r.length>0?r[0].unshift(c):r=[[c]],r}horizontalFencedNode_(e,t,n){const r=bi.getInstance().row(n);let i=bi.getInstance().factory_.makeBranchNode("fenced",[r],[e,t]);return"open"===e.role?(bi.getInstance().classifyHorizontalFence_(i),i=pr("propagateComposedFunction",i)):i.role=e.role,i=pr("detect_cycle",i),bi.rewriteFencedNode_(i)}classifyHorizontalFence_(e){e.role="leftright";const t=e.childNodes;if(!function(e){return function(e){return!!e&&-1!==["{","\ufe5b","\uff5b"].indexOf(e.textContent)}(e.contentNodes[0])&&function(e){return!!e&&-1!==["}","\ufe5c","\uff5d"].indexOf(e.textContent)}(e.contentNodes[1])}(e)||t.length>1)return;if(0===t.length||"empty"===t[0].type)return void(e.role="set empty");const n=t[0].type;if(1===t.length&&ci(t[0]))e.role="set singleton";else if("punctuated"===n&&"sequence"===t[0].role){if("comma"!==t[0].contentNodes[0].role)return 1!==t[0].contentNodes.length||"vbar"!==t[0].contentNodes[0].role&&"colon"!==t[0].contentNodes[0].role?void 0:(e.role="set extended",void bi.getInstance().setExtension_(e));e.role="set collection"}}setExtension_(e){const t=e.childNodes[0].childNodes[0];t&&"infixop"===t.type&&1===t.contentNodes.length&&["element","nonelement","reelement","renonelement"].includes(t.contentNodes[0].role)&&(t.addAnnotation("set","intensional"),t.contentNodes[0].addAnnotation("set","intensional"))}getPunctuationInRow_(e){if(e.length<=1)return e;const t=e=>{const t=e.type;return"punctuation"===t||"text"===t||"operator"===t||"relation"===t},n=Rr(e,function(n){if(!Xr(n))return!1;if(Xr(n)&&!Br(n,"ellipsis"))return!0;const r=e.indexOf(n);if(0===r)return!e[1]||!t(e[1]);const i=e[r-1];if(r===e.length-1)return!t(i);const o=e[r+1];return!t(i)||!t(o)});if(0===n.rel.length)return e;const r=[];let i=n.comp.shift();i.length>0&&r.push(bi.getInstance().row(i));let o=0;for(;n.comp.length>0;)r.push(n.rel[o++]),i=n.comp.shift(),i.length>0&&r.push(bi.getInstance().row(i));return[bi.getInstance().punctuatedNode_(r,n.rel)]}punctuatedNode_(e,t){const n=bi.getInstance().factory_.makeBranchNode("punctuated",e,t);if(t.length===e.length){const e=t[0].role;if("unknown"!==e&&t.every(function(t){return t.role===e}))return n.role=e,n}return n.role=oi(e,t,0)?"startpunct":oi(e,t,e.length-1)?"endpunct":t.every(e=>Br(e,"dummy"))?"text":t.every(e=>Br(e,"space"))?"space":"sequence",n}dummyNode_(e){const t=bi.getInstance().factory_.makeMultipleContentNodes(e.length-1,tn.invisibleComma);return t.forEach(function(e){e.role="dummy"}),bi.getInstance().punctuatedNode_(e,t)}accentRole_(e,t){if(!jr(e))return!1;const n=e.textContent,r=nn.Secondary.get(n,en.BAR)||nn.Secondary.get(n,en.TILDE)||e.role;return e.role="underscore"===t?"underaccent":"overaccent",e.addAnnotation("accent",r),!0}accentNode_(e,t,n,r,i){const o=(t=t.slice(0,r+1))[1],s=t[2];let a;if(!i&&s&&(a=bi.getInstance().factory_.makeBranchNode("subscript",[e,o],[]),a.role="subsup",t=[a,s],n="superscript"),i){const r=bi.getInstance().accentRole_(o,n);s&&(bi.getInstance().accentRole_(s,"overscore")&&!r?(a=bi.getInstance().factory_.makeBranchNode("overscore",[e,s],[]),t=[a,o],n="underscore"):(a=bi.getInstance().factory_.makeBranchNode("underscore",[e,o],[]),t=[a,s],n="overscore"),a.role="underover")}return bi.getInstance().makeLimitNode_(e,t,a,n)}makeLimitNode_(e,t,n,r){if("limupper"===r&&"limlower"===e.type)return e.childNodes.push(t[1]),t[1].parent=e,e.type="limboth",e;if("limlower"===r&&"limupper"===e.type)return e.childNodes.splice(1,-1,t[1]),t[1].parent=e,e.type="limboth",e;const i=bi.getInstance().factory_.makeBranchNode(r,t,[]),o=Vr(e);return n&&(n.embellished=o),i.embellished=o,i.role=e.role,i}getFunctionsInRow_(e,t){const n=t||[];if(0===e.length)return n;const r=e.shift(),i=bi.classifyFunction_(r,e);if(!i)return n.push(r),bi.getInstance().getFunctionsInRow_(e,n);const o=bi.getInstance().getFunctionsInRow_(e,[]),s=bi.getInstance().getFunctionArgs_(r,o,i);return n.concat(s)}getFunctionArgs_(e,t,n){let r,i,o;switch(n){case"integral":{const n=bi.getInstance().getIntegralArgs_(t);if(!n.intvar&&!n.integrand.length)return n.rest.unshift(e),n.rest;const r=bi.getInstance().row(n.integrand);return o=bi.getInstance().integralNode_(e,r,n.intvar),pr("intvar_from_fraction",o),n.rest.unshift(o),n.rest}case"prefix":if(t[0]&&"fenced"===t[0].type){const n=t.shift();return mi(n)||(n.role="leftright"),o=bi.getInstance().functionNode_(e,n),t.unshift(o),t}if(r=Lr(t,zr),r.head.length)i=bi.getInstance().row(r.head),r.div&&r.tail.unshift(r.div);else{if(!r.div||!Pr(r.div,"appl"))return t.unshift(e),t;i=r.div}return o=bi.getInstance().functionNode_(e,i),r.tail.unshift(o),r.tail;case"bigop":return r=Lr(t,Hr),r.head.length?(i=bi.getInstance().row(r.head),o=bi.getInstance().bigOpNode_(e,i),r.div&&r.tail.unshift(r.div),r.tail.unshift(o),r.tail):(t.unshift(e),t);default:{if(0===t.length)return[e];const n=t[0];return"fenced"===n.type&&!mi(n)&&function(e){const t=e.childNodes;if(0===t.length)return!0;if(t.length>1)return!1;const n=t[0];if("infixop"===n.type){if("implicit"!==n.role)return!1;if(n.childNodes.some(e=>Pr(e,"infixop")))return!1}return!0}(n)?(n.role="leftright",bi.propagateFunctionRole_(e,"simple function"),o=bi.getInstance().functionNode_(e,t.shift()),t.unshift(o),t):(t.unshift(e),t)}}}getIntegralArgs_(e,t=[]){if(0===e.length){const e=Lr(t,Hr);return e.div&&e.tail.unshift(e.div),{integrand:e.head,intvar:null,rest:e.tail}}pr("intvar_from_implicit",e);const n=e[0];if(Gr(n))return{integrand:t,intvar:null,rest:e};if($r(n))return n.role="integral",{integrand:t,intvar:n,rest:e.slice(1)};if(e[1]&&Ur(n,e[1])){const r=bi.getInstance().prefixNode_(e[1],[n]);return r.role="integral",{integrand:t,intvar:r,rest:e.slice(2)}}return t.push(e.shift()),bi.getInstance().getIntegralArgs_(e,t)}functionNode_(e,t){const n=bi.getInstance().factory_.makeContentNode(tn.functionApplication),r=bi.getInstance().funcAppls[e.id];r&&(n.mathmlTree=r.mathmlTree,n.mathml=r.mathml,n.annotation=r.annotation,n.attributes=r.attributes,delete bi.getInstance().funcAppls[e.id]),n.type="punctuation",n.role="application";const i=bi.getFunctionOp_(e,function(e){return Pr(e,"function")||Pr(e,"identifier")&&Br(e,"simple function")});return bi.getInstance().functionalNode_("appl",[e,t],i,[n])}bigOpNode_(e,t){const n=bi.getFunctionOp_(e,e=>Pr(e,"largeop"));return bi.getInstance().functionalNode_("bigop",[e,t],n,[])}integralNode_(e,t,n){t=t||bi.getInstance().factory_.makeEmptyNode(),n=n||bi.getInstance().factory_.makeEmptyNode();const r=bi.getFunctionOp_(e,e=>Pr(e,"largeop"));return bi.getInstance().functionalNode_("integral",[e,t,n],r,[])}functionalNode_(e,t,n,r){const i=t[0];let o;n&&(o=n.parent,r.push(n));const s=bi.getInstance().factory_.makeBranchNode(e,t,r);return s.role=i.role,o&&(n.parent=o),s}fractionNode_(e,t){const n=bi.getInstance().factory_.makeBranchNode("fraction",[e,t],[]);return n.role=n.childNodes.every(function(e){return Pr(e,"number")&&Br(e,"integer")})?"vulgar":n.childNodes.every(hi)?"unit":"division",pr("propagateSimpleFunction",n)}scriptNode_(e,t,n){let r;switch(e.length){case 0:r=bi.getInstance().factory_.makeEmptyNode();break;case 1:if(r=e[0],n)return r;break;default:r=bi.getInstance().dummyNode_(e)}return r.role=t,r}findNestedRow_(e,t,n,r){if(n>3)return null;for(let i,o=0;i=e[o];o++){const e=P(i);if("MSPACE"!==e){if("MROW"===e)return bi.getInstance().findNestedRow_(C(i.childNodes),t,n+1,r);if(bi.findSemantics(i,t,r))return i}}return null}}bi.FENCE_TO_PUNCT_={metric:"metric",neutral:"vbar",open:"openfence",close:"closefence"},bi.MML_TO_LIMIT_={MSUB:{type:"limlower",length:1},MUNDER:{type:"limlower",length:1},MSUP:{type:"limupper",length:1},MOVER:{type:"limupper",length:1},MSUBSUP:{type:"limboth",length:2},MUNDEROVER:{type:"limboth",length:2}},bi.MML_TO_BOUNDS_={MSUB:{type:"subscript",length:1,accent:!1},MSUP:{type:"superscript",length:1,accent:!1},MSUBSUP:{type:"subscript",length:2,accent:!1},MUNDER:{type:"underscore",length:1,accent:!0},MOVER:{type:"overscore",length:1,accent:!0},MUNDEROVER:{type:"underscore",length:2,accent:!0}},bi.CLASSIFY_FUNCTION_={integral:"integral",sum:"bigop","prefix function":"prefix","limit function":"prefix","simple function":"prefix","composed function":"prefix"},bi.MATHJAX_FONTS={"-tex-caligraphic":Zt.CALIGRAPHIC,"-tex-caligraphic-bold":Zt.CALIGRAPHICBOLD,"-tex-calligraphic":Zt.CALIGRAPHIC,"-tex-calligraphic-bold":Zt.CALIGRAPHICBOLD,"-tex-oldstyle":Zt.OLDSTYLE,"-tex-oldstyle-bold":Zt.OLDSTYLEBOLD,"-tex-mathit":Zt.ITALIC};const xi=bi;let Si={};function wi(e){return Array.from(e.textContent).map(Cn.stringEmpty)}function Ni(e,t){const n=Array.from(e.textContent),r=[],i=xi.getInstance(),o=e.ownerDocument;for(let s,a=0;s=n[a];a++){const e=i.getNodeFactory().makeLeafNode(s,Zt.UNKNOWN),n=i.identifierNode(e,Zt.UNKNOWN,"");t(n),r.push(n.xml(o))}return r}function Ei(e){return Ni(e,function(e){e.textContent.match(/\W/)||(e.type="number")})}function Ti(e){return Ni(e,function(e){e.font=Zt.UNKNOWN,e.type="identifier"})}const Ai=["cases","cell","integral","line","matrix","multiline","overscore","root","row","sqrt","subscript","superscript","table","underscore","vector"];function Ci(e){return Si={},[e]}function ki(e,t,n,r,i,o){r=r||Ai,i=i||{},o=o||function(e){return!1};const s=B(t);if(Si[e]||(Si[e]={}),Si[e][s])return Si[e][s];if(o(t)||n.indexOf(t.tagName)<0)return 0;const a=Mi(t,n,sr(r,n),i,o,0);return Si[e][s]=a,a}function Mi(e,t,n,r,i,o){if(i(e)||n.indexOf(e.tagName)>-1||function(e,t){if(!e.attributes)return!1;const n=C(e.attributes);for(let r,i=0;r=n[i];i++)if(t[r.nodeName]===r.nodeValue)return!0;return!1}(e,r))return o;if(t.indexOf(e.tagName)>-1&&o++,!e.childNodes||0===e.childNodes.length)return o;const s=C(e.childNodes);return Math.max.apply(null,s.map(function(e){return Mi(e,t,n,r,i,o)}))}function _i(e){return ki("fraction",e,["fraction"],Ai,{},W.FUNCTIONS.fracNestDepth)}function Oi(e,t,n){const r=_i(e),i=Array(r).fill(t);return n&&i.push(n),i.join(W.MESSAGES.regexp.JOINER_FRAC)}function Ii(e){return Cn.singleton(Oi(e,W.MESSAGES.MS.START,W.MESSAGES.MS.FRAC_V))}function Li(e){return Cn.singleton(Oi(e,W.MESSAGES.MS.END,W.MESSAGES.MS.FRAC_V),{kind:"LAST"})}function Ri(e){return Cn.singleton(Oi(e,W.MESSAGES.MS.FRAC_OVER),{})}function Di(e){return Cn.singleton(Oi(e,W.MESSAGES.MS.START,W.MESSAGES.MS.FRAC_B))}function Fi(e){return Cn.singleton(Oi(e,W.MESSAGES.MS.END,W.MESSAGES.MS.FRAC_B),{kind:"LAST"})}function Pi(e){const t=_i(e);return Cn.singleton(1===t?W.MESSAGES.MS.FRAC_S:W.FUNCTIONS.combineNestedFraction(W.MESSAGES.MS.NEST_FRAC,W.FUNCTIONS.radicalNestDepth(t-1),W.MESSAGES.MS.FRAC_S))}function qi(e){const t=_i(e);return Cn.singleton(1===t?W.MESSAGES.MS.ENDFRAC:W.FUNCTIONS.combineNestedFraction(W.MESSAGES.MS.NEST_FRAC,W.FUNCTIONS.radicalNestDepth(t-1),W.MESSAGES.MS.ENDFRAC),{kind:"LAST"})}function Bi(e){const t=_i(e);return Cn.singleton(1===t?W.MESSAGES.MS.FRAC_OVER:W.FUNCTIONS.combineNestedFraction(W.MESSAGES.MS.NEST_FRAC,W.FUNCTIONS.radicalNestDepth(t-1),W.MESSAGES.MS.FRAC_OVER))}function ji(e){return W.FUNCTIONS.fracNestDepth(e)?[e]:[]}function zi(e,t,n){for(;e.parentNode;){const r=e.parentNode,i=r.parentNode;if(!i)break;const o=e.getAttribute&&e.getAttribute("role");("subscript"===i.tagName&&e===r.childNodes[1]||"tensor"===i.tagName&&o&&("leftsub"===o||"rightsub"===o))&&(t=n.sub+W.MESSAGES.regexp.JOINER_SUBSUPER+t),("superscript"===i.tagName&&e===r.childNodes[1]||"tensor"===i.tagName&&o&&("leftsuper"===o||"rightsuper"===o))&&(t=n.sup+W.MESSAGES.regexp.JOINER_SUBSUPER+t),e=i}return t.trim()}function Hi(e){return Cn.singleton(zi(e,W.MESSAGES.MS.SUBSCRIPT,{sup:W.MESSAGES.MS.SUPER,sub:W.MESSAGES.MS.SUB}))}function Ui(e){return Cn.singleton(zi(e,W.MESSAGES.MS.SUB,{sup:W.MESSAGES.MS.SUP,sub:W.MESSAGES.MS.SUB}))}function $i(e){return Cn.singleton(zi(e,W.MESSAGES.MS.SUPERSCRIPT,{sup:W.MESSAGES.MS.SUPER,sub:W.MESSAGES.MS.SUB}))}function Gi(e){return Cn.singleton(zi(e,W.MESSAGES.MS.SUP,{sup:W.MESSAGES.MS.SUP,sub:W.MESSAGES.MS.SUB}))}function Vi(e){const t=zi(e,"",{sup:W.MESSAGES.MS.SUPER,sub:W.MESSAGES.MS.SUB});return Cn.singleton(t?t.replace(new RegExp(W.MESSAGES.MS.SUB+"$"),W.MESSAGES.MS.SUBSCRIPT).replace(new RegExp(W.MESSAGES.MS.SUPER+"$"),W.MESSAGES.MS.SUPERSCRIPT):W.MESSAGES.MS.BASELINE)}function Wi(e){const t=zi(e,"",{sup:W.MESSAGES.MS.SUP,sub:W.MESSAGES.MS.SUB});return Cn.singleton(t||W.MESSAGES.MS.BASE)}function Qi(e){return ki("radical",e,["sqrt","root"],Ai,{})}function Xi(e,t,n){const r=Qi(e),i=function(e){const t="sqrt"===e.tagName?"2":T("children/*[1]",e)[0].textContent.trim();return W.MESSAGES.MSroots[t]||""}(e);return n=i?W.FUNCTIONS.combineRootIndex(n,i):n,1===r?n:W.FUNCTIONS.combineNestedRadical(t,W.FUNCTIONS.radicalNestDepth(r-1),n)}function Yi(e){return Cn.singleton(Xi(e,W.MESSAGES.MS.NESTED,W.MESSAGES.MS.STARTROOT))}function Ki(e){return Cn.singleton(Xi(e,W.MESSAGES.MS.NESTED,W.MESSAGES.MS.ENDROOT))}function Zi(e){return Cn.singleton(Xi(e,W.MESSAGES.MS.NESTED,W.MESSAGES.MS.ROOTINDEX))}function Ji(e){return Cn.singleton(Xi(e,W.MESSAGES.MS.NEST_ROOT,W.MESSAGES.MS.STARTROOT))}function eo(e){return Cn.singleton(Xi(e,W.MESSAGES.MS.NEST_ROOT,W.MESSAGES.MS.ENDROOT))}function to(e){return Cn.singleton(Xi(e,W.MESSAGES.MS.NEST_ROOT,W.MESSAGES.MS.ROOTINDEX))}function no(e){return Cn.singleton(Xi(e,W.MESSAGES.MS.NEST_ROOT,W.MESSAGES.MS.ROOT))}function ro(e){return Cn.singleton(Xi(e,W.MESSAGES.MS.NEST_ROOT,W.MESSAGES.MS.INDEX))}function io(e){const t=function(e){return ki("underscore",e,["underscore"],Ai,{},function(e){return e.tagName&&"underscore"===e.tagName&&"underaccent"===e.childNodes[0].childNodes[1].getAttribute("role")})}(e);return Cn.singleton(Array(t).join(W.MESSAGES.MS.UNDER)+W.MESSAGES.MS.UNDERSCRIPT)}function oo(e){return Cn.singleton(W.MESSAGES.MS.ENDSCRIPTS)}function so(e){const t=function(e){return ki("overscore",e,["overscore"],Ai,{},function(e){return e.tagName&&"overscore"===e.tagName&&"overaccent"===e.childNodes[0].childNodes[1].getAttribute("role")})}(e);return Cn.singleton(Array(t).join(W.MESSAGES.MS.OVER)+W.MESSAGES.MS.OVERSCRIPT)}function ao(e){if("matrix"!==e.tagName||"determinant"!==e.getAttribute("role"))return[];const t=T("children/row/children/cell/children/*",e);for(let n,r=0;n=t[r];r++)if("number"!==n.tagName){if("identifier"===n.tagName){const e=n.getAttribute("role");if("latinletter"===e||"greekletter"===e||"otherletter"===e)continue}return[]}return[e]}function lo(){const e=e=>e.map(e=>"ancestor::"+e),t=e=>"not("+e+")",n=t(e(["subscript","superscript","tensor"]).join(" or ")),r=e(["relseq","multrel"]),i=e(["fraction","punctuation","fenced","sqrt","root"]);let o=[];for(let s,a=0;s=i[a];a++)o=o.concat(r.map(function(e){return s+"/"+e}));return[["ancestor::*/following-sibling::*",n,t(o.join(" | "))].join(" and ")]}function co(e){if(!e.childNodes.length||!e.childNodes[0].childNodes.length||!e.childNodes[0].childNodes[0].childNodes.length)return Cn.singleton("");const t=e.childNodes[0].childNodes[0].childNodes[0].textContent;return Cn.singleton(t.match(/^\(.+\)$/)?t.slice(1,-1):t)}const uo=new Map([[3,"CSFleftsuperscript"],[4,"CSFleftsubscript"],[2,"CSFbaseline"],[1,"CSFrightsubscript"],[0,"CSFrightsuperscript"]]),ho=new Map([[4,2],[3,3],[2,1],[1,4],[0,5]]);function po(e){const t=[];let n="",r="",i=parseInt(e,2);for(let o=0;o<5;o++){const e="children/*["+ho.get(o)+"]";if(1&i){const t=uo.get(o%5);n="[t] "+t+"Verbose; [n] "+e+";"+n,r="[t] "+t+"Brief; [n] "+e+";"+r}else t.unshift("name("+e+')="empty"');i>>=1}return[t,n,r]}function fo(e,t=!0){const n=["11111","11110","11101","11100","10111","10110","10101","10100","01111","01110","01101","01100"];for(const r of n){let n="tensor"+r,[i,o,s]=po(r);if(e.defineRule(n,"default",o,"self::tensor",...i),t&&(e.defineRule(n,"brief",s,"self::tensor",...i),e.defineRule(n,"sbrief",s,"self::tensor",...i)),!(3&parseInt(r,2)))continue;const a=uo.get(2);o+="; [t]"+a+"Verbose",s+="; [t]"+a+"Brief",n+="-baseline";const l="((.//*[not(*)])[last()]/@id)!=(((.//ancestor::fraction|ancestor::root|ancestor::sqrt|ancestor::cell|ancestor::line|ancestor::stree)[1]//*[not(*)])[last()]/@id)";e.defineRule(n,"default",o,"self::tensor",l,...i),t&&(e.defineRule(n,"brief",s,"self::tensor",l,...i),e.defineRule(n,"sbrief",s,"self::tensor",l,...i))}}function mo(e){let t=Object.keys(W.MESSAGES.MSroots).length;if(!t)return[];if(t++,!e.childNodes||0===e.childNodes.length||!e.childNodes[0].childNodes)return[];const n=e.childNodes[0].childNodes[0].textContent;if(!/^\d+$/.test(n))return[];const r=parseInt(n,10);return r>1&&r<=t?[e]:[]}function go(e,t){let n=0;return function(){return W.NUMBERS.numericOrdinal(++n)+" "+t}}function yo(e,t){let n=0;return function(){return W.NUMBERS.numberToOrdinal(++n,!1)+" "+t}}function vo(e){const t=$(e,W.MESSAGES.MS.FRAC_OVER);return t.convertible&&t.enumerator&&t.denominator?[Cn.node(W.NUMBERS.numberToWords(t.enumerator),e.childNodes[0].childNodes[0],{separator:""}),Cn.stringAttr(W.NUMBERS.vulgarSep,{separator:""}),Cn.node(W.NUMBERS.numberToOrdinal(t.denominator,1!==t.enumerator),e.childNodes[0].childNodes[1])]:[Cn.node(t.content||"",e)]}function bo(e){const t=C(e.parentNode.childNodes);return Cn.singleton(W.NUMBERS.numericOrdinal(t.indexOf(e)+1).toString())}function xo(e){const t=Vi(e);return t[0].speech=t[0].speech.replace(/-$/,""),t}function So(e){const t=Wi(e);return t[0].speech=t[0].speech.replace(/-$/,""),t}function wo(e){const t=$i(e);return t[0].speech=t[0].speech.replace(/^exposant/,"exposant gauche"),t}function No(e){const t=Hi(e);return t[0].speech=t[0].speech.replace(/^indice/,"indice gauche"),t}function Eo(e){const t=Gi(e);return t[0].speech=t[0].speech.replace(/^sup/,"sup gauche"),t}function To(e){const t=Ui(e);return t[0].speech=t[0].speech.replace(/^sub/,"sub gauche"),t}function Ao(e,t,n){const r=_i(e),i=Array.apply(null,Array(r)).map(e=>t);return n&&i.unshift(n),i.join(W.MESSAGES.regexp.JOINER_FRAC)}function Co(e){return Cn.singleton(Ao(e,W.MESSAGES.MS.START,W.MESSAGES.MS.FRAC_V))}function ko(e){return Cn.singleton(Ao(e,W.MESSAGES.MS.END,W.MESSAGES.MS.FRAC_V))}function Mo(e){return Cn.singleton(Ao(e,W.MESSAGES.MS.START,W.MESSAGES.MS.FRAC_B))}function _o(e){return Cn.singleton(Ao(e,W.MESSAGES.MS.END,W.MESSAGES.MS.FRAC_B))}function Oo(e){const t=_i(e);return Cn.singleton(1===t?W.MESSAGES.MS.FRAC_S:W.FUNCTIONS.combineNestedFraction(W.FUNCTIONS.radicalNestDepth(t-1),W.MESSAGES.MS.NEST_FRAC,W.MESSAGES.MS.FRAC_S))}function Io(e){const t=_i(e);return Cn.singleton(1===t?W.MESSAGES.MS.ENDFRAC:W.FUNCTIONS.combineNestedFraction(W.FUNCTIONS.radicalNestDepth(t-1),W.MESSAGES.MS.NEST_FRAC,W.MESSAGES.MS.ENDFRAC))}function Lo(e){const t=_i(e);return Cn.singleton(1===t?W.MESSAGES.MS.FRAC_OVER:W.FUNCTIONS.combineNestedFraction(W.FUNCTIONS.radicalNestDepth(t-1),W.MESSAGES.MS.NEST_FRAC,W.MESSAGES.MS.FRAC_OVER))}function Ro(e){return 1===T("children/*[1]",e)[0].toString().match(/[^>\u2062>]+<\/[^>]*>/g).length?[e]:[]}function Do(e,t,n){const r=Qi(e);return 1===r?n:W.FUNCTIONS.combineNestedRadical(W.FUNCTIONS.radicalNestDepth(r-1),t,n)}function Fo(e){return Cn.singleton(Do(e,W.MESSAGES.MS.NESTED,W.MESSAGES.MS.STARTROOT))}function Po(e){return Cn.singleton(Do(e,W.MESSAGES.MS.NESTED,W.MESSAGES.MS.ENDROOT))}function qo(e){return Cn.singleton(Do(e,W.MESSAGES.MS.NEST_ROOT,W.MESSAGES.MS.STARTROOT))}function Bo(e){return Cn.singleton(Do(e,W.MESSAGES.MS.NEST_ROOT,W.MESSAGES.MS.ENDROOT))}function jo(e){return Cn.singleton(Do(e,W.MESSAGES.MS.NEST_ROOT,W.MESSAGES.MS.ROOT))}function zo(e,t){return function(e){const t=T("children/*[1]",e)[0].textContent.trim();return W.MESSAGES.MSroots[t]||t+"\uc81c\uacf1\uadfc"}(e)||t}function Ho(e){return Cn.singleton(zo(e,W.MESSAGES.MS.ROOTINDEX))}function Uo(e){return Cn.singleton(zo(e,W.MESSAGES.MS.ROOTINDEX))}function $o(e){return Cn.singleton(zo(e,W.MESSAGES.MS.INDEX))}function Go(e){const t=T("children/*",e);return Cn.singleton(W.NUMBERS.wordOrdinal(t.length))}function Vo(e){const t=T("children/*",e);return Cn.singleton(W.NUMBERS.wordOrdinal(t.length-1))}function Wo(e){const t=T("children/*",e),n=T("content/*",e);return Cn.singleton(W.NUMBERS.wordOrdinal(t.length-n.length))}function Qo(e,t){const n=e;let r=0;return function(){const e=kn.create({text:Yo(n[r])&&Ko(n[r+1])?W.MESSAGES.unitTimes:""},{});return r++,[e]}}const Xo=["superscript","subscript","overscore","underscore"];function Yo(e){for(;e;){if("unit"===e.getAttribute("role"))return!0;const t=e.tagName,n=T("children/*",e);e=-1!==Xo.indexOf(t)?n[0]:n[n.length-1]}return!1}function Ko(e){for(;e;){if("unit"===e.getAttribute("role"))return!0;e=T("children/*",e)[0]}return!1}function Zo(e){for(;e;){if("number"===e.tagName&&"1"===e.textContent)return[e];if("infixop"!==e.tagName||"multiplication"!==e.getAttribute("role")&&"implicit"!==e.getAttribute("role"))return[];e=T("children/*",e)[0]}return[]}function Jo(e){const t=_i(e);return Cn.singleton(new Array(t).join(W.MESSAGES.MS.FRACTION_REPEAT)+W.MESSAGES.MS.FRACTION_START)}function es(e){const t=_i(e);return Cn.singleton(new Array(t).join(W.MESSAGES.MS.FRACTION_REPEAT)+W.MESSAGES.MS.FRACTION_END)}function ts(e){const t=_i(e);return Cn.singleton(new Array(t).join(W.MESSAGES.MS.FRACTION_REPEAT)+W.MESSAGES.MS.FRACTION_OVER)}function ns(e){const t=_i(e);return Cn.singleton(new Array(t).join(W.MESSAGES.MS.FRACTION_REPEAT)+"\u2838"+W.MESSAGES.MS.FRACTION_OVER)}function rs(e){return W.MESSAGES.regexp.HYPER===_i(e).toString()?[e]:[]}function is(e,t){const n=os(e);return Cn.singleton(1===n?t:new Array(n).join(W.MESSAGES.MS.NESTED)+t)}function os(e,t){const n=t||0;return e.parentNode?os(e.parentNode,"root"===e.tagName||"sqrt"===e.tagName?n+1:n):n}function ss(e){return is(e,W.MESSAGES.MS.STARTROOT)}function as(e){return is(e,W.MESSAGES.MS.ENDROOT)}function ls(e){return is(e,W.MESSAGES.MS.ROOTINDEX)}ee.getInstance().setCorrection("enlargeFence",function(e){const t="\u2820";if(1===e.length)return t+e;const n=e.split("");return n.every(function(e){return"\u2833"===e})?t+n.join(t):e.slice(0,-1)+t+e.slice(-1)});const cs=["multirel","relseq","appl","row","line"],us=["subscript","superscript","overscore","underscore"];function hs(e,t){const n=e.parent;if(!n)return!1;const r=n.type;return-1!==cs.indexOf(r)||"prefixop"===r&&"negative"===n.role&&!t.script||"prefixop"===r&&"geometry"===n.role||!("punctuated"!==r||t.enclosed&&"text"!==n.role)}function ds(e,t){const n=e.slice(0);let r,i=!0;return r=e.length>0?T("../../content/*",e[0]):[],function(){const e=r.shift(),o=n.shift(),s=n[0],a=t?[kn.create({text:t},{translate:!0})]:[];if(!e)return a;const l=o?zi(o,"",{sup:W.MESSAGES.MS.SUPER,sub:W.MESSAGES.MS.SUB}):"",c=o&&"EMPTY"!==P(o)||i&&e.parentNode.parentNode&&e.parentNode.parentNode.previousSibling?[kn.create({text:W.MESSAGES.regexp.SPACE+l},{})]:[],u=s&&"EMPTY"!==P(s)||!r.length&&e.parentNode.parentNode&&e.parentNode.parentNode.nextSibling?[kn.create({text:W.MESSAGES.regexp.SPACE},{})]:[],h=y.evaluateNode(e);return i=!1,a.concat(c,h,u)}}function ps(e,t){const n=e.slice(0);let r;return r=e.length>0?T("../../content/*",e[0]):[],function(){const e=n.shift(),i=n[0],o=r.shift(),s=t?[kn.create({text:t},{translate:!0})]:[];if(!o)return s;const a=e&&"NUMBER"===P(e),l=i&&"NUMBER"===P(i);return s.concat(a&&l&&"space"===o.getAttribute("role")?[kn.create({text:W.MESSAGES.regexp.SPACE},{})]:[])}}qn(new Dn("nemeth","number",function(e,t){return e.childNodes.length?(-1!==us.indexOf(e.type)&&(t.script=!0),"fenced"===e.type?(t.number=!1,t.enclosed=!0,["",t]):(hs(e,t)&&(t.number=!0,t.enclosed=!1),["",t])):(hs(e,t)&&(t.number=!0,t.script=!1,t.enclosed=!1),[t.number?"number":"",{number:!1,enclosed:t.enclosed,script:t.script}])},{number:!0}));let fs=!1;class ms{constructor(e,t,n,r){this.name=e,this.dynamicCstr=t,this.precondition=n,this.action=r,this.context=null}toString(){return this.name+" | "+this.dynamicCstr.toString()+" | "+this.precondition.toString()+" ==> "+this.action.toString()}}var gs,ys;function vs(e){switch(e){case"[n]":return gs.NODE;case"[m]":return gs.MULTI;case"[t]":return gs.TEXT;case"[p]":return gs.PERSONALITY;default:throw"Parse error: "+e}}!function(e){e.NODE="NODE",e.MULTI="MULTI",e.TEXT="TEXT",e.PERSONALITY="PERSONALITY"}(gs||(gs={}));class bs{static grammarFromString(e){return ee.parseInput(e)}static fromString(e){const t={type:vs(e.substring(0,3))};let n=e.slice(3).trim();if(!n)throw new ws("Missing content.");switch(t.type){case gs.TEXT:if('"'===n[0]){const e=Ns(n,"\\(")[0].trim();if('"'!==e.slice(-1))throw new ws("Invalid string syntax.");t.content=e,n=n.slice(e.length).trim(),-1===n.indexOf("(")&&(n="");break}case gs.NODE:case gs.MULTI:{const e=n.indexOf(" (");if(-1===e){t.content=n.trim(),n="";break}t.content=n.substring(0,e).trim(),n=n.slice(e).trim()}}if(n){const e=bs.attributesFromString(n);e.grammar&&(t.grammar=e.grammar,delete e.grammar),Object.keys(e).length&&(t.attributes=e)}return new bs(t)}static attributesFromString(e){if("("!==e[0]||")"!==e.slice(-1))throw new ws("Invalid attribute expression: "+e);const t={},n=Ns(e.slice(1,-1),",");for(const r of n){const e=r.indexOf(":");if(-1===e)t[r.trim()]="true";else{const n=r.substring(0,e).trim(),i=r.slice(e+1).trim();t[n]=n===J?bs.grammarFromString(i):i}}return t}constructor({type:e,content:t,attributes:n,grammar:r}){this.type=e,this.content=t,this.attributes=n,this.grammar=r}toString(){let e="";e+=function(e){switch(e){case gs.NODE:return"[n]";case gs.MULTI:return"[m]";case gs.TEXT:return"[t]";case gs.PERSONALITY:return"[p]";default:throw"Unknown type error: "+e}}(this.type),e+=this.content?" "+this.content:"";const t=this.attributesToString();return e+=t?" "+t:"",e}grammarToString(){return this.getGrammar().join(":")}getGrammar(){if(!this.grammar)return[];const e=[];for(const[t,n]of Object.entries(this.grammar))e.push(!0===n?t:!1===n?`!${t}`:`${t}=${n}`);return e}attributesToString(){const e=this.getAttributes(),t=this.grammarToString();return t&&e.push("grammar:"+t),e.length>0?"("+e.join(", ")+")":""}getAttributes(){if(!this.attributes)return[];const e=[];for(const[t,n]of Object.entries(this.attributes))e.push("true"===n?t:`${t}:${n}`);return e}}class xs{static fromString(e){const t=Ns(e,";").filter(function(e){return e.match(/\S/)}).map(function(e){return e.trim()}),n=[];for(let r=0,i=t.length;r<i;r++){const e=bs.fromString(t[r]);e&&n.push(e)}return xs.naiveSpan(n),new xs(n)}static naiveSpan(e){var t;let n=!1;for(let r,i=0;r=e[i];i++){if(n&&(r.type!==gs.TEXT||'"'!==r.content[0]&&!r.content.match(/^CSF/)))continue;if(!n&&r.type===gs.PERSONALITY)continue;if(!n){n=!0;continue}if(null===(t=r.attributes)||void 0===t?void 0:t.span)continue;const o=e[i+1];o&&o.type!==gs.NODE||xs.addNaiveSpan(r,o?o.content:"LAST")}}static addNaiveSpan(e,t){e.attributes||(e.attributes={}),e.attributes.span=t}constructor(e){this.components=e}toString(){return this.components.map(function(e){return e.toString()}).join("; ")}}class Ss{static constraintValue(e,t){for(let n,r=0;n=t[r];r++)if(e.match(n))return++r;return 0}toString(){const e=this.constraints.join(", ");return`${this.query}, ${e} (${this.priority}, ${this.rank})`}constructor(e,...t){this.query=e,this.constraints=t;const[n,r]=this.presetPriority();this.priority=n?r:this.calculatePriority()}calculatePriority(){const e=Ss.constraintValue(this.query,Ss.queryPriorities);if(!e)return 0;const t=this.query.match(/^self::.+\[(.+)\]/);let n=0;return(null==t?void 0:t.length)&&t[1]&&(n=Ss.constraintValue(t[1],Ss.attributePriorities)),100*e+10*n}presetPriority(){if(!this.constraints.length)return[!1,0];const e=this.constraints[this.constraints.length-1].match(/^priority=(.*$)/);if(!e)return[!1,0];this.constraints.pop();const t=parseFloat(e[1]);return[!0,isNaN(t)?0:t]}}Ss.queryPriorities=[/^self::\*$/,/^self::[\w-]+$/,/^self::\*\[.+\]$/,/^self::[\w-]+\[.+\]$/],Ss.attributePriorities=[/^@[\w-]+$/,/^@[\w-]+!=".+"$/,/^not\(contains\(@[\w-]+,\s*".+"\)\)$/,/^contains\(@[\w-]+,".+"\)$/,/^@[\w-]+=".+"$/];class ws extends m{constructor(e){super(e),this.name="RuleError"}}function Ns(e,t){const n=[];let r="";for(;""!==e;){const i=e.search(t);if(-1===i){if((e.match(/"/g)||[]).length%2!=0)throw new ws("Invalid string in expression: "+e);n.push(r+e),r="",e=""}else if((e.substring(0,i).match(/"/g)||[]).length%2==0)n.push(r+e.substring(0,i)),r="",e=e.substring(i+1);else{const t=e.substring(i).search('"');if(-1===t)throw new ws("Invalid string in expression: "+e);r+=e.substring(0,i+t+1),e=e.substring(i+t+1)}}return r&&n.push(r),n}class Es{constructor(e,t){this.prefix=e,this.store=t}add(e,t){this.checkCustomFunctionSyntax_(e)&&(this.store[e]=t)}addStore(e){const t=Object.keys(e.store);for(let n,r=0;n=t[r];r++)this.add(n,e.store[n])}lookup(e){return this.store[e]}checkCustomFunctionSyntax_(e){const t=new RegExp("^"+this.prefix);return!!e.match(t)||(console.error("FunctionError: Invalid function name. Expected prefix "+this.prefix),!1)}}class Ts extends Es{constructor(){super("CQF",{})}}class As extends Es{constructor(){super("CSF",{})}}class Cs extends Es{constructor(){super("CTF",{})}}class ks extends Es{constructor(){super("CGF",{})}}class Ms{constructor(){this.customQueries=new Ts,this.customStrings=new As,this.contextFunctions=new Cs,this.customGenerators=new ks}applyCustomQuery(e,t){const n=this.customQueries.lookup(t);return n?n(e):null}applySelector(e,t){return this.applyCustomQuery(e,t)||T(t,e)}applyQuery(e,t){const n=this.applySelector(e,t);return n.length>0?n[0]:null}applyConstraint(e,t){return!!this.applyQuery(e,t)||function(e,t){let n;try{n=E(e,t,x.result.BOOLEAN_TYPE)}catch(e){return!1}return n.booleanValue}(t,e)}constructString(e,t){const n=this.constructString_(e,t);return Array.isArray(n)?n.map(e=>e.speech).join(""):n}constructSpan(e,t,n){const r=this.constructString_(e,t);if(Array.isArray(r)){const e=r[r.length-1];return e.attributes=Object.assign({},n,e.attributes),r}return[Cn.node(r,e,n)]}constructString_(e,t){if(!t)return"";if('"'===t.charAt(0))return t.slice(1,-1);const n=this.customStrings.lookup(t);return n?n(e):function(e,t){let n;try{n=E(e,t,x.result.STRING_TYPE)}catch(e){return""}return n.stringValue}(t,e)}parse(e){const t=Array.isArray(e)?e:Object.entries(e);for(const n of t)switch(n[0].slice(0,3)){case"CQF":this.customQueries.add(n[0],n[1]);break;case"CSF":this.customStrings.add(n[0],n[1]);break;case"CTF":this.contextFunctions.add(n[0],n[1]);break;case"CGF":this.customGenerators.add(n[0],n[1]);break;default:console.error("FunctionError: Invalid function name "+n[0])}}}class _s{static compareStaticConstraints_(e,t){if(e.length!==t.length)return!1;for(let n,r=0;n=e[r];r++)if(-1===t.indexOf(n))return!1;return!0}static comparePreconditions_(e,t){const n=e.precondition,r=t.precondition;return n.query===r.query&&_s.compareStaticConstraints_(n.constraints,r.constraints)}constructor(){this.context=new Ms,this.parseOrder=o.DEFAULT_ORDER,this.parser=new s(this.parseOrder),this.locale=o.DEFAULT_VALUES[e.LOCALE],this.modality=o.DEFAULT_VALUES[e.MODALITY],this.domain="",this.initialized=!1,this.inherits=null,this.kind="standard",this.customTranscriptions={},this.preconditions=new Map,this.speechRules_=[],this.rank=0,this.parseMethods={Rule:this.defineRule,Generator:this.generateRules,Action:this.defineAction,Precondition:this.definePrecondition,Ignore:this.ignoreRules}}defineRule(e,t,n,r,...i){const o=this.parseAction(n),s=this.parsePrecondition(r,i),a=this.parseCstr(t);if(!(o&&s&&a))return console.error(`Rule Error: ${r}, (${t}): ${n}`),null;const l=new ms(e,a,s,o);return l.precondition.rank=this.rank++,this.addRule(l),l}addRule(e){e.context=this.context,this.speechRules_.unshift(e)}deleteRule(e){const t=this.speechRules_.indexOf(e);-1!==t&&this.speechRules_.splice(t,1)}findRule(e){for(let t,n=0;t=this.speechRules_[n];n++)if(e(t))return t;return null}findAllRules(e){return this.speechRules_.filter(e)}evaluateDefault(e){const t=e.textContent.slice(0);return t.match(/^\s+$/)?this.evaluateWhitespace(t):this.evaluateString(t)}evaluateWhitespace(e){return[]}evaluateCustom(e){const t=this.customTranscriptions[e];return void 0!==t?kn.create({text:t},{adjust:!0,translate:!1}):null}evaluateCharacter(e){return this.evaluateCustom(e)||kn.create({text:e},{adjust:!0,translate:!0})}removeDuplicates(e){for(let t,n=this.speechRules_.length-1;t=this.speechRules_[n];n--)t!==e&&e.dynamicCstr.equal(t.dynamicCstr)&&_s.comparePreconditions_(t,e)&&this.speechRules_.splice(n,1)}getSpeechRules(){return this.speechRules_}setSpeechRules(e){this.speechRules_=e}getPreconditions(){return this.preconditions}parseCstr(e){try{return this.parser.parse(this.locale+"."+this.modality+(this.domain?"."+this.domain:"")+"."+e)}catch(t){if("RuleError"===t.name)return console.error("Rule Error ",`Illegal Dynamic Constraint: ${e}.`,t.message),null;throw t}}parsePrecondition(e,t){try{const n=this.parsePrecondition_(e);e=n[0];let r=n.slice(1);for(const e of t)r=r.concat(this.parsePrecondition_(e));return new Ss(e,...r)}catch(n){if("RuleError"===n.name)return console.error("Rule Error ",`Illegal preconditions: ${e}, ${t}.`,n.message),null;throw n}}parseAction(e){try{return xs.fromString(e)}catch(t){if("RuleError"===t.name)return console.error("Rule Error ",`Illegal action: ${e}.`,t.message),null;throw t}}parse(e){this.modality=e.modality||this.modality,this.locale=e.locale||this.locale,this.domain=e.domain||this.domain,this.context.parse(e.functions||[]),"actions"!==e.kind&&(this.kind=e.kind||this.kind,this.inheritRules()),this.parseRules(e.rules||[])}parseRules(e){for(let t,n=0;t=e[n];n++){const e=t[0],n=this.parseMethods[e];e&&n&&n.apply(this,t.slice(1))}}generateRules(e){const t=this.context.customGenerators.lookup(e);t&&t(this)}defineAction(e,t){let n;try{n=xs.fromString(t)}catch(e){if("RuleError"===e.name)return void console.error("Action Error ",t,e.message);throw e}const r=this.getFullPreconditions(e);if(!r)return void console.error(`Action Error: No precondition for action ${e}`);this.ignoreRules(e);const i=new RegExp("^\\w+\\.\\w+\\."+(this.domain?"\\w+\\.":""));r.conditions.forEach(([t,r])=>{const o=this.parseCstr(t.toString().replace(i,""));this.addRule(new ms(e,o,r,n))})}getFullPreconditions(e){const t=this.preconditions.get(e);return t||!this.inherits?t:this.inherits.getFullPreconditions(e)}definePrecondition(e,t,n,...r){const i=this.parsePrecondition(n,r),o=this.parseCstr(t);i&&o?(i.rank=this.rank++,this.preconditions.set(e,new Os(o,i))):console.error(`Precondition Error: ${n}, (${t})`)}inheritRules(){if(!this.inherits||!this.inherits.getSpeechRules().length)return;const e=new RegExp("^\\w+\\.\\w+\\."+(this.domain?"\\w+\\.":""));this.inherits.getSpeechRules().forEach(t=>{const n=this.parseCstr(t.dynamicCstr.toString().replace(e,""));this.addRule(new ms(t.name,n,t.precondition,t.action))})}ignoreRules(e,...t){let n=this.findAllRules(t=>t.name===e);if(!t.length)return void n.forEach(this.deleteRule.bind(this));let r=[];for(const i of t){const e=this.parseCstr(i);for(const t of n)e.equal(t.dynamicCstr)?this.deleteRule(t):r.push(t);n=r,r=[]}}parsePrecondition_(e){const t=this.context.customGenerators.lookup(e);return t?t():[e]}}class Os{constructor(e,t){this.base=e,this._conditions=[],this.constraints=[],this.allCstr={},this.constraints.push(e),this.addCondition(e,t)}get conditions(){return this._conditions}addConstraint(e){if(this.constraints.filter(t=>t.equal(e)).length)return;this.constraints.push(e);const t=[];for(const[n,r]of this.conditions)this.base.equal(n)&&t.push([e,r]);this._conditions=this._conditions.concat(t)}addBaseCondition(e){this.addCondition(this.base,e)}addFullCondition(e){this.constraints.forEach(t=>this.addCondition(t,e))}addCondition(e,t){const n=e.toString()+" "+t.toString();this.allCstr.condStr||(this.allCstr[n]=!0,this._conditions.push([e,t]))}}class Is extends _s{constructor(){super(),this.annotators=[],this.parseMethods.Alias=this.defineAlias,this.parseMethods.SpecializedRule=this.defineSpecializedRule,this.parseMethods.Specialized=this.defineSpecialized}initialize(){this.initialized||(this.annotations(),this.initialized=!0)}annotations(){for(let e,t=0;e=this.annotators[t];t++)Bn(this.domain,e)}defineAlias(e,t,...n){const r=this.parsePrecondition(t,n);if(!r)return void console.error(`Precondition Error: ${t} ${n}`);const i=this.preconditions.get(e);i?i.addFullCondition(r):console.error(`Alias Error: No precondition by the name of ${e}`)}defineRulesAlias(e,t,...n){const r=this.findAllRules(function(t){return t.name===e});if(0===r.length)throw new ws("Rule with name "+e+" does not exist.");const i=[];r.forEach(e=>{(e=>{const t=e.dynamicCstr.toString(),n=e.action.toString();for(let r,o=0;r=i[o];o++)if(r.action===n&&r.cstr===t)return!1;return i.push({cstr:t,action:n}),!0})(e)&&this.addAlias_(e,t,n)})}defineSpecializedRule(e,t,n,r){const i=this.parseCstr(t),o=this.findRule(t=>t.name===e&&i.equal(t.dynamicCstr)),s=this.parseCstr(n);if(!o&&r)throw new ws("Rule named "+e+" with style "+t+" does not exist.");const a=r?xs.fromString(r):o.action,l=new ms(o.name,s,o.precondition,a);this.addRule(l)}defineSpecialized(e,t,n){const r=this.parseCstr(n);if(!r)return void console.error(`Dynamic Constraint Error: ${n}`);const i=this.preconditions.get(e);i?i.addConstraint(r):console.error(`Alias Error: No precondition by the name of ${e}`)}evaluateString(e){const t=[];if(e.match(/^\s+$/))return t;let n=this.matchNumber_(e);if(n&&n.length===e.length)return t.push(this.evaluateCharacter(n.number)),t;const r=e.replace(/\s/g," ").split(" ").filter(e=>e);for(let i,o=0;i=r[o];o++)if(1===i.length)t.push(this.evaluateCharacter(i));else if(i.match(new RegExp("^["+W.MESSAGES.regexp.TEXT+"]+$")))t.push(this.evaluateCharacter(i));else{let e=i;for(;e;){n=this.matchNumber_(e);const r=e.match(new RegExp("^["+W.MESSAGES.regexp.TEXT+"]+"));if(n)t.push(this.evaluateCharacter(n.number)),e=e.substring(n.length);else if(r)t.push(this.evaluateCharacter(r[0])),e=e.substring(r[0].length);else{const n=Array.from(e);t.push(this.evaluateCharacter(n[0])),e=n.slice(1).join("")}}}return t}parse(e){super.parse(e),this.annotators=e.annotators||[]}addAlias_(e,t,n){const r=this.parsePrecondition(t,n),i=new ms(e.name,e.dynamicCstr,r,e.action);i.name=e.name,this.addRule(i)}matchNumber_(e){const t=e.match(new RegExp("^"+W.MESSAGES.regexp.NUMBER)),n=e.match(new RegExp("^"+Is.regexp.NUMBER));return t||n?t&&t[0]===e||!n||n[0]!==e?t?{number:t[0],length:t[0].length}:null:{number:n[0].replace(new RegExp(Is.regexp.DIGIT_GROUP,"g"),"X").replace(new RegExp(Is.regexp.DECIMAL_MARK,"g"),W.MESSAGES.regexp.DECIMAL_MARK).replace(/X/g,W.MESSAGES.regexp.DIGIT_GROUP.replace(/\\/g,"")),length:n[0].length}:null}}Is.regexp={NUMBER:"((\\d{1,3})(?=(,| ))((,| )\\d{3})*(\\.\\d+)?)|^\\d*\\.\\d+|^\\d+",DECIMAL_MARK:"\\.",DIGIT_GROUP:","};class Ls extends Is{constructor(){super(...arguments),this.modality="braille",this.customTranscriptions={"\u22ca":"\u2808\u2821\u2833"}}evaluateString(e){const t=[],n=Array.from(e);for(let r=0;r<n.length;r++)t.push(this.evaluateCharacter(n[r]));return t}annotations(){for(let e,t=0;e=this.annotators[t];t++)Bn(this.locale,e)}}class Rs extends Ls{constructor(){super(...arguments),this.locale="euro",this.customTranscriptions={},this.customCommands={"\\cdot":"*"}}evaluateString(e){const t=e.split(/(\\[a-z]+)/i);return console.log(t),super.evaluateString(this.cleanup(t).join(""))}cleanup(e){let t=[];for(const n of e){if(n.match(/^\\/)){t.push(this.customCommands[n]||n);continue}const e=n.split("").map(e=>{const t=nn.Meaning.get(e);return"operator"===t.type||"relation"===t.type?" "+e:e});t=t.concat(e)}return t}}!function(e){e.ROOT="root",e.DYNAMIC="dynamic",e.QUERY="query",e.BOOLEAN="boolean",e.STATIC="static"}(ys||(ys={}));class Ds{constructor(e,t){this.constraint=e,this.test=t,this.children_={},this.kind=ys.ROOT}getConstraint(){return this.constraint}getKind(){return this.kind}applyTest(e){return this.test(e)}addChild(e){const t=e.getConstraint(),n=this.children_[t];return this.children_[t]=e,n}getChild(e){return this.children_[e]}getChildren(){const e=[];for(const t of Object.values(this.children_))e.push(t);return e}findChildren(e){const t=[];for(const n of Object.values(this.children_))n.applyTest(e)&&t.push(n);return t}removeChild(e){delete this.children_[e]}toString(){return this.constraint}}class Fs extends Ds{constructor(e,t){super(e,t),this.rule_=null,this.kind=ys.STATIC}getRule(){return this.rule_}setRule(e){this.rule_&&p.getInstance().output("Replacing rule "+this.rule_+" with "+e),this.rule_=e}toString(){return this.getRule()?this.constraint+"\n==> "+this.getRule().action:this.constraint}}function Ps(e,t,n){switch(e){case ys.ROOT:return new qs;case ys.DYNAMIC:return new Bs(t);case ys.QUERY:return new Hs(t,n);case ys.BOOLEAN:return new Us(t,n);default:return null}}class qs extends Ds{constructor(){super("",()=>!0),this.kind=ys.ROOT}}class Bs extends Ds{constructor(e){super(e,t=>t===e),this.kind=ys.DYNAMIC}}const js={"=":(e,t)=>e===t,"!=":(e,t)=>e!==t,"<":(e,t)=>e<t,">":(e,t)=>e>t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t};function zs(e){if(e.match(/^self::\*$/))return e=>!0;if(e.match(/^self::\w+$/)){const t=e.slice(6).toUpperCase();return e=>e.tagName&&P(e)===t}if(e.match(/^self::\w+:\w+$/)){const t=e.split(":"),n=w(t[2]);if(!n)return null;const r=t[3].toUpperCase();return e=>e.localName&&e.localName.toUpperCase()===r&&e.namespaceURI===n}if(e.match(/^@\w+$/)){const t=e.slice(1);return e=>e.hasAttribute&&e.hasAttribute(t)}if(e.match(/^@\w+="[\w\d ]+"$/)){const t=e.split("="),n=t[0].slice(1),r=t[1].slice(1,-1);return e=>e.hasAttribute&&e.hasAttribute(n)&&e.getAttribute(n)===r}if(e.match(/^@\w+!="[\w\d ]+"$/)){const t=e.split("!="),n=t[0].slice(1),r=t[1].slice(1,-1);return e=>!e.hasAttribute||!e.hasAttribute(n)||e.getAttribute(n)!==r}if(e.match(/^contains\(\s*@grammar\s*,\s*"[\w\d ]+"\s*\)$/)){const t=e.split('"')[1];return e=>!!ee.getInstance().getParameter(t)}if(e.match(/^not\(\s*contains\(\s*@grammar\s*,\s*"[\w\d ]+"\s*\)\s*\)$/)){const t=e.split('"')[1];return e=>!ee.getInstance().getParameter(t)}if(e.match(/^name\(\.\.\/\.\.\)="\w+"$/)){const t=e.split('"')[1].toUpperCase();return e=>{var n,r;return(null===(r=null===(n=e.parentNode)||void 0===n?void 0:n.parentNode)||void 0===r?void 0:r.tagName)&&P(e.parentNode.parentNode)===t}}if(e.match(/^count\(preceding-sibling::\*\)=\d+$/)){const t=e.split("="),n=parseInt(t[1],10);return e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.childNodes[n])===e}}if(e.match(/^.+\[@category!?=".+"\]$/)){let[,t,n,r]=e.match(/^(.+)\[@category(!?=)"(.+)"\]$/);const i=r.match(/^unit:(.+)$/);let o="";return i&&(r=i[1],o=":unit"),e=>{const i=T(t,e)[0];if(i){const e=function(e){const t=gn.get(e);return(null==t?void 0:t.base)?t.base.category:""}(i.textContent+o);return"="===n?e===r:e!==r}return!1}}if(e.match(/^string-length\(.+\)\W+\d+/)){const[,t,n,r]=e.match(/^string-length\((.+)\)(\W+)(\d+)/),i=js[n]||js["="],o=parseInt(r,10);return e=>{const n=T(t,e)[0];return!!n&&i(Array.from(n.textContent).length,o)}}return null}class Hs extends Fs{constructor(e,t){super(e,zs(e)),this.context=t,this.kind=ys.QUERY}applyTest(e){return this.test?this.test(e):this.context.applyQuery(e,this.constraint)===e}}class Us extends Fs{constructor(e,t){super(e,zs(e)),this.context=t,this.kind=ys.BOOLEAN}applyTest(e){return this.test?this.test(e):this.context.applyConstraint(e,this.constraint)}}class $s{static collectRules_(e){const t=[];let n=[e];for(;n.length;){const e=n.shift();if(e.getKind()===ys.QUERY||e.getKind()===ys.BOOLEAN){const n=e.getRule();n&&t.unshift(n)}n=n.concat(e.getChildren())}return t}static printWithDepth_(e,t,n){n+=new Array(t+2).join(t.toString())+": "+e.toString()+"\n";const r=e.getChildren();for(let i,o=0;i=r[o];o++)n=$s.printWithDepth_(i,t+1,n);return n}static order_(e){const t=e.getChildren();if(!t.length)return 0;const n=Math.max.apply(null,t.map($s.order_));return Math.max(t.length,n)}constructor(){this.root=Ps(ys.ROOT,"",null)}addRule(e){let t=this.root;const n=e.context,r=e.dynamicCstr.getValues();for(let o=0,s=r.length;o<s;o++)t=this.addNode_(t,r[o],ys.DYNAMIC,n);t=this.addNode_(t,e.precondition.query,ys.QUERY,n);const i=e.precondition.constraints;for(let o=0,s=i.length;o<s;o++)t=this.addNode_(t,i[o],ys.BOOLEAN,n);t.setRule(e)}lookupRules(e,t){let n=[this.root];const r=[];for(;t.length;){const e=t.shift(),r=[];for(;n.length;)n.shift().getChildren().forEach(t=>{t.getKind()===ys.DYNAMIC&&-1===e.indexOf(t.getConstraint())||r.push(t)});n=r.slice()}for(;n.length;){const t=n.shift();if(t.getRule){const e=t.getRule();e&&r.push(e)}const i=t.findChildren(e);n=n.concat(i)}return r}hasSubtrie(e){let t=this.root;for(let n=0,r=e.length;n<r;n++)if(t=t.getChild(e[n]),!t)return!1;return!0}toString(){return $s.printWithDepth_(this.root,0,"")}collectRules(e=this.root){return $s.collectRules_(e)}order(){return $s.order_(this.root)}enumerate(e){return this.enumerate_(this.root,e)}byConstraint(e){let t=this.root;for(;e.length&&t;){const n=e.shift();t=t.getChild(n)}return t||null}enumerate_(e,t){t=t||{};const n=e.getChildren();for(let r,i=0;r=n[i];i++)r.kind===ys.DYNAMIC&&(t[r.getConstraint()]=this.enumerate_(r,t[r.getConstraint()]));return t}addNode_(e,t,n,r){let i=e.getChild(t);return i||(i=Ps(n,t,r),e.addChild(i)),i}}class Gs{static getInstance(){return Gs.instance=Gs.instance||new Gs,Gs.instance}static debugSpeechRule(e,t){const n=e.precondition,r=e.context.applyQuery(t,n.query);p.getInstance().output(n.query,r?r.toString():r),n.constraints.forEach(n=>p.getInstance().output(n,e.context.applyConstraint(t,n)))}static debugNamedSpeechRule(e,t){const n=Gs.getInstance().trie.collectRules().filter(t=>t.name==e);for(let r,i=0;r=n[i];i++)p.getInstance().output("Rule",e,"DynamicCstr:",r.dynamicCstr.toString(),"number",i),Gs.debugSpeechRule(r,t)}evaluateNode(e){A(e);const t=(new Date).getTime();let n=[];try{n=this.evaluateNode_(e)}catch(e){console.error("Something went wrong computing speech."),p.getInstance().output(e)}const r=(new Date).getTime();return p.getInstance().output("Time:",r-t),n}toString(){return this.trie.collectRules().map(e=>e.toString()).join("\n")}runInSetting(e,t){const n=y.getInstance(),r={};for(const[o,s]of Object.entries(e))r[o]=n[o],n[o]=s;n.setDynamicCstr();const i=t();for(const[o,s]of Object.entries(r))n[o]=s;return n.setDynamicCstr(),i}static addStore(t){const n=function(t){const n=`${t.locale}.${t.modality}.${t.domain}`;if("actions"===t.kind){const e=Vs.get(n);return e.parse(t),e}fs||(_n(o.BASE_LOCALE+".speech.mathspeak","",{CQFspaceoutNumber:Ei,CQFspaceoutIdentifier:Ti,CSFspaceoutText:wi,CSFopenFracVerbose:Ii,CSFcloseFracVerbose:Li,CSFoverFracVerbose:Ri,CSFopenFracBrief:Di,CSFcloseFracBrief:Fi,CSFopenFracSbrief:Pi,CSFcloseFracSbrief:qi,CSFoverFracSbrief:Bi,CSFvulgarFraction:vo,CQFvulgarFractionSmall:ji,CSFopenRadicalVerbose:Yi,CSFcloseRadicalVerbose:Ki,CSFindexRadicalVerbose:Zi,CSFopenRadicalBrief:Ji,CSFcloseRadicalBrief:eo,CSFindexRadicalBrief:to,CSFopenRadicalSbrief:no,CSFindexRadicalSbrief:ro,CQFisSmallRoot:mo,CSFsuperscriptVerbose:$i,CSFsuperscriptBrief:Gi,CSFsubscriptVerbose:Hi,CSFsubscriptBrief:Ui,CSFbaselineVerbose:Vi,CSFbaselineBrief:Wi,CSFleftsuperscriptVerbose:$i,CSFleftsubscriptVerbose:Hi,CSFrightsuperscriptVerbose:$i,CSFrightsubscriptVerbose:Hi,CSFleftsuperscriptBrief:Gi,CSFleftsubscriptBrief:Ui,CSFrightsuperscriptBrief:Gi,CSFrightsubscriptBrief:Ui,CSFunderscript:io,CSFoverscript:so,CSFendscripts:oo,CTFordinalCounter:go,CTFwordCounter:yo,CTFcontentIterator:Ln,CQFdetIsSimple:ao,CSFRemoveParens:co,CQFresetNesting:Ci,CGFbaselineConstraint:lo,CGFtensorRules:fo}),_n("es.speech.mathspeak",o.BASE_LOCALE+".speech.mathspeak",{CTFunitMultipliers:Qo,CQFoneLeft:Zo}),_n("fr.speech.mathspeak",o.BASE_LOCALE+".speech.mathspeak",{CSFbaselineVerbose:xo,CSFbaselineBrief:So,CSFleftsuperscriptVerbose:wo,CSFleftsubscriptVerbose:No,CSFleftsuperscriptBrief:Eo,CSFleftsubscriptBrief:To}),_n("ko.speech.mathspeak",o.BASE_LOCALE+".speech.mathspeak",{CSFopenFracVerbose:Co,CSFcloseFracVerbose:ko,CSFopenFracBrief:Mo,CSFcloseFracBrief:_o,CSFopenFracSbrief:Oo,CSFoverFracSbrief:Lo,CSFcloseFracSbrief:Io,CQFisSimpleIndex:Ro,CSFindexRadicalVerbose:Ho,CSFindexRadicalBrief:Uo,CSFindexRadicalSbrief:$o,CSFopenRadicalVerbose:Fo,CSFcloseRadicalVerbose:Po,CSFopenRadicalBrief:qo,CSFcloseRadicalBrief:Bo,CSFopenRadicalSbrief:jo}),_n(o.BASE_LOCALE+".speech.clearspeak","",{CTFpauseSeparator:In,CTFnodeCounter:jn,CTFcontentIterator:Ln,CSFvulgarFraction:vo,CQFvulgarFractionSmall:Xn,CQFcellsSimple:Qn,CSFordinalExponent:Yn,CSFwordOrdinal:ir,CQFmatchingFences:Jn,CSFnestingDepth:Zn,CQFfencedArguments:er,CQFsimpleArguments:tr,CQFspaceoutNumber:Ei}),_n("en.prefix.default","",{CSFordinalPosition:bo}),_n("en.speech.chromevox","",{CTFnodeCounter:On,CTFcontentIterator:Ln}),_n("en.speech.emacspeak","en.speech.chromevox",{CQFvulgarFractionSmall:ji,CSFvulgarFraction:vo}),_n("ko.summary.","ko.speech.mathspeak",{CSFordinalConversion:Go,CSFdecreasedOrdinalConversion:Vo,CSFlistOrdinalConversion:Wo}),_n("nemeth.braille.default",o.BASE_LOCALE+".speech.mathspeak",{CSFopenFraction:Jo,CSFcloseFraction:es,CSFoverFraction:ts,CSFoverBevFraction:ns,CQFhyperFraction:rs,CSFopenRadical:ss,CSFcloseRadical:as,CSFindexRadical:ls,CSFsubscript:Hi,CSFsuperscript:$i,CSFbaseline:Vi,CGFtensorRules:e=>fo(e,!1),CTFrelationIterator:ds,CTFimplicitIterator:ps}),fs=!0),t&&!t.functions&&(t.functions=function(t,n,r){return Mn.get([t,n,r].join("."))||Mn.get([o.DEFAULT_VALUES[e.LOCALE],n,r].join("."))||Mn.get([o.BASE_LOCALE,n,r].join("."))||{}}(t.locale,t.modality,t.domain));const r=function(e,t){return"braille"===t&&"euro"===e?new Rs:"braille"===t?new Ls:new Is}(t.locale,t.modality);return Vs.set(n,r),t.inherits&&(r.inherits=Vs.get(`${t.inherits}.${t.modality}.${t.domain}`)),r.parse(t),r.initialize(),r}(t);"abstract"!==n.kind&&n.getSpeechRules().forEach(e=>Gs.getInstance().trie.addRule(e)),Gs.getInstance().addEvaluator(n)}processGrammar(e,t,n){const r={};for(const[i,o]of Object.entries(n))r[i]="string"==typeof o?e.constructString(t,o):o;ee.getInstance().pushState(r)}addEvaluator(e){const t=e.evaluateDefault.bind(e),n=this.evaluators_[e.locale];if(n)return void(n[e.modality]=t);const r={};r[e.modality]=t,this.evaluators_[e.locale]=r}getEvaluator(t,n){const r=this.evaluators_[t]||this.evaluators_[o.DEFAULT_VALUES[e.LOCALE]];return r[n]||r[o.DEFAULT_VALUES[e.MODALITY]]}enumerate(e){return this.trie.enumerate(e)}constructor(){this.trie=null,this.evaluators_={},this.trie=new $s}evaluateNode_(e){return e?(this.updateConstraint_(),this.evaluateTree_(e)):[]}evaluateTree_(e){const n=y.getInstance();let r;p.getInstance().output(n.mode!==t.HTTP?e.toString():e),ee.getInstance().setAttribute(e);const i=this.lookupRule(e,n.dynamicCstr);if(!i)return n.strict?[]:(r=this.getEvaluator(n.locale,n.modality)(e),e.attributes&&this.addPersonality_(r,{},!1,e),r);p.getInstance().generateOutput(()=>["Apply Rule:",i.name,i.dynamicCstr.toString(),e.toString()]),ee.getInstance().processSingles();const o=i.context,s=i.action.components;r=[];for(let t,a=0;t=s[a];a++){let n=[];const i=t.content||"",s=t.attributes||{};let a=!1;t.grammar&&this.processGrammar(o,e,t.grammar);let l=null;if(s.engine){l=y.getInstance().dynamicCstr.getComponents();const e=ee.parseInput(s.engine);y.getInstance().setDynamicCstr(e)}switch(t.type){case gs.NODE:{const t=o.applyQuery(e,i);t&&(n=this.evaluateTree_(t))}break;case gs.MULTI:{a=!0;const t=o.applySelector(e,i);t.length>0&&(n=this.evaluateNodeList_(o,t,s.sepFunc,o.constructString(e,s.separator),s.ctxtFunc,o.constructString(e,s.context)))}break;case gs.TEXT:{const t=s.span;let r={};if(t){const n=T(t,e);r=n.length?Cn.getAttributes(n[0]):{kind:t}}n=o.constructSpan(e,i,r).map(function(e){return kn.create({text:e.speech,attributes:e.attributes},{adjust:!0})})}break;case gs.PERSONALITY:default:n=[kn.create({text:i})]}n[0]&&!a&&(s.context&&(n[0].context=o.constructString(e,s.context)+(n[0].context||"")),s.annotation&&(n[0].annotation=s.annotation)),this.addLayout(n,s,a),t.grammar&&ee.getInstance().popState(),r=r.concat(this.addPersonality_(n,s,a,e)),l&&y.getInstance().setDynamicCstr(l)}return ee.getInstance().popState(),r}evaluateNodeList_(e,t,n,r,i,o){if(!t.length)return[];const s=r||"",a=o||"",l=e.contextFunctions.lookup(i),c=l?l(t,a):function(){return a},u=e.contextFunctions.lookup(n),h=u?u(t,s):function(){return[kn.create({text:s},{translate:!0})]};let d=[];for(let p,f=0;p=t[f];f++){const e=this.evaluateTree_(p);if(e.length>0&&(e[0].context=c()+(e[0].context||""),d=d.concat(e),f<t.length-1)){const e=h();d=d.concat(e)}}return d}addLayout(e,t,n){const r=t.layout;r&&(r.match(/^begin/)?e.unshift(new kn({text:"",layout:r})):r.match(/^end/)?e.push(new kn({text:"",layout:r})):(e.unshift(new kn({text:"",layout:`begin${r}`})),e.push(new kn({text:"",layout:`end${r}`}))))}addPersonality_(e,t,r,i){const o={};let s=null;for(const a of l){const e=t[a];if(void 0===e)continue;const r=parseFloat(e),i=isNaN(r)?'"'===e.charAt(0)?e.slice(1,-1):e:r;a===n.PAUSE?s=i:o[a]=i}for(let n,a=0;n=e[a];a++)this.addRelativePersonality_(n,o),this.addExternalAttributes_(n,i);if(r&&e.length&&delete e[e.length-1].personality[n.JOIN],s&&e.length){const t=e[e.length-1];t.text||Object.keys(t.personality).length?e.push(kn.create({text:"",personality:{pause:s}})):t.personality[n.PAUSE]=s}return e}addExternalAttributes_(e,t){if(void 0===e.attributes.id&&(e.attributes.id=t.getAttribute("id")),t.hasAttributes()){const n=t.attributes;for(let t=n.length-1;t>=0;t--){const r=n[t].name;!e.attributes[r]&&r.match(/^ext/)&&(e.attributes[r]=n[t].value)}}}addRelativePersonality_(e,t){if(!e.personality)return e.personality=t,e;const n=e.personality;for(const[r,i]of Object.entries(t))n[r]&&"number"==typeof n[r]&&"number"==typeof i?n[r]=n[r]+i:n[r]||(n[r]=i);return e}updateConstraint_(){const t=y.getInstance().dynamicCstr,n=y.getInstance().strict,r=this.trie,i={};let s=t.getValue(e.LOCALE),a=t.getValue(e.MODALITY),l=t.getValue(e.DOMAIN);r.hasSubtrie([s,a,l])||(l=o.DEFAULT_VALUES[e.DOMAIN],r.hasSubtrie([s,a,l])||(a=o.DEFAULT_VALUES[e.MODALITY],r.hasSubtrie([s,a,l])||(s=o.DEFAULT_VALUES[e.LOCALE]))),i[e.LOCALE]=[s],i[e.MODALITY]=["summary"!==a?a:o.DEFAULT_VALUES[e.MODALITY]],i[e.DOMAIN]=["speech"!==a?o.DEFAULT_VALUES[e.DOMAIN]:l];const c=t.getOrder();for(let e,u=0;e=c[u];u++)if(!i[e]){const r=t.getValue(e),s=this.makeSet_(r,t.preference),a=o.DEFAULT_VALUES[e];n||r===a||s.push(a),i[e]=s}t.updateProperties(i)}makeSet_(e,t){return t&&Object.keys(t).length?e.split(":"):[e]}lookupRule(e,t){if(!e||e.nodeType!==M.ELEMENT_NODE&&e.nodeType!==M.TEXT_NODE)return null;const n=this.lookupRules(e,t);return n.length>0?this.pickMostConstraint_(t,n):null}lookupRules(e,t){return this.trie.lookupRules(e,t.allProperties())}pickMostConstraint_(e,t){const n=y.getInstance().comparator;return t.sort(function(e,t){return n.compare(e.dynamicCstr,t.dynamicCstr)||t.precondition.priority-e.precondition.priority||t.precondition.constraints.length-e.precondition.constraints.length||t.precondition.rank-e.precondition.rank}),p.getInstance().generateOutput((()=>t.map(e=>e.name+"("+e.dynamicCstr.toString()+")")).bind(this)),t[0]}}const Vs=new Map;y.nodeEvaluator=Gs.getInstance().evaluateNode.bind(Gs.getInstance());const Ws={small:["default"],capital:["default"],digit:["default"]};function Qs(e){const t=y.getInstance().locale;y.getInstance().locale=e,Ft(),pn({locale:e}),function(){const e=W.ALPHABETS,t=(e,t)=>{const n={};return Object.keys(e).forEach(e=>n[e]=!0),Object.keys(t).forEach(e=>n[e]=!0),Object.keys(n)};Ws.small=t(e.smallPrefix,e.letterTrans),Ws.capital=t(e.capPrefix,e.letterTrans),Ws.digit=t(e.digitPrefix,e.digitTrans)}();for(const n of Xt.values()){const e=n.unicode;"offset"in n?Ks(e,n.font,n.offset||0):Ys(e,W.ALPHABETS[n.base],n.font,!!n.capital)}y.getInstance().locale=t,Ft()}function Xs(e){return function(e){return"string"==typeof e?{font:e,combiner:W.ALPHABETS.combiner}:{font:e[0],combiner:W.COMBINERS[e[1]]||U[e[1]]||W.ALPHABETS.combiner}}("normal"===e||"fullwidth"===e?"":W.MESSAGES.font[e]||W.MESSAGES.embellish[e]||"")}function Ys(e,t,n,r){const i=Xs(n);for(let o,s,a=0;o=e[a],s=t[a];a++)Zs(i.combiner,o,s,i.font,r?W.ALPHABETS.capPrefix:W.ALPHABETS.smallPrefix,W.ALPHABETS.letterTrans,r?Ws.capital:Ws.small)}function Ks(e,t,n){const r=Xs(t);for(let i,o=0;i=e[o];o++)Zs(r.combiner,i,o+n,r.font,W.ALPHABETS.digitPrefix,W.ALPHABETS.digitTrans,Ws.digit)}function Zs(e,t,n,r,i,o,s){for(let a,l=0;a=s[l];l++){const s=a in i?i[a]:i.default;Sn(a,"default",t,e((a in o?o[a]:o.default)(n),r,s))}}var Js=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};const ea={functions:function(e){for(const t of e)pn(t)||(sn(t.names||[],nn.Meaning.get(t.key)||{type:"function",role:"prefix function"}),"base"!==hn?(bn(t),Nn(t)):yn.set(t.key,t))},symbols:function(e){for(const t of e){if(pn(t))continue;const e=un.parseUnicode(t.key);"base"!==hn?xn(e,e,t.mappings):yn.set(e,t)}},units:function(e){for(const t of e)pn(t)||(t.key+=":unit","base"!==hn?(bn(t),t.names&&(t.names=t.names.map(function(e){return e+":unit"})),t.si&&En(t),Nn(t)):yn.set(t.key,t))},si:e=>e.forEach(mn),messages:function(e){const t=Dt[e.locale];if(!t)return void console.error("Locale "+e.locale+" does not exist!");const n=e.kind.toUpperCase(),r=e.messages;if(!r)return;const i=t();for(const[o,s]of Object.entries(r))i[n][o]=s},rules:Gs.addStore,characters:e=>e.forEach(wn)};let ta=!1;function na(n=y.getInstance().locale){v.loaded[n]||(v.loaded[n]=[!1,!1],hn=o.DEFAULT_VALUES[e.LOCALE],dn=o.DEFAULT_VALUES[e.MODALITY],function(e){y.getInstance().isIE&&y.getInstance().mode===t.HTTP?ia(e):function(e){const t=y.getInstance().customLoader?y.getInstance().customLoader:ra(),n=new Promise(n=>{t(e).then(t=>{(function(e,t){let n=!0;for(let r,i=0;r=Object.keys(e)[i];i++){const t=r.split("/");n&&"symbols"===t[1]&&"base"!==t[0]&&(Qs(t[0]),n=!1),ea[t[1]](e[r])}})(JSON.parse(t)),v.loaded[e]=[!0,!0],n(e)},t=>{v.loaded[e]=[!0,!1],console.error(`Unable to load locale: ${e}`),y.getInstance().locale=y.getInstance().defaultLocale,n(e)})});v.promises[e]=n}(e)}(n))}function ra(){switch(y.getInstance().mode){case t.ASYNC:return oa;case t.HTTP:return aa;case t.SYNC:default:return sa}}function ia(e,t){let n=t||1;n<=5&&setTimeout((()=>ia(e,n++)).bind(this),300)}function oa(e){const t=zt(e);return new Promise((e,n)=>{d.Z.fs.readFile(t,"utf8",(t,r)=>{if(t)return n(t);e(r)})})}function sa(e){const t=zt(e);return new Promise((e,n)=>{let r="{}";try{r=d.Z.fs.readFileSync(t,"utf8")}catch(e){return n(e)}e(r)})}function aa(e){const t=zt(e),n=new XMLHttpRequest;return new Promise((e,r)=>{n.onreadystatechange=function(){if(4===n.readyState){const t=n.status;0===t||t>=200&&t<400?e(n.responseText):r(t)}},n.open("GET",t,!0),n.send()})}var la;function ca(e){return function(e,t,n,r){return new(n||(n=Promise))(function(t,i){function o(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(o,s)}a((r=r.apply(e,[])).next())})}(this,0,void 0,function*(){const t=y.getInstance();"default"!==e.domain||"speech"!==e.modality&&e.modality&&"speech"!==t.modality||(e.domain="mathspeak");const n=n=>{void 0!==e[n]&&(t[n]=e[n])};return n("mode"),t.configurate(e),y.BINARY_FEATURES.forEach(n=>{void 0!==e[n]&&(t[n]=!!e[n])}),y.STRING_FEATURES.forEach(n),e.debug&&p.getInstance().init(),e.json&&(d.Z.jsonPath=jt(e.json)),e.xpath&&(d.Z.WGXpath=e.xpath),t.setCustomLoader(e.custom),function(e){var t;e.isIE="undefined"!=typeof window&&"ActiveXObject"in window&&"clipboardData"in window&&(Bt(d.Z.mathmapsIePath),Pt(),!0),e.isEdge="undefined"!=typeof window&&"MSGestureEvent"in window&&null===(null===(t=window.chrome)||void 0===t?void 0:t.loadTimes)&&(document.evaluate=null,Pt(!0),!0)}(t),Ft(),t.setDynamicCstr(),t.init?(v.promises.init=new Promise((e,t)=>{setTimeout(()=>{e("init")},10)}),t.init=!1,v.get()):t.delay?(t.delay=!1,v.get()):function(e=y.getInstance().locale){return Js(this,void 0,void 0,function*(){return ta||(function(){for(const e of Xt.values()){const t=e.unicode;for(const n of t)yn.set(n,{key:n,category:e.category})}}(),na(o.BASE_LOCALE),ta=!0),v.promises[o.BASE_LOCALE].then(()=>Js(this,void 0,void 0,function*(){const t=y.getInstance().defaultLocale;return t?(na(t),v.promises[t].then(()=>Js(this,void 0,void 0,function*(){return na(e),v.promises[e]}))):(na(e),v.promises[e])}))})}()})}!function(e){e[e.ENTER=13]="ENTER",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.TAB=9]="TAB",e[e.LESS=188]="LESS",e[e.GREATER=190]="GREATER",e[e.DASH=189]="DASH",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z"}(la||(la={}));const ua=new Map([[13,"ENTER"],[27,"ESC"],[32,"SPACE"],[33,"PAGE_UP"],[34,"PAGE_DOWN"],[35,"END"],[36,"HOME"],[37,"LEFT"],[38,"UP"],[39,"RIGHT"],[40,"DOWN"],[9,"TAB"],[188,"LESS"],[190,"GREATER"],[189,"DASH"],[48,"ZERO"],[49,"ONE"],[50,"TWO"],[51,"THREE"],[52,"FOUR"],[53,"FIVE"],[54,"SIX"],[55,"SEVEN"],[56,"EIGHT"],[57,"NINE"],[65,"A"],[66,"B"],[67,"C"],[68,"D"],[69,"E"],[70,"F"],[71,"G"],[72,"H"],[73,"I"],[74,"J"],[75,"K"],[76,"L"],[77,"M"],[78,"N"],[79,"O"],[80,"P"],[81,"Q"],[82,"R"],[83,"S"],[84,"T"],[85,"U"],[86,"V"],[87,"W"],[88,"X"],[89,"Y"],[90,"Z"]]);var ha;function da(e,t,n){return(n||function(n,r){return"number"==typeof n&&"number"==typeof r?n+r:"number"==typeof n?r:"number"==typeof r?n:[e,t].sort()[0]}).call(null,e,t)}function pa(e,t){delete e.open,t.close.forEach(t=>delete e[t]),t.open.forEach(n=>e[n]=t[n]);const n=Object.keys(e);e.open=n}function fa(e,t){if(e.length<=1)return e;const n=[];for(let r,i=0;r=t[i],e.length;i++)r.close&&r.close.length&&r.close.forEach(function(t){const r=e.indexOf(t);-1!==r&&(n.unshift(t),e.splice(r,1))});return n}!function(e){e.CLICK="click",e.DBLCLICK="dblclick",e.MOUSEDOWN="mousedown",e.MOUSEUP="mouseup",e.MOUSEOVER="mouseover",e.MOUSEOUT="mouseout",e.MOUSEMOVE="mousemove",e.SELECTSTART="selectstart",e.KEYPRESS="keypress",e.KEYDOWN="keydown",e.KEYUP="keyup",e.TOUCHSTART="touchstart",e.TOUCHMOVE="touchmove",e.TOUCHEND="touchend",e.TOUCHCANCEL="touchcancel"}(ha||(ha={}));let ma={},ga=[];function ya(e){ma={},ga=[];let t=[];const r={};for(let i,o=0;i=e[o];o++){let e=null;const o=i.descriptionSpan(),s=i.personality,a=s[n.JOIN];delete s[n.JOIN],void 0!==s[n.PAUSE]&&(e={[n.PAUSE]:s[n.PAUSE]},delete s[n.PAUSE]),Na(t,o,Ea(s,r),a,e,!0)}return t=t.concat(function(){const e=[];for(let t=ga.length-1;t>=0;t--){const n=ga[t];if(n.length){const t={open:[],close:[]};for(let e=0;e<n.length;e++){const r=n[e];t.close.push(r),t[r]=0}e.push(t)}}return e}()),t=function(e){const t={},n=[];for(let r,i=0;r=e[i];i++){if(!xa(r)){va(n,r);continue}if(!r.close||1!==r.close.length||r.open.length){ba(r,t),n.push(r);continue}let o=e[i+1];if(!o||wa(o)){ba(r,t),n.push(r);continue}const s=Sa(o)?o:null;s&&(o=e[i+2]),o&&xa(o)&&o.open[0]===r.close[0]&&!o.close.length&&o[o.open[0]]===t[o.open[0]]?s?(va(n,s),i+=2):i+=1:(ba(r,t),n.push(r))}return n}(t),t=y.getInstance().cleanpause?function(e){for(;Sa(e[0]);)e.shift();for(;Sa(e[e.length-1]);)e.pop();return e}(t):t,t}function va(e,t){const n=e[e.length-1];if(n){if(wa(t)&&wa(n)){if(void 0===n.join)return void(n.span=n.span.concat(t.span));const e=n.span.pop(),r=t.span.shift();return n.span.push(e+n.join+r),n.span=n.span.concat(t.span),void(n.join=t.join)}Sa(t)&&Sa(n)?n.pause=da(n.pause,t.pause):e.push(t)}else e.push(t)}function ba(e,t){e.rate&&(t.rate=e.rate),e.pitch&&(t.pitch=e.pitch),e.volume&&(t.volume=e.volume)}function xa(e){return"object"==typeof e&&e.open}function Sa(e){return"object"==typeof e&&1===Object.keys(e).length&&Object.keys(e)[0]===n.PAUSE}function wa(e){const t=Object.keys(e);return"object"==typeof e&&(1===t.length&&"span"===t[0]||2===t.length&&("span"===t[0]&&"join"===t[1]||"span"===t[1]&&"join"===t[0]))}function Na(e,t,r,i,o,s=!1){if(s){const s=e[e.length-1];let a;if(s&&(a=s[n.JOIN]),s&&!t.speech&&o&&Sa(s)){const e=n.PAUSE;s[e]=da(s[e],o[e]),o=null}if(s&&t.speech&&0===Object.keys(r).length&&wa(s)){if(void 0!==a){const e=s.span.pop();t=Cn.stringAttr(e.speech+a+t.speech,e.attributes)}s.span.push(t),t=Cn.empty(),s[n.JOIN]=i}}0!==Object.keys(r).length&&e.push(r),t.speech&&e.push({span:[t],join:i}),o&&e.push(o)}function Ea(e,t){if(!t)return e;const n={};for(const r of l){const i=e[r],o=t[r];if(!i&&!o||i&&o&&i===o)continue;const s=i||0;xa(n)||(n.open=[],n.close=[]),i||n.close.push(r),o||n.open.push(r),o&&i&&(n.close.push(r),n.open.push(r)),t[r]=s,n[r]=s,ma[r]?ma[r].push(s):ma[r]=[s]}if(xa(n)){let e=n.close.slice();for(;e.length>0;){let r=ga.pop();const i=sr(r,e);if(e=sr(e,r),r=i,0!==e.length){if(0!==r.length){n.close=n.close.concat(r),n.open=n.open.concat(r);for(let e,i=0;e=r[i];i++)n[e]=t[e]}}else 0!==r.length&&ga.push(r)}ga.push(n.open)}return n}class Ta{constructor(){this.separator_=" "}set separator(e){this.separator_=e}get separator(){return"braille"===y.getInstance().modality?"":this.separator_}error(e){return null}merge(e){let t="";const n=e.length-1;for(let r,i=0;r=e[i];i++)if(t+=r.speech,i<n){const e=r.attributes.separator;t+=void 0!==e?e:this.separator}return t}finalize(e){return e}pauseValue(e){let t;switch(e){case"long":t=750;break;case"medium":t=500;break;case"short":t=250;break;default:t=parseInt(e,10)}return Math.floor(t*y.getInstance().getRate()/100)}}class Aa extends Ta{constructor(){super(...arguments),this.ignoreElements=[n.LAYOUT],this.scaleFunction=null}setScaleFunction(e,t,n,r,i=0){this.scaleFunction=o=>{const s=(o-e)/(t-e);return+(Math.round(n*(1-s)+r*s+"e+"+i)+"e-"+i)}}applyScaleFunction(e){return this.scaleFunction?this.scaleFunction(e):e}ignoreElement(e){return-1!==this.ignoreElements.indexOf(e)}}class Ca extends Aa{markup(e){this.setScaleFunction(-2,2,-100,100,2);const t=ya(e),n=[],r=[];for(let i,o=0;i=t[o];o++)if(i.span)n.push(this.merge(i.span));else if(Sa(i))n.push(this.pause(i));else{if(i.close.length)for(let e=0;e<i.close.length;e++){const e=r.pop();if(-1===i.close.indexOf(e))throw new m("Unknown closing markup element: "+e);n.push(this.closeTag(e))}i.open.length&&fa(i.open.slice(),t.slice(o+1)).forEach(e=>{n.push(this.prosodyElement(e,i[e])),r.push(e)})}return n.join(" ")}}let ka="";const Ma={TABLE:function(e){let t=Fa(e);t.forEach(e=>{e.cells=e.cells.slice(1).slice(0,-1),e.width=e.width.slice(1).slice(0,-1)});const[n,r]=Pa(t);return t=qa(t,r),Ba(t,n)},CASES:function(e){let t=Fa(e);t.forEach(e=>{e.cells=e.cells.slice(0,-1),e.width=e.width.slice(0,-1)});const[n,r]=Pa(t);return t=qa(t,r),Ba(t,n)},CAYLEY:function(e){let t=Fa(e);t.forEach(e=>{e.cells=e.cells.slice(1).slice(0,-1),e.width=e.width.slice(1).slice(0,-1),e.sep=e.sep+e.sep});const[n,r]=Pa(t),i={lfence:"",rfence:"",cells:r.map(e=>"\u2810"+new Array(e).join("\u2812")),width:r,height:1,sep:t[0].sep};return t.splice(1,0,i),t=qa(t,r),Ba(t,n)},MATRIX:function(e){let t=Fa(e);const[n,r]=Pa(t);return t=qa(t,r),Ba(t,n)},CELL:Ia,FENCE:Ia,ROW:Ia,FRACTION:function(e){const[t,n,,r,i]=Array.from(e.childNodes),o=_a(n),s=_a(r),a=Ra(o),l=Ra(s);let c=Math.max(a,l);const u=t+new Array(c+1).join("\u2812")+i;return c=u.length,`${Ua(o,c)}\n${u}\n${Ua(s,c)}`},NUMERATOR:$a,DENOMINATOR:$a};function _a(e){const t=P(e),n=Ma[t];return n?n(e):e.textContent}function Oa(e,t){if(!e||!t)return e+t;const n=La(e),r=La(t),i=n-r;e=i<0?Da(e,r,Ra(e)):e,t=i>0?Da(t,n,Ra(t)):t;const o=e.split(/\r\n|\r|\n/),s=t.split(/\r\n|\r|\n/),a=[];for(let l=0;l<o.length;l++)a.push(o[l]+s[l]);return a.join("\n")}function Ia(e){let t="";for(const n of Array.from(e.childNodes))t=Oa(t,n.nodeType!==M.TEXT_NODE?_a(n):n.textContent);return t}function La(e){return e.split(/\r\n|\r|\n/).length}function Ra(e){return e.split(/\r\n|\r|\n/).reduce((e,t)=>Math.max(t.length,e),0)}function Da(e,t,n){return function(e,t){const n=e.split(/\r\n|\r|\n/),r=[];for(const i of n){const e=t-i.length;r.push(i+(e>0?new Array(e+1).join("\u2800"):""))}return r.join("\n")}(e=function(e,t){const n=t-La(e);return e+(n>0?new Array(n+1).join("\n"):"")}(e,t),n)}function Fa(e){const t=Array.from(e.childNodes),n=[];for(const r of t)r.nodeType===M.ELEMENT_NODE&&n.push(Ha(r));return n}function Pa(e){const t=e.reduce((e,t)=>Math.max(t.height,e),0),n=[];for(let r=0;r<e[0].width.length;r++)n.push(e.map(e=>e.width[r]).reduce((e,t)=>Math.max(e,t),0));return[t,n]}function qa(e,t){const n=[];for(const r of e){if(0===r.height)continue;const e=[];for(let n=0;n<r.cells.length;n++)e.push(Da(r.cells[n],r.height,t[n]));r.cells=e,n.push(r)}return n}function Ba(e,t){if(1===t)return e.map(e=>e.lfence+e.cells.join(e.sep)+e.rfence).join("\n");const n=[];for(const r of e){const e=ja(r.sep,r.height);let t=r.cells.shift();for(;r.cells.length;)t=Oa(t,e),t=Oa(t,r.cells.shift());t=Oa(ja(r.lfence,r.height),t),t=Oa(t,ja(r.rfence,r.height)),n.push(t),n.push(r.lfence+new Array(Ra(t)-3).join(r.sep)+r.rfence)}return n.slice(0,-1).join("\n")}function ja(e,t){let n="";for(;t;)n+=e+"\n",t--;return n.slice(0,-1)}function za(e){return e.nodeType===M.ELEMENT_NODE&&"FENCE"===P(e)?_a(e):""}function Ha(e){const t=Array.from(e.childNodes),n=za(t[0]),r=za(t[t.length-1]);n&&t.shift(),r&&t.pop();let i="";const o=[];for(const s of t){if(s.nodeType===M.TEXT_NODE){i=s.textContent;continue}const e=_a(s);o.push(e)}return{lfence:n,rfence:r,sep:i,cells:o,height:o.reduce((e,t)=>Math.max(La(t),e),0),width:o.map(Ra)}}function Ua(e,t){const n=(t-Ra(e))/2,[r,i]=Math.floor(n)===n?[n,n]:[Math.floor(n),Math.ceil(n)],o=e.split(/\r\n|\r|\n/),s=[],[a,l]=[new Array(r+1).join("\u2800"),new Array(i+1).join("\u2800")];for(const c of o)s.push(a+c+l);return s.join("\n")}function $a(e){const t=e.firstChild,n=Ia(e);if(t&&t.nodeType===M.ELEMENT_NODE){if("ENGLISH"===P(t))return"\u2830"+n;if("NUMBER"===P(t))return"\u283c"+n}return n}class Ga extends Ta{markup(e){const t=ya(e);let r="",i=null,o=!1;for(let s,a=0;s=t[a];a++)xa(s)||(Sa(s)?i=s:(i&&(r+=this.pause(i[n.PAUSE]),i=null),r+=(o?this.separator:"")+this.merge(s.span),o=!0));return r}pause(e){let t;return t="number"==typeof e?e<=250?"short":e<=500?"medium":"long":e,Ga.PAUSE_PUNCTUATION.get(t)||""}}Ga.PAUSE_PUNCTUATION=new Map([["short",","],["medium",";"],["long","."]]);class Va extends Ca{finalize(e){return`<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="${y.getInstance().locale}"><prosody rate="`+y.getInstance().getRate()+'%">'+this.separator+e+this.separator+"</prosody></speak>"}pause(e){return'<break time="'+this.pauseValue(e[n.PAUSE])+'ms"/>'}prosodyElement(e,t){const r=(t=Math.floor(this.applyScaleFunction(t)))<0?t.toString():"+"+t.toString();return"<prosody "+e.toLowerCase()+'="'+r+(e===n.VOLUME?">":'%">')}closeTag(e){return"</prosody>"}markup(e){return Va.MARKS={},super.markup(e)}merge(e){const t=[];let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.isEmptySpan(i))continue;const o=Va.MARK_KIND?i.attributes.kind:"",s=y.getInstance().automark?i.attributes.id:y.getInstance().mark?i.attributes.extid:"";!s||s===n||Va.MARK_ONCE&&Va.MARKS[s]||(t.push(o?`<mark name="${s}" kind="${o}"/>`:`<mark name="${s}"/>`),n=s,Va.MARKS[s]=!0),y.getInstance().character&&1===i.speech.length&&i.speech.match(/[a-zA-Z]/)?t.push('<say-as interpret-as="'+Va.CHARACTER_ATTR+'">'+i.speech+"</say-as>"):t.push(i.speech)}return t.join(this.separator)}isEmptySpan(e){const t=e.attributes.separator;return e.speech.match(/^\s*$/)&&(!t||t.match(/^\s*$/))}}Va.MARK_ONCE=!1,Va.MARK_KIND=!0,Va.CHARACTER_ATTR="character",Va.MARKS={};const Wa=new Va,Qa=new Map([[u.NONE,new class extends Ta{markup(e){let t="";const n=ya(e).filter(e=>e.span);if(!n.length)return t;const r=n.length-1;for(let i,o=0;i=n[o];o++){if(i.span&&(t+=this.merge(i.span)),o>=r)continue;const e=i.join;t+=void 0===e?this.separator:e}return t}}],[u.PUNCTUATION,new Ga],[u.LAYOUT,new class extends Ca{finalize(e){return function(e){ka="";const t=k(`<all>${e}</all>`);return p.getInstance().output(L(t.toString())),ka=Ia(t),ka}(e)}pause(e){return""}prosodyElement(e,t){return e===n.LAYOUT?`<${t}>`:""}closeTag(e){return`</${e}>`}markup(e){const t=[];let n=[];for(const r of e){if(!r.layout){n.push(r);continue}t.push(this.processContent(n)),n=[];const e=r.layout;e.match(/^begin/)?t.push("<"+e.replace(/^begin/,"")+">"):e.match(/^end/)?t.push("</"+e.replace(/^end/,"")+">"):console.warn("Something went wrong with layout markup: "+e)}return t.push(this.processContent(n)),t.join("")}processContent(e){const t=[],n=ya(e);for(let r,i=0;r=n[i];i++)r.span?t.push(this.merge(r.span)):Sa(r);return t.join("")}}],[u.ACSS,new class extends Aa{markup(e){this.setScaleFunction(-2,2,0,10,0);const t=ya(e),n=[],r={open:[]};let i=null,o=!1;for(let c,u=0;c=t[u];u++){if(xa(c)){pa(r,c);continue}if(Sa(c)){o&&(s=i,a=c,l=Math.max,i=s?{pause:da(s.pause,a.pause,l)}:a);continue}const e='"'+this.merge(c.span)+'"';o=!0,i&&(n.push(this.pause(i)),i=null);const t=this.prosody_(r);n.push(t?"(text ("+t+") "+e+")":e)}var s,a,l;return"(exp "+n.join(" ")+")"}error(e){return'(error "'+ua.get(e)+'")'}prosodyElement(e,t){switch(t=this.applyScaleFunction(t),e){case n.RATE:return"(richness . "+t+")";case n.PITCH:return"(average-pitch . "+t+")";case n.VOLUME:return"(stress . "+t+")"}return"(value . "+t+")"}pause(e){return"(pause . "+this.pauseValue(e[n.PAUSE])+")"}prosody_(e){const t=e.open,n=[];for(let r,i=0;r=t[i];i++)n.push(this.prosodyElement(r,e[r]));return n.join(" ")}}],[u.SABLE,new class extends Ca{finalize(e){return'<?xml version="1.0"?><!DOCTYPE SABLE PUBLIC "-//SABLE//DTD SABLE speech mark up//EN" "Sable.v0_2.dtd" []><SABLE>'+this.separator+e+this.separator+"</SABLE>"}pause(e){return'<BREAK MSEC="'+this.pauseValue(e[n.PAUSE])+'"/>'}prosodyElement(e,t){switch(t=this.applyScaleFunction(t),e){case n.PITCH:return'<PITCH RANGE="'+t+'%">';case n.RATE:return'<RATE SPEED="'+t+'%">';case n.VOLUME:return'<VOLUME LEVEL="'+t+'%">';default:return"<"+e.toUpperCase()+' VALUE="'+t+'">'}}closeTag(e){return"</"+e.toUpperCase()+">"}}],[u.VOICEXML,Wa],[u.SSML,Wa]]);function Xa(e){const t=Qa.get(y.getInstance().markup);return t?t.markup(e):""}function Ya(e){const t=Qa.get(y.getInstance().markup);return t?t.finalize(e):e}class Ka extends class{constructor(e){this.type=e,this.factory_=new Fr}getFactory(){return this.factory_}setFactory(e){this.factory_=e}getType(){return this.type}parseList(e){const t=[];for(let n,r=0;n=e[r];r++)t.push(this.parse(n));return t}}{static getAttribute_(e,t,n){if(!e.hasAttribute(t))return n;const r=e.getAttribute(t);return r.match(/^\s*$/)?null:r}constructor(){super("MathML"),this.parseMap_={SEMANTICS:this.semantics_.bind(this),MATH:this.rows_.bind(this),MROW:this.rows_.bind(this),MPADDED:this.rows_.bind(this),MSTYLE:this.rows_.bind(this),MFRAC:this.fraction_.bind(this),MSUB:this.limits_.bind(this),MSUP:this.limits_.bind(this),MSUBSUP:this.limits_.bind(this),MOVER:this.limits_.bind(this),MUNDER:this.limits_.bind(this),MUNDEROVER:this.limits_.bind(this),MROOT:this.root_.bind(this),MSQRT:this.sqrt_.bind(this),MTABLE:this.table_.bind(this),MLABELEDTR:this.tableLabeledRow_.bind(this),MTR:this.tableRow_.bind(this),MTD:this.tableCell_.bind(this),MS:this.text_.bind(this),MTEXT:this.text_.bind(this),MSPACE:this.space_.bind(this),"ANNOTATION-XML":this.text_.bind(this),MI:this.identifier_.bind(this),MN:this.number_.bind(this),MO:this.operator_.bind(this),MFENCED:this.fenced_.bind(this),MENCLOSE:this.enclosed_.bind(this),MMULTISCRIPTS:this.multiscripts_.bind(this),ANNOTATION:this.empty_.bind(this),NONE:this.empty_.bind(this),MACTION:this.action_.bind(this)};const e={type:"identifier",role:"numbersetletter",font:Zt.DOUBLESTRUCK};["C","H","N","P","Q","R","Z","\u2102","\u210d","\u2115","\u2119","\u211a","\u211d","\u2124"].forEach((t=>this.getFactory().defaultMap.set(t,e)).bind(this))}parse(e){xi.getInstance().setNodeFactory(this.getFactory());const t=C(e.childNodes),n=P(e),r=(this.parseMap_[n]||this.dummy_.bind(this))(e,t);return Or(r,e),-1!==["MATH","MROW","MPADDED","MSTYLE","SEMANTICS","MACTION"].indexOf(n)||(r.mathml.unshift(e),r.mathmlTree=e),r}semantics_(e,t){return t.length?this.parse(t[0]):this.getFactory().makeEmptyNode()}rows_(e,t){const n=e.getAttribute("semantics");if(n&&n.match("bspr_"))return xi.proof(e,n,this.parseList.bind(this));let r;return 1===(t=_r(t)).length?(r=this.parse(t[0]),"empty"!==r.type||r.mathmlTree||(r.mathmlTree=e)):r=xi.getInstance().row(this.parseList(t)),r.mathml.unshift(e),r}fraction_(e,t){if(!t.length)return this.getFactory().makeEmptyNode();const n=this.parse(t[0]),r=t[1]?this.parse(t[1]):this.getFactory().makeEmptyNode();return xi.getInstance().fractionLikeNode(n,r,e.getAttribute("linethickness"),"true"===e.getAttribute("bevelled"))}limits_(e,t){return xi.getInstance().limitNode(P(e),this.parseList(t))}root_(e,t){return t[1]?this.getFactory().makeBranchNode("root",[this.parse(t[1]),this.parse(t[0])],[]):this.sqrt_(e,t)}sqrt_(e,t){const n=this.parseList(_r(t));return this.getFactory().makeBranchNode("sqrt",[xi.getInstance().row(n)],[])}table_(e,t){const n=e.getAttribute("semantics");if(n&&n.match("bspr_"))return xi.proof(e,n,this.parseList.bind(this));const r=this.getFactory().makeBranchNode("table",this.parseList(t),[]);return r.mathmlTree=e,xi.tableToMultiline(r)}tableRow_(e,t){const n=this.getFactory().makeBranchNode("row",this.parseList(t),[]);return n.role="table",n}tableLabeledRow_(e,t){if(!t.length)return this.tableRow_(e,t);const n=this.parse(t[0]);n.role="label";const r=this.getFactory().makeBranchNode("row",this.parseList(t.slice(1)),[n]);return r.role="table",r}tableCell_(e,t){const n=this.parseList(_r(t));let r;r=n.length?1===n.length&&Pr(n[0],"empty")?n:[xi.getInstance().row(n)]:[];const i=this.getFactory().makeBranchNode("cell",r,[]);return i.role="table",i}space_(e,t){const n=e.getAttribute("width"),r=n&&n.match(/[a-z]*$/);if(!r)return this.empty_(e,t);const i=r[0],o=parseFloat(n.slice(0,r.index)),s={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[i];if(!s||isNaN(o)||o<s)return this.empty_(e,t);const a=this.getFactory().makeUnprocessed(e);return xi.getInstance().text(a,P(e))}text_(e,t){const n=this.leaf_(e,t);return e.textContent?(n.updateContent(e.textContent,!0),xi.getInstance().text(n,P(e))):n}identifier_(e,t){const n=this.leaf_(e,t);return xi.getInstance().identifierNode(n,xi.getInstance().font(e.getAttribute("mathvariant")),e.getAttribute("class"))}number_(e,t){const n=this.leaf_(e,t);return xi.number(n),n}operator_(e,t){const n=this.leaf_(e,t);return xi.getInstance().operatorNode(n),n}fenced_(e,t){const n=this.parseList(_r(t)),r=Ka.getAttribute_(e,"separators",","),i=Ka.getAttribute_(e,"open","("),o=Ka.getAttribute_(e,"close",")"),s=xi.getInstance().mfenced(i,o,r,n);return xi.getInstance().tablesInRow([s])[0]}enclosed_(e,t){const n=this.parseList(_r(t)),r=this.getFactory().makeBranchNode("enclose",[xi.getInstance().row(n)],[]);return r.role=e.getAttribute("notation")||"unknown",r}multiscripts_(e,t){if(!t.length)return this.getFactory().makeEmptyNode();const n=this.parse(t.shift());if(!t.length)return n;const r=[],i=[],o=[],s=[];let a=!1,l=0;for(let c,u=0;c=t[u];u++)"MPRESCRIPTS"!==P(c)?(a?1&l?r.push(c):i.push(c):1&l?o.push(c):s.push(c),l++):(a=!0,l=0);return _r(r).length||_r(i).length?xi.getInstance().tensor(n,this.parseList(i),this.parseList(r),this.parseList(s),this.parseList(o)):xi.getInstance().pseudoTensor(n,this.parseList(s),this.parseList(o))}empty_(e,t){return this.getFactory().makeEmptyNode()}action_(e,t){const n=t[e.hasAttribute("selection")?parseInt(e.getAttribute("selection"),10)-1:0],r=this.parse(n);return r.mathmlTree=n,r}dummy_(e,t){const n=this.getFactory().makeUnprocessed(e);return n.role=e.tagName,n.textContent=e.textContent,n}leaf_(e,t){if(1===t.length&&t[0].nodeType!==M.TEXT_NODE){const n=this.getFactory().makeUnprocessed(e);return n.role=t[0].tagName,Or(n,t[0]),n}return this.getFactory().makeLeafNode(e.textContent,xi.getInstance().font(e.getAttribute("mathvariant")))}}class Za{constructor(e,t,n=(e=>!1)){this.name=e,this.apply=t,this.applicable=n}}class Ja extends Za{}class el extends Za{}const tl="data-semantic-";var nl;!function(e){e.ADDED="data-semantic-added",e.ALTERNATIVE="data-semantic-alternative",e.CHILDREN="data-semantic-children",e.COLLAPSED="data-semantic-collapsed",e.CONTENT="data-semantic-content",e.EMBELLISHED="data-semantic-embellished",e.FENCEPOINTER="data-semantic-fencepointer",e.FONT="data-semantic-font",e.ID="data-semantic-id",e.ANNOTATION="data-semantic-annotation",e.ATTRIBUTES="data-semantic-attributes",e.OPERATOR="data-semantic-operator",e.OWNS="data-semantic-owns",e.PARENT="data-semantic-parent",e.POSTFIX="data-semantic-postfix",e.PREFIX="data-semantic-prefix",e.ROLE="data-semantic-role",e.SPEECH="data-semantic-speech",e.STRUCTURE="data-semantic-structure",e.TYPE="data-semantic-type"}(nl||(nl={}));const rl=[nl.ADDED,nl.ALTERNATIVE,nl.CHILDREN,nl.COLLAPSED,nl.CONTENT,nl.EMBELLISHED,nl.FENCEPOINTER,nl.FONT,nl.ID,nl.ANNOTATION,nl.ATTRIBUTES,nl.OPERATOR,nl.OWNS,nl.PARENT,nl.POSTFIX,nl.PREFIX,nl.ROLE,nl.SPEECH,nl.STRUCTURE,nl.TYPE];function il(e){return e.map(function(e){return e.id}).join(",")}function ol(e,t){e.setAttribute(nl.TYPE,t.type);const n=t.allAttributes();for(let i,o=0;i=n[o];o++)e.setAttribute(tl+i[0].toLowerCase(),i[1]);t.childNodes.length&&e.setAttribute(nl.CHILDREN,il(t.childNodes)),t.contentNodes.length&&e.setAttribute(nl.CONTENT,il(t.contentNodes)),t.parent&&e.setAttribute(nl.PARENT,t.parent.id.toString());const r=t.attributesXml();r&&e.setAttribute(nl.ATTRIBUTES,r),function(e,t){const n=[];"mglyph"===t.role&&n.push("image"),t.attributes.href&&n.push("link"),n.length&&e.setAttribute(nl.POSTFIX,n.join(" "))}(e,t)}function sl(e){return tl+e}function al(){const e=O("mrow");return e.setAttribute(nl.ADDED,"true"),e}class ll{static fromTree(e){return ll.fromNode(e.root)}static fromNode(e){return new ll(ll.fromNode_(e))}static fromString(e){return new ll(ll.fromString_(e))}static simpleCollapseStructure(e){return"number"==typeof e}static contentCollapseStructure(e){return!!e&&!ll.simpleCollapseStructure(e)&&"c"===e[0]}static interleaveIds(e,t){return or(ll.collapsedLeafs(e),ll.collapsedLeafs(t))}static collapsedLeafs(...e){return e.reduce((e,t)=>{return e.concat(ll.simpleCollapseStructure(n=t)?[n]:ll.contentCollapseStructure(n[1])?n.slice(2):n.slice(1));var n},[])}static fromStructure(e,t){return new ll(ll.tree_(e,t.root))}static combineContentChildren(e,t,n){switch(e.type){case"relseq":case"infixop":case"multirel":return or(n,t);case"prefixop":return t.concat(n);case"postfixop":return n.concat(t);case"fenced":return n.unshift(t[0]),n.push(t[1]),n;case"appl":return[n[0],t[0],n[1]];case"root":return[n[1],n[0]];case"row":case"line":return t.length&&n.unshift(t[0]),n;default:return n}}static makeSexp_(e){return ll.simpleCollapseStructure(e)?e.toString():ll.contentCollapseStructure(e)?"(c "+e.slice(1).map(ll.makeSexp_).join(" ")+")":"("+e.map(ll.makeSexp_).join(" ")+")"}static fromString_(e){let t=e.replace(/\(/g,"[");return t=t.replace(/\)/g,"]"),t=t.replace(/ /g,","),t=t.replace(/c/g,'"c"'),JSON.parse(t)}static fromNode_(e){if(!e)return[];const t=e.contentNodes;let n;t.length&&(n=t.map(ll.fromNode_),n.unshift("c"));const r=e.childNodes;if(!r.length)return t.length?[e.id,n]:e.id;const i=r.map(ll.fromNode_);return t.length&&i.unshift(n),i.unshift(e.id),i}static tree_(e,t,n=0,r=1,i=1){if(!t)return[];const o=t.id,s=[o],a=T(`.//self::*[@${nl.ID}=${o}]`,e)[0];if(!t.childNodes.length)return ll.addAria(a,n,r,i),t.id;const l=ll.combineContentChildren(t,t.contentNodes.map(function(e){return e}),t.childNodes.map(function(e){return e}));a&&ll.addOwns_(a,l);for(let c,u=0,h=l.length;c=l[u];u++)s.push(ll.tree_(e,c,n+1,u+1,h));return ll.addAria(a,n,r,i,n?"group":"tree"),s}static addAria(e,t,n,r,i=(t?"treeitem":"tree")){y.getInstance().aria&&e&&(e.setAttribute("aria-level",t.toString()),e.setAttribute("aria-posinset",n.toString()),e.setAttribute("aria-setsize",r.toString()),e.setAttribute("role",i),e.hasAttribute(nl.OWNS)&&e.setAttribute("aria-owns",e.getAttribute(nl.OWNS)))}static addOwns_(e,t){const n=e.getAttribute(nl.COLLAPSED),r=n?ll.realLeafs_(ll.fromString(n).array):t.map(e=>e.id);e.setAttribute(nl.OWNS,r.join(" "))}static realLeafs_(e){if(ll.simpleCollapseStructure(e))return[e];if(ll.contentCollapseStructure(e))return[];let t=[];for(let n=1;n<e.length;n++)t=t.concat(ll.realLeafs_(e[n]));return t}constructor(e){this.parents=null,this.levelsMap=null,this.array=e=0===e?e:e||[]}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return ll.makeSexp_(this.array)}populate_(e,t,n){if(ll.simpleCollapseStructure(e))return this.levelsMap[e]=t,void(this.parents[e]=e===n[0]?n.slice(1):n);const r=ll.contentCollapseStructure(e)?e.slice(1):e,i=[r[0]].concat(n);for(let o=0,s=r.length;o<s;o++)this.populate_(r[o],e,i)}isRoot(e){return e===this.levelsMap[e][0]}directChildren(e){return this.isRoot(e)?this.levelsMap[e].slice(1).map(e=>ll.simpleCollapseStructure(e)?e:ll.contentCollapseStructure(e)?e[1]:e[0]):[]}subtreeNodes(e){if(!this.isRoot(e))return[];const t=(e,n)=>{ll.simpleCollapseStructure(e)?n.push(e):(ll.contentCollapseStructure(e)&&(e=e.slice(1)),e.forEach(e=>t(e,n)))},n=[];return t(this.levelsMap[e].slice(1),n),n}}function cl(e,t,n){let r=null;if(!e.length)return r;const i=n[n.length-1],o=i&&i.length,s=t&&t.length,a=xi.getInstance();if(o&&s){if("infixop"===t[0].type&&"implicit"===t[0].role)return r=e.pop(),i.push(a.postfixNode_(i.pop(),e)),r;r=e.shift();const n=a.prefixNode_(t.shift(),e);return t.unshift(n),r}return o?(i.push(a.postfixNode_(i.pop(),e)),r):(s&&t.unshift(a.prefixNode_(t.shift(),e)),r)}function ul(e,t,n){if(!t.length)return e;const r=e.pop(),i=t.shift(),o=n.shift();if(fi(i)){p.getInstance().output("Juxta Heuristic Case 2");const s=(r?[r,i]:[i]).concat(o);return ul(e.concat(s),t,n)}if(!r)return p.getInstance().output("Juxta Heuristic Case 3"),ul([i].concat(o),t,n);const s=o.shift();if(!s){p.getInstance().output("Juxta Heuristic Case 9");const o=ar.makeBranchNode("infixop",[r,t.shift()],[i],i.textContent);return o.role="implicit",pr("combine_juxtaposition",o),t.unshift(o),ul(e,t,n)}if(Wr(r)||Wr(s))return p.getInstance().output("Juxta Heuristic Case 4"),ul(e.concat([r,i,s]).concat(o),t,n);let a=null;return fi(r)&&fi(s)?(p.getInstance().output("Juxta Heuristic Case 5"),r.contentNodes.push(i),r.contentNodes=r.contentNodes.concat(s.contentNodes),r.childNodes.push(s),r.childNodes=r.childNodes.concat(s.childNodes),s.childNodes.forEach(e=>e.parent=r),i.parent=r,r.addMathmlNodes(i.mathml),r.addMathmlNodes(s.mathml),a=r):fi(r)?(p.getInstance().output("Juxta Heuristic Case 6"),r.contentNodes.push(i),r.childNodes.push(s),s.parent=r,i.parent=r,r.addMathmlNodes(i.mathml),r.addMathmlNodes(s.mathml),a=r):fi(s)?(p.getInstance().output("Juxta Heuristic Case 7"),s.contentNodes.unshift(i),s.childNodes.unshift(r),r.parent=s,i.parent=s,s.addMathmlNodes(i.mathml),s.addMathmlNodes(r.mathml),a=s):(p.getInstance().output("Juxta Heuristic Case 8"),a=ar.makeBranchNode("infixop",[r,s],[i],i.textContent),a.role="implicit"),e.push(a),ul(e.concat(o),t,n)}function hl(e){return e.childNodes[0]&&e.childNodes[0].childNodes[0]&&"MPADDED"===P(e.childNodes[0])&&"MPADDED"===P(e.childNodes[0].childNodes[0])&&"MPHANTOM"===P(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1])}dr(new Ja("combine_juxtaposition",function(e){for(let t,n=e.childNodes.length-1;t=e.childNodes[n];n--)fi(t)&&!t.nobreaking&&(e.childNodes.splice(n,1,...t.childNodes),e.contentNodes.splice(n,0,...t.contentNodes),t.childNodes.concat(t.contentNodes).forEach(function(t){t.parent=e}),e.addMathmlNodes(t.mathml));return e})),dr(new Ja("propagateSimpleFunction",e=>("infixop"!==e.type&&"fraction"!==e.type||!e.childNodes.every(si)||(e.role="composed function"),e),e=>"clearspeak"===y.getInstance().domain)),dr(new Ja("simpleNamedFunction",e=>("unit"!==e.role&&-1!==["f","g","h","F","G","H"].indexOf(e.textContent)&&(e.role="simple function"),e),e=>"clearspeak"===y.getInstance().domain)),dr(new Ja("propagateComposedFunction",e=>("fenced"===e.type&&"composed function"===e.childNodes[0].role&&(e.role="composed function"),e),e=>"clearspeak"===y.getInstance().domain)),dr(new Ja("multioperator",e=>{if("unknown"!==e.role||e.textContent.length<=1)return;const t=[...e.textContent].map(e=>nn.Meaning.get(e)).reduce(function(e,t){return e&&t.role&&"unknown"!==t.role&&t.role!==e?"unknown"===e?t.role:null:e},"unknown");t&&(e.role=t)})),dr(new el("convert_juxtaposition",e=>{let t=Rr(e,function(e){return e.textContent===tn.invisibleTimes&&"operator"===e.type});t=t.rel.length?function(e){const t=[],n=[];let r=e.comp.shift(),i=null,o=[];for(;e.comp.length;)if(o=[],r.length)i&&t.push(i),n.push(r),i=e.rel.shift(),r=e.comp.shift();else{for(i&&o.push(i);!r.length&&e.comp.length;)r=e.comp.shift(),o.push(e.rel.shift());i=cl(o,r,n)}return o.length||r.length?(t.push(i),n.push(r)):(o.push(i),cl(o,r,n)),{rel:t,comp:n}}(t):t,e=t.comp[0];for(let n,r,i=1;n=t.comp[i],r=t.rel[i-1];i++)e.push(r),e=e.concat(n);return t=Rr(e,function(e){return e.textContent===tn.invisibleTimes&&("operator"===e.type||"infixop"===e.type)}),t.rel.length?ul(t.comp.shift(),t.rel,t.comp):e})),dr(new Ja("simple2prefix",e=>(e.textContent.length>1&&!e.textContent[0].match(/[A-Z]/)&&(e.role="prefix function"),e),e=>"braille"===y.getInstance().modality&&"identifier"===e.type)),dr(new Ja("detect_cycle",e=>{e.type="matrix",e.role="cycle";const t=e.childNodes[0];return t.type="row",t.role="cycle",t.textContent="",t.contentNodes=[],e},e=>"fenced"===e.type&&"infixop"===e.childNodes[0].type&&"implicit"===e.childNodes[0].role&&e.childNodes[0].childNodes.every(function(e){return"number"===e.type})&&e.childNodes[0].contentNodes.every(function(e){return"space"===e.role}))),dr(new el("intvar_from_implicit",function(e){e.splice(0,1,...e[0].childNodes)},e=>e[0]&&pi(e[0]))),dr(new Ja("intvar_from_fraction",function(e){const t=e.childNodes[1],n=t.childNodes[0];if($r(n))return void(n.role="integral");if(!pi(n))return;const r=n.childNodes.length,i=n.childNodes[r-2],o=n.childNodes[r-1];if($r(o))o.role="integral";else if(Ur(i,o)){const e=xi.getInstance().prefixNode_(o,[i]);e.role="integral",2===r?t.childNodes[0]=e:(n.childNodes.pop(),n.contentNodes.pop(),n.childNodes[r-2]=e,e.parent=n)}},e=>{if("integral"!==e.type)return!1;const[,t,n]=e.childNodes;return"empty"===n.type&&"fraction"===t.type})),dr(new Ja("rewrite_subcases",function(e){e.addAnnotation("Emph","top");let t=[];if(e.hasAnnotation("Emph","left")){const n=pl(e.childNodes[0].childNodes[0].childNodes[0],!0);n.forEach(e=>e.addAnnotation("Emph","left")),t=t.concat(n);for(let t,r=0;t=e.childNodes[r];r++)t.childNodes.shift()}if(t.push(e),e.hasAnnotation("Emph","right")){const n=pl(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1].childNodes[0]);n.forEach(e=>e.addAnnotation("Emph","left")),t=t.concat(n),e.childNodes[0].childNodes.pop()}xi.tableToMultiline(e);const n=xi.getInstance().row(t),r=e.annotation.Emph;return e.annotation.Emph=["table"],r.forEach(e=>n.addAnnotation("Emph",e)),n},e=>{let t=!0,n=!0;if(hl(e.childNodes[0].childNodes[0].mathmlTree)){for(let r,i=1;r=e.childNodes[i];i++)if(r.childNodes[0].childNodes.length){t=!1;break}}else t=!1;if(t&&e.addAnnotation("Emph","left"),hl(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1].mathmlTree)){const t=e.childNodes[0].childNodes.length;for(let r,i=1;r=e.childNodes[i];i++)if(r.childNodes.length>=t){n=!1;break}}else n=!1;return n&&e.addAnnotation("Emph","right"),t||n}));const dl=["punctuated","relseq","multirel","infixop","prefixop","postfixop"];function pl(e,t){if(!e.childNodes.length)return ml(e),[e];let n=null;if("punctuated"===e.type&&(t?"endpunct"===e.role:"startpunct"===e.role)){const r=e.childNodes;ml(r[t?r.length-1:0])&&(e=r[t?0:r.length-1],n=r[t?r.length-1:0])}if(-1!==dl.indexOf(e.type)){const r=e.childNodes;ml(r[t?r.length-1:0]);const i=ll.combineContentChildren(e,e.contentNodes,e.childNodes);return n&&(t?i.push(n):i.unshift(n)),i}return n?t?[e,n]:[n,e]:[e]}const fl={metric:"metric",vbar:"neutral",openfence:"open",closefence:"close"};function ml(e){if("punctuation"!==e.type)return!1;const t=fl[e.role];return!!t&&(e.role=t,e.type="fence",e.addAnnotation("Emph","fence"),!0)}class gl{static empty(){const e=k("<math/>"),t=new gl(e);return t.mathml=e,t}static fromNode(e,t){const n=gl.empty();return n.root=e,t&&(n.mathml=t),n}static fromRoot(e,t){let n=e;for(;n.parent;)n=n.parent;const r=gl.fromNode(n);return t&&(r.mathml=t),r}static fromXml(e){const t=gl.empty();return e.childNodes[0]&&(t.root=Dr.fromXml(e.childNodes[0])),t}constructor(e){this.mathml=e,this.parser=new Ka,this.root=this.parser.parse(e),this.collator=this.parser.getFactory().leafMap.collateMeaning();const t=this.collator.newDefault();t&&(this.parser=new Ka,this.parser.getFactory().defaultMap=t,this.root=this.parser.parse(e)),yl.visit(this.root,{}),function(e){for(const t of Fn.values())t.active&&t.annotate(e);for(const t of Pn.values())t.active&&t.visit(e,Object.assign({},t.def))}(this.root)}xml(e){const t=k("<stree></stree>"),n=this.root.xml(t.ownerDocument,e);return t.appendChild(n),t}toString(e){return B(this.xml(e))}formatXml(e){return L(this.toString(e))}displayTree(){this.root.displayTree()}replaceNode(e,t){const n=e.parent;n?n.replaceChild(e,t):this.root=t}toJson(){const e={};return e.stree=this.root.toJson(),e}}const yl=new Dn("general","unit",(e,t)=>(di(e)&&(e.role="unit"),!1));function vl(e){return bl(e).xml()}function bl(e){return new gl(e)}const xl=[],Sl=!0;function wl(e){const t=function(e){for(let t,n=0;t=xl[n];n++)if(t.test(e))return t.constr(e);return null}(e);let n;if(t)return n=t.getMathml(),Il(n);if(1===e.mathml.length){if(p.getInstance().output("Walktree Case 0"),!e.childNodes.length)return p.getInstance().output("Walktree Case 0.1"),n=e.mathml[0],ol(n,e),Il(n);const t=e.childNodes[0];if(1===e.childNodes.length&&"empty"===t.type)return p.getInstance().output("Walktree Case 0.2"),n=e.mathml[0],ol(n,e),n.appendChild(wl(t)),Il(n);e.childNodes.forEach(e=>{e.mathml.length||(e.mathml=[jl(e)])})}const r=e.contentNodes.map(ql);zl(e,r);const i=e.childNodes.map(wl),o=ll.combineContentChildren(e,r,i);if(n=e.mathmlTree,null===n)p.getInstance().output("Walktree Case 1"),n=Nl(o,e);else{const e=Ml(o);p.getInstance().output("Walktree Case 2"),e?(p.getInstance().output("Walktree Case 2.1"),n=Fl(e)):(p.getInstance().output("Walktree Case 2.2"),n=Hl(n))}return n=Bl(n),function(e,t,n){if(!t.length)return;const r="implicit"===n.role&&ur.combine_juxtaposition?function(e,t,n){const r=[];let i=C(e.childNodes),o=!1;for(;i.length;){const e=i.shift();if(e.hasAttribute(nl.TYPE)){r.push(e);continue}const n=El(e,t);0!==n.length&&(1!==n.length?(o?e.setAttribute("AuxiliaryImplicit",!0):o=!0,i=n.concat(i)):r.push(e))}const s=[],a=n.childNodes.map(function(e){return e.mathmlTree});for(;a.length;){const e=a.pop();if(e){if(-1!==r.indexOf(e))break;-1!==t.indexOf(e)&&s.unshift(e)}}return r.concat(s)}(e,t,n):C(e.childNodes);if(!r.length)return void t.forEach(function(t){e.appendChild(t)});let i=0;for(;t.length;){const n=t[0];if(r[i]===n||Cl(r[i],n)){t.shift(),i++;continue}if(r[i]&&-1===t.indexOf(r[i])){i++;continue}if(Al(n,e)){t.shift();continue}const o=r[i];if(o)Tl(e,o,n),t.shift();else{if(n.parentNode){e=Fl(n),t.shift();continue}const r=t[1];if(r&&r.parentNode){(e=Fl(r)).insertBefore(n,r),t.shift(),t.shift();continue}e.insertBefore(n,null),t.shift()}}}(n,o,e),ol(n,e),Il(n)}function Nl(e,t){const n=function(e){const t=Ml(e);if(!t)return{type:kl.INVALID,node:null};const n=Ml(e.slice().reverse());if(t===n)return{type:kl.VALID,node:t};const r=_l(t),i=function(e,t){let n=0;for(;e[n]&&-1===t.indexOf(e[n]);)n++;return e.slice(0,n+1)}(r,e),o=_l(n,function(e){return-1!==i.indexOf(e)}),s=o[0],a=i.indexOf(s);return-1===a?{type:kl.INVALID,node:null}:{type:i.length!==r.length?kl.PRUNED:Ol(i[a+1],o[1])?kl.VALID:kl.INVALID,node:s}}(e);let r=n.node;const i=n.type;if(i!==kl.VALID||!Mr(r))if(p.getInstance().output("Walktree Case 1.1"),r=al(),i===kl.PRUNED)p.getInstance().output("Walktree Case 1.1.0"),r=function(e,t,n){let r=Ll(t);if(Cr(r)){p.getInstance().output("Walktree Case 1.1.0.0"),function(e,t){for(const n of rl)e.hasAttribute(n)&&(t.setAttribute(n,e.getAttribute(n)),e.removeAttribute(n))}(r,e),C(r.childNodes).forEach(function(t){e.appendChild(t)});const t=e;e=r,r=t}const i=n.indexOf(t);return n[i]=r,_(r,e),e.appendChild(r),n.forEach(function(t){e.appendChild(t)}),e}(r,n.node,e);else if(e[0]){p.getInstance().output("Walktree Case 1.1.1");const t=Ml(e),n=function(e,t){const n=C(e.childNodes);let r=1/0,i=-1/0;return t.forEach(function(e){const t=n.indexOf(e);-1!==t&&(r=Math.min(r,t),i=Math.max(i,t))}),n.slice(r,i+1)}(Fl(t),e);_(t,r),n.forEach(function(e){r.appendChild(e)})}return t.mathmlTree||(t.mathmlTree=r),r}function El(e,t){const n=[];let r=C(e.childNodes);for(;r.length;){const e=r.shift();e.nodeType===M.ELEMENT_NODE&&(e.hasAttribute(nl.TYPE)||-1!==t.indexOf(e)?n.push(e):r=C(e.childNodes).concat(r))}return n}function Tl(e,t,n){let r=t,i=Fl(r);for(;i&&i.firstChild===r&&!r.hasAttribute("AuxiliaryImplicit")&&i!==e;)r=i,i=Fl(r);i&&(i.insertBefore(n,r),r.removeAttribute("AuxiliaryImplicit"))}function Al(e,t){if(!e)return!1;do{if((e=Fl(e))===t)return!0}while(e);return!1}function Cl(e,t){const n=tn.functionApplication;if(e&&t&&e.textContent&&t.textContent&&e.textContent===n&&t.textContent===n&&"true"===t.getAttribute(nl.ADDED)){for(let n,r=0;n=e.attributes[r];r++)t.hasAttribute(n.nodeName)||t.setAttribute(n.nodeName,n.nodeValue);return _(e,t),!0}return!1}var kl;function Ml(e){let t=0,n=null;for(;!n&&t<e.length;)e[t].parentNode&&(n=e[t]),t++;return n}function _l(e,t){const n=t||(e=>!1),r=[e];for(;!n(e)&&!Cr(e)&&e.parentNode;)e=Fl(e),r.unshift(e);return r}function Ol(e,t){return!(!e||!t||e.previousSibling||t.nextSibling)}function Il(e){for(;!Cr(e)&&Rl(e);)e=Fl(e);return e}function Ll(e){const t=C(e.childNodes);if(!t)return e;const n=t.filter(function(e){return e.nodeType===M.ELEMENT_NODE&&!kr(e)});return 1===n.length&&Mr(n[0])&&!n[0].hasAttribute(nl.TYPE)?Ll(n[0]):e}function Rl(e){const t=Fl(e);return!(!t||!Mr(t))&&C(t.childNodes).every(function(t){return t===e||Dl(t)})}function Dl(e){if(e.nodeType!==M.ELEMENT_NODE)return!0;if(!e||kr(e))return!0;const t=C(e.childNodes);return!(!Mr(e)&&t.length||function(e){return!!e&&-1!==Tr.indexOf(P(e))}(e)||e.hasAttribute(nl.TYPE)||function(e){return!!e&&"MGLYPH"===P(e)&&!function(e){return!!e&&-1!==wr.indexOf(P(e))}(e.parentNode)}(e))&&C(e.childNodes).every(Dl)}function Fl(e){return e.parentNode}function Pl(e,t){const n=new ll(t);e.setAttribute(nl.COLLAPSED,n.toString())}function ql(e){if(e.mathml.length)return wl(e);const t=jl(e);return e.mathml=[t],t}function Bl(e){if("MFENCED"!==P(e))return e;const t=al();for(let n,r=0;n=e.attributes[r];r++)-1===["open","close","separators"].indexOf(n.name)&&t.setAttribute(n.name,n.value);return C(e.childNodes).forEach(function(e){t.appendChild(e)}),_(e,t),t}function jl(e){const t=O("mo"),n=d.Z.document.createTextNode(e.textContent);return t.appendChild(n),ol(t,e),t.setAttribute(nl.ADDED,"true"),t}function zl(e,t){const n=e.type+(e.textContent?","+e.textContent:"");t.forEach(function(e){Hl(e).setAttribute(nl.OPERATOR,n)})}function Hl(e){const t=C(e.childNodes);if(!t)return e;const n=t.filter(function(e){return!Dl(e)}),r=[];for(let i,o=0;i=n[o];o++)if(Mr(i)){const e=Hl(i);e&&e!==i&&r.push(e)}else r.push(i);return 1===r.length?r[0]:e}function Ul(e,t,n=!1){const r=L(e.toString()).toString().replace(new RegExp(tl,"g"),"");return n?t+":\n```html\n"+r+"\n```\n":r}function $l(e,t){const n=!!t,r=t||[],i=e.parent,o=e.contentNodes.map(function(e){return e.id});o.unshift("c");const s=[e.id,o];for(let a,l=0;a=e.childNodes[l];l++){const e=wl(a);r.push(e);const t=Hl(e);i&&!n&&t.setAttribute(nl.PARENT,i.id.toString()),s.push(a.id)}return s}!function(e){e.VALID="valid",e.INVALID="invalid",e.PRUNED="pruned"}(kl||(kl={}));class Gl{constructor(e){this.semantic=e}}class Vl extends Gl{static test(e){return!e.mathmlTree&&"line"===e.type&&"binomial"===e.role}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){if(!this.semantic.childNodes.length)return this.mml;if(this.mml=wl(this.semantic.childNodes[0]),this.mml.hasAttribute(nl.TYPE)){const e=al();_(this.mml,e),e.appendChild(this.mml),this.mml=e}return ol(this.mml,this.semantic),this.mml}}class Wl extends Gl{static test(e){if(!e.mathmlTree||!e.childNodes.length)return!1;const t=P(e.mathmlTree),n=e.childNodes[0].role;return"MSUBSUP"===t&&"subsup"===n||"MUNDEROVER"===t&&"underover"===n}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes[0],t=e.childNodes[0],n=this.semantic.childNodes[1],r=e.childNodes[1],i=wl(n),o=wl(t),s=wl(r);return ol(this.mml,this.semantic),this.mml.setAttribute(nl.CHILDREN,il([t,r,n])),[o,s,i].forEach(e=>Hl(e).setAttribute(nl.PARENT,this.mml.getAttribute(nl.ID))),this.mml.setAttribute(nl.TYPE,e.role),Pl(this.mml,[this.semantic.id,[e.id,t.id,r.id],n.id]),this.mml}}class Ql extends Gl{static multiscriptIndex(e){return"punctuated"===e.type&&"dummy"===e.contentNodes[0].role?$l(e):(wl(e),e.id)}static createNone_(e){const t=O("none");return e&&ol(t,e),t.setAttribute(nl.ADDED,"true"),t}constructor(e){super(e),this.mml=e.mathmlTree}completeMultiscript(e,t){const n=C(this.mml.childNodes).slice(1);let r=0;const i=e=>{for(let t,i=0;t=e[i];i++){const e=n[r];if(e&&t===parseInt(Hl(e).getAttribute(nl.ID)))Hl(e).setAttribute(nl.PARENT,this.semantic.id.toString()),r++;else{const n=this.semantic.querySelectorAll(e=>e.id===t);this.mml.insertBefore(Ql.createNone_(n[0]),e||null)}}};i(e),n[r]&&"MPRESCRIPTS"!==P(n[r])?this.mml.insertBefore(n[r],O("mprescripts")):r++,i(t)}}class Xl extends Ql{static test(e){return!!e.mathmlTree&&"MMULTISCRIPTS"===P(e.mathmlTree)&&("superscript"===e.type||"subscript"===e.type)}constructor(e){super(e)}getMathml(){let e,t,n;if(ol(this.mml,this.semantic),this.semantic.childNodes[0]&&"subsup"===this.semantic.childNodes[0].role){const r=this.semantic.childNodes[0];e=r.childNodes[0],t=Ql.multiscriptIndex(this.semantic.childNodes[1]),n=Ql.multiscriptIndex(r.childNodes[1]),Pl(this.mml,[this.semantic.id,[r.id,e.id,n],t]),this.mml.setAttribute(nl.TYPE,r.role),this.completeMultiscript(ll.interleaveIds(n,t),[])}else e=this.semantic.childNodes[0],t=Ql.multiscriptIndex(this.semantic.childNodes[1]),Pl(this.mml,[this.semantic.id,e.id,t]);const r=ll.collapsedLeafs(n||[],t);return Hl(wl(e)).setAttribute(nl.PARENT,this.semantic.id.toString()),r.unshift(e.id),this.mml.setAttribute(nl.CHILDREN,r.join(",")),this.mml}}class Yl extends Ql{static test(e){return!!e.mathmlTree&&"tensor"===e.type}constructor(e){super(e)}getMathml(){wl(this.semantic.childNodes[0]);const e=Ql.multiscriptIndex(this.semantic.childNodes[1]),t=Ql.multiscriptIndex(this.semantic.childNodes[2]),n=Ql.multiscriptIndex(this.semantic.childNodes[3]),r=Ql.multiscriptIndex(this.semantic.childNodes[4]);ol(this.mml,this.semantic),Pl(this.mml,[this.semantic.id,this.semantic.childNodes[0].id,e,t,n,r]);const i=ll.collapsedLeafs(e,t,n,r);return i.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(nl.CHILDREN,i.join(",")),this.completeMultiscript(ll.interleaveIds(n,r),ll.interleaveIds(e,t)),this.mml}}class Kl extends Gl{static test(e){return!(!e.mathmlTree||!e.fencePointer||e.mathmlTree.getAttribute("data-semantic-type"))}static makeEmptyNode_(e){const t=al(),n=new Dr(e);return n.type="empty",n.mathmlTree=t,n}static fencedMap_(e,t){t[e.id]=e.mathmlTree,e.embellished&&Kl.fencedMap_(e.childNodes[0],t)}constructor(e){super(e),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}getMathml(){return this.getFenced_(),this.fencedMml=wl(this.fenced),this.getFencesMml_(),"empty"!==this.fenced.type||this.fencedMml.parentNode||(this.fencedMml.setAttribute(nl.ADDED,"true"),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_(),this.rewrite_()}fencedElement(e){return"fenced"===e.type||"matrix"===e.type||"vector"===e.type}getFenced_(){let e=this.semantic;for(;!this.fencedElement(e);)e=e.childNodes[0];this.fenced=e.childNodes[0],this.ofence=e.contentNodes[0],this.cfence=e.contentNodes[1],Kl.fencedMap_(this.ofence,this.ofenceMap),Kl.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let e=this.ofenceMml.nextSibling;for(e=e===this.fencedMml?e:this.fencedMml;e&&e!==this.cfenceMml;)this.fencedMmlNodes.push(e),e=e.nextSibling}getFencesMml_(){let e=this.semantic;const t=Object.keys(this.ofenceMap),n=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||e===this.fenced);)-1===t.indexOf(e.fencePointer)||this.ofenceMml||(this.ofenceMml=e.mathmlTree),-1===n.indexOf(e.fencePointer)||this.cfenceMml||(this.cfenceMml=e.mathmlTree),e=e.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=Il(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=Il(this.cfenceMml))}rewrite_(){let e=this.semantic,t=null;const n=this.introduceNewLayer_();for(ol(n,this.fenced.parent);!this.fencedElement(e);){const r=e.mathmlTree,i=this.specialCase_(e,r);if(i)e=i;else{ol(r,e);const t=[];for(let n,r=1;n=e.childNodes[r];r++)t.push(wl(n));e=e.childNodes[0]}const o=O("dummy"),s=r.childNodes[0];_(r,o),_(n,r),_(r.childNodes[0],n),_(o,s),t||(t=r)}return wl(this.ofence),wl(this.cfence),this.cleanupParents_(),t||n}specialCase_(e,t){const n=P(t);let r,i=null;if("MSUBSUP"===n?(i=e.childNodes[0],r=Wl):"MMULTISCRIPTS"===n&&("superscript"===e.type||"subscript"===e.type?r=Xl:"tensor"===e.type&&(r=Yl),i=r&&e.childNodes[0]&&"subsup"===e.childNodes[0].role?e.childNodes[0]:e),!i)return null;const o=i.childNodes[0],s=Kl.makeEmptyNode_(o.id);return i.childNodes[0]=s,t=new r(e).getMathml(),i.childNodes[0]=o,this.parentCleanup.push(t),i.childNodes[0]}introduceNewLayer_(){const e=this.fullFence(this.ofenceMml),t=this.fullFence(this.cfenceMml);let n=al();if(_(this.fencedMml,n),this.fencedMmlNodes.forEach(e=>n.appendChild(e)),n.insertBefore(e,this.fencedMml),n.appendChild(t),!n.parentNode){const e=al();for(;n.childNodes.length>0;)e.appendChild(n.childNodes[0]);n.appendChild(e),n=e}return n}fullFence(e){const t=this.fencedMml.parentNode;let n=e;for(;n.parentNode&&n.parentNode!==t;)n=n.parentNode;return n}cleanupParents_(){this.parentCleanup.forEach(function(e){const t=e.childNodes[1].getAttribute(nl.PARENT);e.childNodes[0].setAttribute(nl.PARENT,t)})}}class Zl extends Gl{static test(e){return!!e.mathmlTree&&e.hasAnnotation("Emph","top")}constructor(e){super(e),this.mrows=[],this.mml=e.mathmlTree}getMathml(){if(this.recurseToTable(this.semantic),this.mrows.length){const e=al();this.mml.parentNode.insertBefore(e,this.mml);for(const t of this.mrows)e.appendChild(t);e.appendChild(this.mml)}return this.mml}recurseToTable(e){var t,n;if(e.hasAnnotation("Emph","top")||e.hasAnnotation("Emph","fence")||!e.hasAnnotation("Emph","left")&&!e.hasAnnotation("Emph","right")){if(!e.mathmlTree||"MTABLE"===P(e.mathmlTree)&&(null===(t=e.annotation.Emph)||void 0===t?void 0:t.length)&&"table"!==e.annotation.Emph[0]){const t=al();ol(t,e),this.mrows.unshift(t)}else{if("MTABLE"===P(e.mathmlTree)&&(null===(n=e.annotation.Emph)||void 0===n?void 0:n.length)&&"table"===e.annotation.Emph[0])return void this.finalizeTable(e);ol(e.mathmlTree,e)}if(e.childNodes.forEach(this.recurseToTable.bind(this)),e.textContent||"punctuated"===e.type){const t=e.contentNodes.map(e=>{const t=ql(e);return t.hasAttribute("data-semantic-added")?this.mrows.unshift(t):this.recurseToTable(e),t});zl(e,t)}else e.contentNodes.forEach(this.recurseToTable.bind(this))}else wl(e)}finalizeTable(e){ol(e.mathmlTree,e),e.contentNodes.forEach(e=>{wl(e)}),e.childNodes.forEach(e=>{wl(e)})}}class Jl extends Gl{static test(e){if(!e.mathmlTree||!e.childNodes.length)return!1;const t=P(e.mathmlTree),n=e.type;return("limupper"===n||"limlower"===n)&&("MSUBSUP"===t||"MUNDEROVER"===t)||"limboth"===n&&("MSUB"===t||"MUNDER"===t||"MSUP"===t||"MOVER"===t)}static walkTree_(e){e&&wl(e)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes;return"limboth"!==this.semantic.type&&this.mml.childNodes.length>=3&&(this.mml=Nl([this.mml],this.semantic)),ol(this.mml,this.semantic),e[0].mathmlTree||(e[0].mathmlTree=this.semantic.mathmlTree),e.forEach(Jl.walkTree_),this.mml}}class ec extends Gl{static test(e){return!!e.mathmlTree&&"line"===e.type}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.contentNodes.length&&wl(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&wl(this.semantic.childNodes[0]),ol(this.mml,this.semantic),this.mml}}class tc extends Gl{static test(e){return!!e.mathmlTree&&("inference"===e.type||"premises"===e.type)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.childNodes.length?(this.semantic.contentNodes.forEach(function(e){wl(e),ol(e.mathmlTree,e)}),this.semantic.childNodes.forEach(function(e){wl(e)}),ol(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent"),this.mml):this.mml}}class nc extends Gl{static test(e){return"matrix"===e.type||"vector"===e.type||"cases"===e.type}constructor(e){super(e),this.inner=[],this.mml=e.mathmlTree}getMathml(){const e=ql(this.semantic.contentNodes[0]),t=this.semantic.contentNodes[1]?ql(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(wl),this.mml)if("MFENCED"===P(this.mml))this.mml.insertBefore(e,this.mml.childNodes[0]||null),t&&this.mml.appendChild(t),this.mml=Bl(this.mml);else{const n=[e,this.mml];t&&n.push(t),this.mml=Nl(n,this.semantic)}else this.mml=Nl([e].concat(this.inner,[t]),this.semantic);return ol(this.mml,this.semantic),this.mml}}class rc extends Gl{static test(e){return"punctuated"===e.type&&("text"===e.role||e.contentNodes.every(e=>"dummy"===e.role))}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=[],t=$l(this.semantic,e);return this.mml=Nl(e,this.semantic),ol(this.mml,this.semantic),this.mml.removeAttribute(nl.CONTENT),Pl(this.mml,t),this.mml}}xl.push({test:Jl.test,constr:e=>new Jl(e)},{test:Kl.test,constr:e=>new Kl(e)},{test:Wl.test,constr:e=>new Wl(e)},{test:Yl.test,constr:e=>new Yl(e)},{test:Xl.test,constr:e=>new Xl(e)},{test:ec.test,constr:e=>new ec(e)},{test:Vl.test,constr:e=>new Vl(e)},{test:tc.test,constr:e=>new tc(e)},{test:Zl.test,constr:e=>new Zl(e)},{test:nc.test,constr:e=>new nc(e)},{test:rc.test,constr:e=>new rc(e)});let ic=0;class oc{constructor(){this.counter=ic++,this.ATTR="sre-highlight-"+this.counter.toString(),this.color=null,this.mactionName="",this.currentHighlights=[]}highlight(e){this.currentHighlights.push(e.map(e=>{const t=this.highlightNode(e);return this.setHighlighted(e),t}))}highlightAll(e){const t=this.getMactionNodes(e);for(let n,r=0;n=t[r];r++)this.highlight([n])}unhighlight(){const e=this.currentHighlights.pop();e&&e.forEach(e=>{this.isHighlighted(e.node)&&(this.unhighlightNode(e),this.unsetHighlighted(e.node))})}unhighlightAll(){for(;this.currentHighlights.length>0;)this.unhighlight()}setColor(e){this.color=e}colorString(){return this.color.rgba()}addEvents(e,t){const n=this.getMactionNodes(e);for(let r,i=0;r=n[i];i++)for(const[e,n]of Object.entries(t))r.addEventListener(e,n)}getMactionNodes(e){return Array.from(e.getElementsByClassName(this.mactionName))}isMactionNode(e){const t=e.className||e.getAttribute("class");return!!t&&!!t.match(new RegExp(this.mactionName))}isHighlighted(e){return e.hasAttribute(this.ATTR)}setHighlighted(e){e.setAttribute(this.ATTR,"true")}unsetHighlighted(e){e.removeAttribute(this.ATTR)}colorizeAll(e){A(e),T(`.//*[@${nl.ID}]`,e).forEach(e=>this.colorize(e))}uncolorizeAll(e){T(`.//*[@${nl.ID}]`,e).forEach(e=>this.uncolorize(e))}colorize(e){const t=sl("foreground");e.hasAttribute(t)&&(e.setAttribute(t+"-old",e.style.color),e.style.color=e.getAttribute(t))}uncolorize(e){const t=sl("foreground")+"-old";e.hasAttribute(t)&&(e.style.color=e.getAttribute(t))}}class sc extends oc{constructor(){super(),this.mactionName="mjx-maction"}highlightNode(e){const t={node:e,background:e.style.backgroundColor,foreground:e.style.color};if(!this.isHighlighted(e)){const t=this.colorString();e.style.backgroundColor=t.background,e.style.color=t.foreground}return t}unhighlightNode(e){e.node.style.backgroundColor=e.background,e.node.style.color=e.foreground}}const ac={red:{red:255,green:0,blue:0},green:{red:0,green:255,blue:0},blue:{red:0,green:0,blue:255},yellow:{red:255,green:255,blue:0},cyan:{red:0,green:255,blue:255},magenta:{red:255,green:0,blue:255},white:{red:255,green:255,blue:255},black:{red:0,green:0,blue:0}};function lc(e,t){const n=e||{color:t};let r=Object.prototype.hasOwnProperty.call(n,"color")?ac[n.color]:n;return r||(r=ac[t]),r.alpha=Object.prototype.hasOwnProperty.call(n,"alpha")?n.alpha:1,function(e){const t=e=>(e=Math.max(e,0),e=Math.min(255,e),Math.round(e));return e.red=t(e.red),e.green=t(e.green),e.blue=t(e.blue),e.alpha=Math.max(e.alpha,0),e.alpha=Math.min(1,e.alpha),e}(r)}class cc{static toHex(e){const t=e.toString(16);return 1===t.length?"0"+t:t}constructor(e,t){this.foreground=lc(t,cc.DEFAULT_FOREGROUND_),this.background=lc(e,cc.DEFAULT_BACKGROUND_)}rgba(){const e=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"};return{background:e(this.background),foreground:e(this.foreground)}}rgb(){const e=function(e){return"rgb("+e.red+","+e.green+","+e.blue+")"};return{background:e(this.background),alphaback:this.background.alpha.toString(),foreground:e(this.foreground),alphafore:this.foreground.alpha.toString()}}hex(){const e=function(e){return"#"+cc.toHex(e.red)+cc.toHex(e.green)+cc.toHex(e.blue)};return{background:e(this.background),alphaback:this.background.alpha.toString(),foreground:e(this.foreground),alphafore:this.foreground.alpha.toString()}}}cc.DEFAULT_BACKGROUND_="blue",cc.DEFAULT_FOREGROUND_="black";class uc{constructor(){this.hue=10,this.sat=100,this.light=50,this.incr=50}generate(){return t=function(e,t,n){t=t>1?t/100:t,n=n>1?n/100:n;const r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),o=n-r/2;let s=0,a=0,l=0;return 0<=e&&e<60?[s,a,l]=[r,i,0]:60<=e&&e<120?[s,a,l]=[i,r,0]:120<=e&&e<180?[s,a,l]=[0,r,i]:180<=e&&e<240?[s,a,l]=[0,i,r]:240<=e&&e<300?[s,a,l]=[i,0,r]:300<=e&&e<360&&([s,a,l]=[r,0,i]),{red:s+o,green:a+o,blue:l+o}}(this.hue,this.sat,this.light),"rgb("+(e={red:Math.round(255*t.red),green:Math.round(255*t.green),blue:Math.round(255*t.blue)}).red+","+e.green+","+e.blue+")";var e,t}increment(){this.hue=(this.hue+this.incr)%360}}class hc extends oc{constructor(){super(),this.mactionName="mjx-svg-maction"}highlightNode(e){let t;if(this.isHighlighted(e))return t={node:e.previousSibling||e,background:e.style.backgroundColor,foreground:e.style.color},t;if("svg"===e.tagName){const t={node:e,background:e.style.backgroundColor,foreground:e.style.color};return e.style.backgroundColor=this.colorString().background,e.style.color=this.colorString().foreground,t}const n=I("http://www.w3.org/2000/svg","rect");let r;if("use"===e.nodeName){const t=I("http://www.w3.org/2000/svg","g");e.parentNode.insertBefore(t,e),t.appendChild(e),r=t.getBBox(),t.parentNode.replaceChild(e,t)}else r=e.getBBox();n.setAttribute("x",(r.x-40).toString()),n.setAttribute("y",(r.y-40).toString()),n.setAttribute("width",(r.width+80).toString()),n.setAttribute("height",(r.height+80).toString());const i=e.getAttribute("transform");return i&&n.setAttribute("transform",i),n.setAttribute("fill",this.colorString().background),n.setAttribute(this.ATTR,"true"),e.parentNode.insertBefore(n,e),t={node:n,foreground:e.getAttribute("fill")},e.setAttribute("fill",this.colorString().foreground),t}setHighlighted(e){"svg"===e.tagName&&super.setHighlighted(e)}unhighlightNode(e){if("background"in e)return e.node.style.backgroundColor=e.background,void(e.node.style.color=e.foreground);e.foreground?e.node.nextSibling.setAttribute("fill",e.foreground):e.node.nextSibling.removeAttribute("fill"),e.node.parentNode.removeChild(e.node)}isMactionNode(e){let t=e.className||e.getAttribute("class");return!!t&&(t=void 0!==t.baseVal?t.baseVal:t,!!t&&!!t.match(new RegExp(this.mactionName)))}}const dc={SVG:hc,"SVG-V3":class extends hc{constructor(){super(),this.mactionName="maction"}highlightNode(e){let t;if(this.isHighlighted(e))return t={node:e,background:this.colorString().background,foreground:this.colorString().foreground},t;if("svg"===e.tagName||"MJX-CONTAINER"===e.tagName)return t={node:e,background:e.style.backgroundColor,foreground:e.style.color},e.style.backgroundColor=this.colorString().background,e.style.color=this.colorString().foreground,t;const n=I("http://www.w3.org/2000/svg","rect");n.setAttribute("sre-highlighter-added","true");const r=e.getBBox();n.setAttribute("x",(r.x-40).toString()),n.setAttribute("y",(r.y-40).toString()),n.setAttribute("width",(r.width+80).toString()),n.setAttribute("height",(r.height+80).toString());const i=e.getAttribute("transform");if(i&&n.setAttribute("transform",i),n.setAttribute("fill",this.colorString().background),e.setAttribute(this.ATTR,"true"),e.parentNode.insertBefore(n,e),t={node:e,foreground:e.getAttribute("fill")},"rect"===e.nodeName){const t=new cc({alpha:0,color:"black"});e.setAttribute("fill",t.rgba().foreground)}else e.setAttribute("fill",this.colorString().foreground);return t}unhighlightNode(e){const t=e.node.previousSibling;if(t&&t.hasAttribute("sre-highlighter-added"))return e.foreground?e.node.setAttribute("fill",e.foreground):e.node.removeAttribute("fill"),void e.node.parentNode.removeChild(t);e.node.style.backgroundColor=e.background,e.node.style.color=e.foreground}isMactionNode(e){return e.getAttribute("data-mml-node")===this.mactionName}getMactionNodes(e){return Array.from(T(`.//*[@data-mml-node="${this.mactionName}"]`,e))}},NativeMML:class extends oc{constructor(){super(),this.mactionName="maction"}highlightNode(e){let t=e.getAttribute("style");return t+=";background-color: "+this.colorString().background,t+=";color: "+this.colorString().foreground,e.setAttribute("style",t),{node:e}}unhighlightNode(e){let t=e.node.getAttribute("style");t=t.replace(";background-color: "+this.colorString().background,""),t=t.replace(";color: "+this.colorString().foreground,""),e.node.setAttribute("style",t)}colorString(){return this.color.rgba()}getMactionNodes(e){return Array.from(e.getElementsByTagName(this.mactionName))}isMactionNode(e){return e.tagName===this.mactionName}},"HTML-CSS":class extends oc{constructor(){super(),this.mactionName="maction"}highlightNode(e){const t={node:e,foreground:e.style.color,position:e.style.position},n=this.color.rgb();e.style.color=n.foreground,e.style.position="relative";const r=e.bbox;if(r&&r.w){const i=.05,o=0,s=O("span"),a=parseFloat(e.style.paddingLeft||"0");s.style.backgroundColor=n.background,s.style.opacity=n.alphaback.toString(),s.style.display="inline-block",s.style.height=r.h+r.d+2*i+"em",s.style.verticalAlign=-r.d+"em",s.style.marginTop=s.style.marginBottom=-i+"em",s.style.width=r.w+2*o+"em",s.style.marginLeft=a-o+"em",s.style.marginRight=-r.w-o-a+"em",e.parentNode.insertBefore(s,e),t.box=s}return t}unhighlightNode(e){const t=e.node;t.style.color=e.foreground,t.style.position=e.position,e.box&&e.box.parentNode.removeChild(e.box)}},"MML-CSS":class extends sc{constructor(){super(),this.mactionName="maction"}getMactionNodes(e){return Array.from(e.getElementsByTagName(this.mactionName))}isMactionNode(e){return e.tagName===this.mactionName}},CommonHTML:sc,CHTML:class extends sc{constructor(){super()}isMactionNode(e){return e.tagName.toUpperCase()===this.mactionName.toUpperCase()}getMactionNodes(e){return Array.from(e.getElementsByTagName(this.mactionName))}}};function pc(e){return e?e.split(/,/):[]}function fc(e,t){return e.getAttribute(t)}function mc(e){if(e.hasAttribute(nl.TYPE)&&!e.hasAttribute(nl.PARENT))return e;const t=function(e,t){return e.querySelectorAll?C(e.querySelectorAll(`[${t}]`)):T(`.//*[@${t}]`,e)}(e,nl.TYPE);for(let n,r=0;n=t[r];r++)if(!n.hasAttribute(nl.PARENT))return n;return e}function gc(e,t){return e.getAttribute(nl.ID)===t?e:D(e,nl.ID,t)[0]}function yc(e,t){return e.getAttribute(nl.ID)===t?[e]:D(e,nl.ID,t)}class vc{static textContent(e,t,n){if(!n&&t.textContent)return void(e.textContent=t.textContent);const r=pc(fc(t,nl.OPERATOR));r.length>1&&(e.textContent=r[1])}static isPunctuated(e){return!ll.simpleCollapseStructure(e)&&e[1]&&ll.contentCollapseStructure(e[1])}constructor(e){this.mathml=e,this.factory=new Fr,this.nodeDict={},this.mmlRoot=mc(e),this.streeRoot=this.assembleTree(this.mmlRoot),this.stree=gl.fromNode(this.streeRoot,this.mathml),this.xml=this.stree.xml(),xi.getInstance().setNodeFactory(this.factory)}getTree(){return this.stree}assembleTree(e){const t=this.makeNode(e),n=pc(fc(e,nl.CHILDREN)),r=pc(fc(e,nl.CONTENT));if(0===r.length&&0===n.length)return vc.textContent(t,e),t;if(r.length>0){const e=gc(this.mathml,r[0]);e&&vc.textContent(t,e,!0)}t.contentNodes=r.map(e=>this.setParent(e,t)),t.childNodes=n.map(e=>this.setParent(e,t));const i=fc(e,nl.COLLAPSED);return i?this.postProcess(t,i):t}makeNode(e){const t=fc(e,nl.TYPE),n=fc(e,nl.ROLE),r=fc(e,nl.FONT),i=fc(e,nl.ANNOTATION)||"",o=fc(e,nl.ATTRIBUTES)||"",s=fc(e,nl.ID),a=fc(e,nl.EMBELLISHED),l=fc(e,nl.FENCEPOINTER),c=this.createNode(parseInt(s,10));return c.type=t,c.role=n,c.font=r||Zt.UNKNOWN,c.parseAnnotation(i),c.parseAttributes(o),l&&(c.fencePointer=l),a&&(c.embellished=a),c}makePunctuation(e){const t=this.createNode(e);return t.updateContent(tn.invisibleComma),t.role="dummy",t}makePunctuated(e,t,n){const r=this.createNode(t[0]);r.type="punctuated",r.embellished=e.embellished,r.fencePointer=e.fencePointer,r.role=n;const i=t.splice(1,1)[0].slice(1);r.contentNodes=i.map(this.makePunctuation.bind(this)),this.collapsedChildren_(t)}makeEmpty(e,t,n){const r=this.createNode(t);r.type="empty",r.embellished=e.embellished,r.fencePointer=e.fencePointer,r.role=n}makeIndex(e,t,n){if(vc.isPunctuated(t))return this.makePunctuated(e,t,n),void(t=t[0]);ll.simpleCollapseStructure(t)&&!this.nodeDict[t.toString()]&&this.makeEmpty(e,t,n)}postProcess(e,t){const n=ll.fromString(t).array;if("subsup"===e.type){const t=this.createNode(n[1][0]);return t.type="subscript",t.role="subsup",e.type="superscript",t.embellished=e.embellished,t.fencePointer=e.fencePointer,this.makeIndex(e,n[1][2],"rightsub"),this.makeIndex(e,n[2],"rightsuper"),this.collapsedChildren_(n),e}if("subscript"===e.type)return this.makeIndex(e,n[2],"rightsub"),this.collapsedChildren_(n),e;if("superscript"===e.type)return this.makeIndex(e,n[2],"rightsuper"),this.collapsedChildren_(n),e;if("tensor"===e.type)return this.makeIndex(e,n[2],"leftsub"),this.makeIndex(e,n[3],"leftsuper"),this.makeIndex(e,n[4],"rightsub"),this.makeIndex(e,n[5],"rightsuper"),this.collapsedChildren_(n),e;if("punctuated"===e.type){if(vc.isPunctuated(n)){const t=n.splice(1,1)[0].slice(1);e.contentNodes=t.map(this.makePunctuation.bind(this))}return e}if("underover"===e.type){const t=this.createNode(n[1][0]);return"overaccent"===e.childNodes[1].role?(t.type="overscore",e.type="underscore"):(t.type="underscore",e.type="overscore"),t.role="underover",t.embellished=e.embellished,t.fencePointer=e.fencePointer,this.collapsedChildren_(n),e}return e}createNode(e){const t=this.factory.makeNode(e);return this.nodeDict[e.toString()]=t,t}collapsedChildren_(e){const t=e=>{const n=this.nodeDict[e[0]];n.childNodes=[];for(let r=1,i=e.length;r<i;r++){const i=e[r];n.childNodes.push(ll.simpleCollapseStructure(i)?this.nodeDict[i]:t(i))}return n};t(e)}setParent(e,t){const n=gc(this.mathml,e),r=this.assembleTree(n);return r.parent=t,r}}function bc(e){return Gs.getInstance().evaluateNode(e)}function xc(e){return Xa(bc(e))}function Sc(e){return Xa(function(e){return bc(gl.fromNode(e).xml())}(e))}function wc(e,t,n){const r=D(n,"id",t.id.toString())[0],i=r?Xa(bc(r)):Sc(t);e.setAttribute(nl.SPEECH,i)}function Nc(e,t,n){const r=Sc(t);e.setAttribute(n,r)}function Ec(e,t){const n=Tc(t);n&&e.setAttribute(nl.PREFIX,n)}function Tc(e){return Xa(function(e){const t=gl.fromRoot(e),n=T('.//*[@id="'+e.id+'"]',t.xml());let r=n[0];return n.length>1&&(r=function(e,t){const n=t[0];if(!e.parent)return n;const r=[];for(;e;)r.push(e.id),e=e.parent;const i=function(e,t){for(;t.length&&t.shift().toString()===e.getAttribute("id")&&e.parentNode&&e.parentNode.parentNode;)e=e.parentNode.parentNode;return!t.length};for(let o,s=0;o=t[s];s++)if(i(o,r.slice()))return o;return n}(e,n)||r),r?Gs.getInstance().runInSetting({modality:"prefix",domain:"default",style:"default",strict:!0,speech:!0},function(){return Gs.getInstance().evaluateNode(r)}):[]}(e))}class Ac{constructor(){this.modality=sl("speech"),this.rebuilt_=null,this.options_={}}getRebuilt(){return this.rebuilt_}setRebuilt(e){this.rebuilt_=e}setOptions(e){this.options_=e||{},this.modality=sl(this.options_.modality||"speech")}getOptions(){return this.options_}start(){}end(){}generateSpeech(e,t){return this.rebuilt_||(this.rebuilt_=new vc(t)),ca(this.options_),xc(this.getRebuilt().xml)}}class Cc extends Ac{getSpeech(e,t){const n=this.generateSpeech(e,t);return e.setAttribute(this.modality,n),n}}class kc extends Ac{constructor(){super(...arguments),this.modality=sl("foreground"),this.contrast=new uc}static visitStree_(e,t,n){if(e.childNodes.length){if(e.contentNodes.length&&("punctuated"===e.type&&e.contentNodes.forEach(e=>n[e.id]=!0),"implicit"!==e.role&&t.push(e.contentNodes.map(e=>e.id))),e.childNodes.length){if("implicit"===e.role){const r=[];let i=[];for(const t of e.childNodes){const e=[];kc.visitStree_(t,e,n),e.length<=2&&r.push(e.shift()),i=i.concat(e)}return t.push(r),void i.forEach(e=>t.push(e))}e.childNodes.forEach(e=>kc.visitStree_(e,t,n))}}else n[e.id]||t.push(e.id)}getSpeech(e,t){return fc(e,this.modality)}generateSpeech(e,t){return this.getRebuilt()||this.setRebuilt(new vc(k(t))),this.colorLeaves_(e),fc(e,this.modality)}colorLeaves_(e){const t=[];kc.visitStree_(this.getRebuilt().streeRoot,t,{});for(const n of t){const t=this.contrast.generate();let r=!1;r=Array.isArray(n)?n.map(n=>this.colorLeave_(e,n,t)).reduce((e,t)=>e||t,!1):this.colorLeave_(e,n.toString(),t),r&&this.contrast.increment()}}colorLeave_(e,t,n){const r=gc(e,t);return!!r&&(r.setAttribute(this.modality,n),!0)}}class Mc extends Ac{getSpeech(e,t){return fc(e,this.modality)}}class _c extends Ac{getSpeech(e,t){return""}}class Oc extends Ac{getSpeech(e,t,n=null){const r=this.generateSpeech(e,t),i=this.getRebuilt().nodeDict;for(const[o,s]of Object.entries(i)){const r=gc(t,o),i=gc(e,o)||n&&gc(n,o);r&&i&&(this.modality&&this.modality!==nl.SPEECH?Nc(i,s,this.modality):wc(i,s,this.getRebuilt().xml),this.modality===nl.SPEECH&&Ec(i,s))}return r}}class Ic extends Oc{getSpeech(e,t){return super.getSpeech(e,t),fc(e,this.modality)}}class Lc extends Ac{getSpeech(e,t){return function(e,t){const n=F(e,"maction");for(let r,i=0;r=n[i];i++){const e=r.childNodes[1].getAttribute(nl.ID);D(t,"id",e)[0].setAttribute("alternative",e)}}(t,this.getRebuilt().xml),this.generateSpeech(e,t)}}function Rc(e){return(Dc[e]||Dc.Direct)()}const Dc={Adhoc:()=>new Cc,Color:()=>new kc,Direct:()=>new Mc,Dummy:()=>new _c,Node:()=>new Ic,Summary:()=>new Lc,Tree:()=>new Oc};class Fc extends o{static comparator(){return new qc(y.getInstance().dynamicCstr,i.createProp([o.DEFAULT_VALUES[e.LOCALE]],[o.DEFAULT_VALUES[e.MODALITY]],[o.DEFAULT_VALUES[e.DOMAIN]],[o.DEFAULT_VALUES[e.STYLE]]))}static fromPreference(e){const t=e.split(":"),n={},r=Pc.getProperties(),i=Object.keys(r);for(let o,s=0;o=t[s];s++){const e=o.split("_");if(-1===i.indexOf(e[0]))continue;const t=e[1];t&&t!==Fc.AUTO&&-1!==r[e[0]].indexOf(t)&&(n[e[0]]=e[1])}return n}static toPreference(e){const t=Object.keys(e),n=[];for(let r=0;r<t.length;r++)n.push(t[r]+"_"+e[t[r]]);return n.length?n.join(":"):o.DEFAULT_VALUE}static getLocalePreferences(e){const t=e||Tn(Gs.getInstance().enumerate());return Fc.getLocalePreferences_(t)}static currentPreference(){return h.clearspeak}static relevantPreferences(e){const t=jc[e.type];return t&&(t[e.role]||t[""])||"ImpliedTimes"}static findPreference(e,t){return"default"===e?Fc.AUTO:Fc.fromPreference(e)[t]||Fc.AUTO}static addPreference(e,t,n){if("default"===e)return t+"_"+n;const r=Fc.fromPreference(e);return r[t]=n,Fc.toPreference(r)}static getLocalePreferences_(e){const t={};for(const n of Object.keys(e)){if(!e[n].speech||!e[n].speech.clearspeak)continue;const r=Object.keys(e[n].speech.clearspeak);if(r.length<3)continue;const i=t[n]={};for(const e in Pc.getProperties()){const t=Pc.getProperties()[e],n=[e+"_Auto"];if(t)for(const i of t)-1!==r.indexOf(e+"_"+i)&&n.push(e+"_"+i);i[e]=n}}return t}constructor(e,t){super(e),this.preference=t}equal(e){if(!super.equal(e))return!1;const t=Object.keys(this.preference),n=e.preference;if(t.length!==Object.keys(n).length)return!1;for(let r,i=0;r=t[i];i++)if(this.preference[r]!==n[r])return!1;return!0}}Fc.AUTO="Auto";const Pc=new i({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Enclosed:["Auto","EndEnclose"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:["Auto","EndFrac","FracOver","General","GeneralEndFrac","Ordinal","Over","OverEndFrac","Per"],Functions:["Auto","None","Reciprocal"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:["Auto","Combinatoric","EndMatrix","EndVector","SilentColNum","SpeakColNum","Vector"],MultiLineLabel:["Auto","Case","Constraint","Equation","Line","None","Row","Step"],MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:["Auto","CoordPoint","Interval","Silent","Speak","SpeakNestingLevel"],Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member","In"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]});class qc extends a{constructor(e,t){super(e,t),this.preference=e instanceof Fc?e.preference:{}}match(t){if(!(t instanceof Fc))return super.match(t);if("default"===t.getComponents()[e.STYLE])return!0;const n=Object.keys(t.preference);for(let e,r=0;e=n[r];r++)if(this.preference[e]!==t.preference[e])return!1;return!0}compare(e,t){const n=super.compare(e,t);if(0!==n)return n;const r=e instanceof Fc,i=t instanceof Fc;if(!r&&i)return 1;if(r&&!i)return-1;if(!r&&!i)return 0;const o=Object.keys(e.preference).length,s=Object.keys(t.preference).length;return o>s?-1:o<s?1:0}}const Bc=[["AbsoluteValue","fenced","neutral","metric"],["Bar","overscore","overaccent"],["Caps","identifier","latinletter"],["CombinationPermutation","appl","unknown"],["Ellipses","punctuation","ellipsis"],["Exponent","superscript",""],["Fraction","fraction",""],["Functions","appl","simple function"],["ImpliedTimes","operator","implicit"],["Log","appl","prefix function"],["Matrix","matrix",""],["Matrix","vector",""],["MultiLineLabel","multiline","label"],["MultiLineOverview","multiline","table"],["MultiLinePausesBetweenColumns","multiline","table"],["MultiLineLabel","table","label"],["MultiLineOverview","table","table"],["MultiLinePausesBetweenColumns","table","table"],["MultiLineLabel","cases","label"],["MultiLineOverview","cases","table"],["MultiLinePausesBetweenColumns","cases","table"],["MultsymbolDot","operator","multiplication"],["MultsymbolX","operator","multiplication"],["Paren","fenced","leftright"],["Prime","superscript","prime"],["Roots","root",""],["Roots","sqrt",""],["SetMemberSymbol","relation","element"],["Sets","fenced","set extended"],["TriangleSymbol","identifier","greekletter"],["Trig","appl","prefix function"],["VerticalLine","punctuated","vbar"]],jc=function(){const e={};for(let t,n=0;t=Bc[n];n++){const n=t[0];let r=e[t[1]];r||(r={},e[t[1]]=r),r[t[2]]=n}return e}();y.getInstance().comparators.clearspeak=Fc.comparator,y.getInstance().parsers.clearspeak=new class extends s{constructor(){super([e.LOCALE,e.MODALITY,e.DOMAIN,e.STYLE])}parse(t){const n=super.parse(t);let r=n.getValue(e.STYLE);const i=n.getValue(e.LOCALE),s=n.getValue(e.MODALITY);let a={};return r!==o.DEFAULT_VALUE&&(a=this.fromPreference(r),r=this.toPreference(a)),new Fc({locale:i,modality:s,domain:"clearspeak",style:r},a)}fromPreference(e){return Fc.fromPreference(e)}toPreference(e){return Fc.toPreference(e)}};class zc{static factory(e,t,n,r){const i=e=>gc(r,e),o=n.nodeDict,s=i(e),a=t.map(i),l=t.map(function(e){return o[e]}),c=new zc(l,o[e]);return c.domNodes=a,c.domPrimary_=s,c.allNodes=zc.generateAllVisibleNodes_(t,a,o,r),c}static generateAllVisibleNodes_(e,t,n,r){let i=[];for(let o=0,s=e.length;o<s;o++){if(t[o]){const n=zc.getAllVisibleNodes([e[o]],r);n.length?i=i.concat(n):i.push(t[o]);continue}const s=n[e[o]];if(!s)continue;const a=s.childNodes.map(e=>e.id.toString()),l=zc.getAllVisibleNodes(a,r);i=i.concat(zc.generateAllVisibleNodes_(a,l,n,r))}return i}static getAllVisibleNodes(e,t){let n=[];for(const r of e)n=n.concat(yc(t,r));return n}constructor(e,t){this.nodes=e,this.primary=t,this.domNodes=[],this.domPrimary_=null,this.allNodes=[]}getSemanticPrimary(){return this.primary}getSemanticNodes(){return this.nodes}getNodes(){return this.allNodes}getDomNodes(){return this.domNodes}getDomPrimary(){return this.domPrimary_}toString(){return"Primary:"+this.domPrimary_+" Nodes:"+this.domNodes}clone(){const e=new zc(this.nodes,this.primary);return e.domNodes=this.domNodes,e.domPrimary_=this.domPrimary_,e.allNodes=this.allNodes,e}}var Hc;!function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e.REPEAT="repeat",e.DEPTH="depth",e.ENTER="enter",e.EXPAND="expand",e.HOME="home",e.SUMMARY="summary",e.DETAIL="detail",e.ROW="row",e.CELL="cell"}(Hc||(Hc={}));class Uc{static resetState(e){delete Uc.STATE[e]}static setState(e,t){Uc.STATE[e]=t}static getState(e){return Uc.STATE[e]}}Uc.STATE={};class $c{constructor(e,t,n,r){this.node=e,this.generator=t,this.highlighter=n,this.modifier=!1,this.keyMapping=new Map([[la.UP,this.up.bind(this)],[la.DOWN,this.down.bind(this)],[la.RIGHT,this.right.bind(this)],[la.LEFT,this.left.bind(this)],[la.TAB,this.repeat.bind(this)],[la.DASH,this.expand.bind(this)],[la.SPACE,this.depth.bind(this)],[la.HOME,this.home.bind(this)],[la.X,this.summary.bind(this)],[la.Z,this.detail.bind(this)],[la.V,this.virtualize.bind(this)],[la.P,this.previous.bind(this)],[la.U,this.undo.bind(this)],[la.LESS,this.previousRules.bind(this)],[la.GREATER,this.nextRules.bind(this)]]),this.cursors=[],this.xml_=null,this.rebuilt_=null,this.focus_=null,this.active_=!1,this.node.id?this.id=this.node.id:this.node.hasAttribute($c.SRE_ID_ATTR)?this.id=this.node.getAttribute($c.SRE_ID_ATTR):(this.node.setAttribute($c.SRE_ID_ATTR,$c.ID_COUNTER.toString()),this.id=$c.ID_COUNTER++),this.rootNode=mc(e),this.rootId=this.rootNode.getAttribute(nl.ID),this.xmlString_=r,this.moved=Hc.ENTER}getXml(){return this.xml_||(this.xml_=k(this.xmlString_)),this.xml_}getRebuilt(){return this.rebuilt_||this.rebuildStree(),this.rebuilt_}isActive(){return this.active_}activate(){this.isActive()||(this.generator.start(),this.toggleActive_())}deactivate(){this.isActive()&&(Uc.setState(this.id,this.primaryId()),this.generator.end(),this.toggleActive_())}getFocus(e=!1){return null===this.rootId&&this.getRebuilt(),this.focus_||(this.focus_=this.singletonFocus(this.rootId)),e&&this.updateFocus(),this.focus_}setFocus(e){this.focus_=e}getDepth(){return this.levels.depth()-1}isSpeech(){return this.generator.modality===nl.SPEECH}focusDomNodes(){return this.getFocus().getDomNodes()}focusSemanticNodes(){return this.getFocus().getSemanticNodes()}speech(){const e=this.focusDomNodes();if(!e.length)return"";const t=this.specialMove();if(null!==t)return t;switch(this.moved){case Hc.DEPTH:return this.depth_();case Hc.SUMMARY:return this.summary_();case Hc.DETAIL:return this.detail_();default:{const t=[],n=this.focusSemanticNodes();for(let r=0,i=e.length;r<i;r++){const i=e[r],o=n[r];t.push(i?this.generator.getSpeech(i,this.getXml(),this.node):Sc(o))}return this.mergePrefix_(t)}}}move(e){const t=this.keyMapping.get(e);if(!t)return null;const n=t();return!(!n||n===this.getFocus()||(this.setFocus(n),this.moved===Hc.HOME&&(this.levels=this.initLevels()),0))}up(){return this.moved=Hc.UP,this.getFocus()}down(){return this.moved=Hc.DOWN,this.getFocus()}left(){return this.moved=Hc.LEFT,this.getFocus()}right(){return this.moved=Hc.RIGHT,this.getFocus()}repeat(){return this.moved=Hc.REPEAT,this.getFocus().clone()}depth(){return this.moved=this.isSpeech()?Hc.DEPTH:Hc.REPEAT,this.getFocus().clone()}home(){return this.moved=Hc.HOME,this.singletonFocus(this.rootId)}getBySemanticId(e){return gc(this.node,e)}primaryId(){return this.getFocus().getSemanticPrimary().id.toString()}expand(){const e=this.getFocus().getDomPrimary(),t=this.actionable_(e);return t?(this.moved=Hc.EXPAND,t.dispatchEvent(new Event("click")),this.getFocus().clone()):this.getFocus()}expandable(e){return!!this.actionable_(e)&&0===e.childNodes.length}collapsible(e){return!!this.actionable_(e)&&e.childNodes.length>0}restoreState(){if(!this.highlighter)return;const e=Uc.getState(this.id);if(!e)return;let t=this.getRebuilt().nodeDict[e];const n=[];for(;t;)n.push(t.id),t=t.parent;for(n.pop();n.length>0;){this.down();const e=n.pop(),t=this.findFocusOnLevel(e);if(!t)break;this.setFocus(t)}this.moved=Hc.ENTER}updateFocus(){this.setFocus(zc.factory(this.getFocus().getSemanticPrimary().id.toString(),this.getFocus().getSemanticNodes().map(e=>e.id.toString()),this.getRebuilt(),this.node))}rebuildStree(){this.rebuilt_=new vc(this.getXml()),this.rootId=this.rebuilt_.stree.root.id.toString(),this.generator.setRebuilt(this.rebuilt_),this.skeleton=ll.fromTree(this.rebuilt_.stree),this.skeleton.populate(),this.focus_=this.singletonFocus(this.rootId),this.levels=this.initLevels(),function(e,t,n){const r=F(t,"maction");for(let i,o=0;i=r[o];o++){const t=D(e,"id",i.getAttribute("id"))[0];if(!t)continue;const r=i.childNodes[1],o=r.getAttribute(nl.ID);let s=gc(e,o);if(s&&"dummy"!==s.getAttribute(nl.TYPE))continue;if(s=t.childNodes[0],s.getAttribute("sre-highlighter-added"))continue;const a=r.getAttribute(nl.PARENT);a&&s.setAttribute(nl.PARENT,a),s.setAttribute(nl.TYPE,"dummy"),s.setAttribute(nl.ID,o),D(n,"id",o)[0].setAttribute("alternative",o)}}(this.node,this.getXml(),this.rebuilt_.xml)}previousLevel(){const e=this.getFocus().getDomPrimary();return e?fc(e,nl.PARENT):this.getFocus().getSemanticPrimary().parent.id.toString()}nextLevel(){const e=this.getFocus().getDomPrimary();let t,n;if(e){t=pc(fc(e,nl.CHILDREN)),n=pc(fc(e,nl.CONTENT));const r=fc(e,nl.TYPE),i=fc(e,nl.ROLE);return this.combineContentChildren(r,i,n,t)}const r=e=>e.id.toString(),i=this.getRebuilt().nodeDict[this.primaryId()];return t=i.childNodes.map(r),n=i.contentNodes.map(r),0===t.length?[]:this.combineContentChildren(i.type,i.role,n,t)}singletonFocus(e){this.getRebuilt();const t=this.retrieveVisuals(e);return this.focusFromId(e,t)}retrieveVisuals(e){if(!this.skeleton)return[e];const t=parseInt(e,10),n=this.skeleton.subtreeNodes(t);if(!n.length)return[e];n.unshift(t);const r={},i=[];A(this.getXml());for(const o of n)r[o]||(i.push(o.toString()),r[o]=!0,this.subtreeIds(o,r));return i}subtreeIds(e,t){const n=T(`//*[@data-semantic-id="${e}"]`,this.getXml());T("*//@data-semantic-id",n[0]).forEach(e=>t[parseInt(e.textContent,10)]=!0)}focusFromId(e,t){return zc.factory(e,t,this.getRebuilt(),this.node)}summary(){return this.moved=this.isSpeech()?Hc.SUMMARY:Hc.REPEAT,this.getFocus().clone()}detail(){return this.moved=this.isSpeech()?Hc.DETAIL:Hc.REPEAT,this.getFocus().clone()}specialMove(){return null}virtualize(e){return this.cursors.push({focus:this.getFocus(),levels:this.levels,undo:e||!this.cursors.length}),this.levels=this.levels.clone(),this.getFocus().clone()}previous(){const e=this.cursors.pop();return e?(this.levels=e.levels,e.focus):this.getFocus()}undo(){let e;do{e=this.cursors.pop()}while(e&&!e.undo);return e?(this.levels=e.levels,e.focus):this.getFocus()}update(e){this.generator.setOptions(e),ca(e).then(()=>Rc("Tree").getSpeech(this.node,this.getXml()))}nextRules(){const e=this.generator.getOptions();return"speech"!==e.modality?this.getFocus():(h[e.domain]=e.style,e.domain="mathspeak"===e.domain?"clearspeak":"mathspeak",e.style=h[e.domain],this.update(e),this.moved=Hc.REPEAT,this.getFocus().clone())}nextStyle(e,t){if("mathspeak"===e){const e=["default","brief","sbrief"],n=e.indexOf(t);return-1===n?t:n>=e.length-1?e[0]:e[n+1]}if("clearspeak"===e){const e=Fc.getLocalePreferences().en;if(!e)return"default";const n=Fc.relevantPreferences(this.getFocus().getSemanticPrimary()),r=Fc.findPreference(t,n),i=e[n].map(function(e){return e.split("_")[1]}),o=i.indexOf(r);return-1===o?t:Fc.addPreference(t,n,o>=i.length-1?i[0]:i[o+1])}return t}previousRules(){const e=this.generator.getOptions();return"speech"!==e.modality?this.getFocus():(e.style=this.nextStyle(e.domain,e.style),this.update(e),this.moved=Hc.REPEAT,this.getFocus().clone())}refocus(){let e,t=this.getFocus();for(;!t.getNodes().length;){e=this.levels.peek();const n=this.up();if(!n)break;this.setFocus(n),t=this.getFocus(!0)}this.levels.push(e),this.setFocus(t)}toggleActive_(){this.active_=!this.active_}mergePrefix_(e,t=[]){const n=this.isSpeech()?this.prefix_():"";n&&e.unshift(n);const r=this.isSpeech()?this.postfix_():"";return r&&e.push(r),Ya(function(e){const t=e.map(e=>"string"==typeof e?Cn.stringEmpty(e):e),n=Qa.get(y.getInstance().markup);return n?n.merge(t):e.join()}(t.concat(e)))}prefix_(){const e=this.getFocus().getDomNodes(),t=this.getFocus().getSemanticNodes();return e[0]?fc(e[0],nl.PREFIX):Tc(t[0])}postfix_(){const e=this.getFocus().getDomNodes();return e[0]?fc(e[0],nl.POSTFIX):""}depth_(){const e=ee.getInstance().getParameter("depth");ee.getInstance().setParameter("depth",!0);const t=this.getFocus().getDomPrimary(),n=this.expandable(t)?W.MESSAGES.navigate.EXPANDABLE:this.collapsible(t)?W.MESSAGES.navigate.COLLAPSIBLE:"",r=W.MESSAGES.navigate.LEVEL+" "+this.getDepth(),i=Tc(this.getFocus().getSemanticNodes()[0]),o=[new kn({text:r,personality:{}}),new kn({text:i,personality:{}}),new kn({text:n,personality:{}})];return ee.getInstance().setParameter("depth",e),Ya(Xa(o))}actionable_(e){const t=null==e?void 0:e.parentNode;return t&&this.highlighter.isMactionNode(t)?t:null}summary_(){const e=this.getFocus().getSemanticPrimary().id.toString(),t=function(e){return Xa(function(e){return e?Gs.getInstance().runInSetting({modality:"summary",strict:!1,speech:!0},function(){return Gs.getInstance().evaluateNode(e)}):[]}(e))}(this.getRebuilt().xml.getAttribute("id")===e?this.getRebuilt().xml:D(this.getRebuilt().xml,"id",e)[0]);return this.mergePrefix_([t])}detail_(){const e=this.getFocus().getSemanticPrimary().id.toString(),t=this.getRebuilt().xml.getAttribute("id")===e?this.getRebuilt().xml:D(this.getRebuilt().xml,"id",e)[0],n=t.getAttribute("alternative");t.removeAttribute("alternative");const r=xc(t),i=this.mergePrefix_([r]);return t.setAttribute("alternative",n),i}}$c.ID_COUNTER=0,$c.SRE_ID_ATTR="sre-explorer-id";class Gc extends $c{up(){return null}down(){return null}left(){return null}right(){return null}repeat(){return null}depth(){return null}home(){return null}getDepth(){return 0}initLevels(){return null}combineContentChildren(e,t,n,r){return[]}findFocusOnLevel(e){return null}}class Vc{constructor(){this.level_=[]}push(e){this.level_.push(e)}pop(){return this.level_.pop()}peek(){return this.level_[this.level_.length-1]||null}indexOf(e){const t=this.peek();return t?t.indexOf(e):null}find(e){const t=this.peek();if(!t)return null;for(let n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null}get(e){const t=this.peek();return!t||e<0||e>=t.length?null:t[e]}depth(){return this.level_.length}clone(){const e=new Vc;return e.level_=this.level_.slice(0),e}toString(){let e="";for(let t,n=0;t=this.level_[n];n++)e+="\n"+t.map(function(e){return e.toString()});return e}}class Wc extends $c{constructor(e,t,n,r){super(e,t,n,r),this.node=e,this.generator=t,this.highlighter=n,this.levels=null,this.restoreState()}initLevels(){const e=new Vc;return e.push([this.getFocus()]),e}up(){super.up();const e=this.previousLevel();return e?(this.levels.pop(),this.levels.find(function(t){return t.getSemanticNodes().some(function(t){return t.id.toString()===e})})):null}down(){super.down();const e=this.nextLevel();return 0===e.length?null:(this.levels.push(e),e[0])}combineContentChildren(e,t,n,r){switch(e){case"relseq":case"infixop":case"multirel":return this.makePairList(r,n);case"prefixop":return[this.focusFromId(r[0],n.concat(r))];case"postfixop":return[this.focusFromId(r[0],r.concat(n))];case"matrix":case"vector":case"fenced":return[this.focusFromId(r[0],[n[0],r[0],n[1]])];case"cases":return[this.focusFromId(r[0],[n[0],r[0]])];case"punctuated":return"text"===t?r.map(this.singletonFocus.bind(this)):r.length===n.length?n.map(this.singletonFocus.bind(this)):this.combinePunctuations(r,n,[],[]);case"appl":return[this.focusFromId(r[0],[r[0],n[0]]),this.singletonFocus(r[1])];case"root":return[this.singletonFocus(r[1]),this.singletonFocus(r[0])];default:return r.map(this.singletonFocus.bind(this))}}combinePunctuations(e,t,n,r){if(0===e.length)return r;const i=e.shift(),o=t.shift();return i===o?(n.push(o),this.combinePunctuations(e,t,n,r)):(t.unshift(o),n.push(i),e.length===t.length?(r.push(this.focusFromId(i,n.concat(t))),r):(r.push(this.focusFromId(i,n)),this.combinePunctuations(e,t,[],r)))}makePairList(e,t){if(0===e.length)return[];if(1===e.length)return[this.singletonFocus(e[0])];const n=[this.singletonFocus(e.shift())];for(let r=0,i=e.length;r<i;r++)n.push(this.focusFromId(e[r],[t[r],e[r]]));return n}left(){super.left();const e=this.levels.indexOf(this.getFocus());return null===e?null:this.levels.get(e-1)||null}right(){super.right();const e=this.levels.indexOf(this.getFocus());return null===e?null:this.levels.get(e+1)||null}findFocusOnLevel(e){return this.levels.find(t=>t.getSemanticPrimary().id===e)}}class Qc extends $c{constructor(e,t,n,r){super(e,t,n,r),this.node=e,this.generator=t,this.highlighter=n,this.levels=null,this.restoreState()}initLevels(){const e=new Vc;return e.push([this.primaryId()]),e}up(){super.up();const e=this.previousLevel();return e?(this.levels.pop(),this.singletonFocus(e)):null}down(){super.down();const e=this.nextLevel();if(0===e.length)return null;const t=this.singletonFocus(e[0]);return t&&this.levels.push(e),t}combineContentChildren(e,t,n,r){switch(e){case"relseq":case"infixop":case"multirel":return or(r,n);case"prefixop":return n.concat(r);case"postfixop":return r.concat(n);case"matrix":case"vector":case"fenced":return r.unshift(n[0]),r.push(n[1]),r;case"cases":return r.unshift(n[0]),r;case"punctuated":return"text"===t?or(r,n):r;case"appl":return[r[0],n[0],r[1]];case"root":return[r[1],r[0]];default:return r}}left(){super.left();const e=this.levels.indexOf(this.primaryId());if(null===e)return null;const t=this.levels.get(e-1);return t?this.singletonFocus(t):null}right(){super.right();const e=this.levels.indexOf(this.primaryId());if(null===e)return null;const t=this.levels.get(e+1);return t?this.singletonFocus(t):null}findFocusOnLevel(e){return this.singletonFocus(e.toString())}focusDomNodes(){return[this.getFocus().getDomPrimary()]}focusSemanticNodes(){return[this.getFocus().getSemanticPrimary()]}}class Xc extends Qc{constructor(e,t,n,r){super(e,t,n,r),this.node=e,this.generator=t,this.highlighter=n,this.firstJump=null,this.key_=null,this.row_=0,this.currentTable_=null,this.keyMapping.set(la.ZERO,this.jumpCell.bind(this)),this.keyMapping.set(la.ONE,this.jumpCell.bind(this)),this.keyMapping.set(la.TWO,this.jumpCell.bind(this)),this.keyMapping.set(la.THREE,this.jumpCell.bind(this)),this.keyMapping.set(la.FOUR,this.jumpCell.bind(this)),this.keyMapping.set(la.FIVE,this.jumpCell.bind(this)),this.keyMapping.set(la.SIX,this.jumpCell.bind(this)),this.keyMapping.set(la.SEVEN,this.jumpCell.bind(this)),this.keyMapping.set(la.EIGHT,this.jumpCell.bind(this)),this.keyMapping.set(la.NINE,this.jumpCell.bind(this))}move(e){this.key_=e;const t=super.move(e);return this.modifier=!1,t}up(){return this.moved=Hc.UP,this.eligibleCell_()?this.verticalMove_(!1):super.up()}down(){return this.moved=Hc.DOWN,this.eligibleCell_()?this.verticalMove_(!0):super.down()}jumpCell(){if(!this.isInTable_()||null===this.key_)return this.getFocus();if(this.moved===Hc.ROW){this.moved=Hc.CELL;const e=this.key_-la.ZERO;return this.isLegalJump_(this.row_,e)?this.jumpCell_(this.row_,e):this.getFocus()}const e=this.key_-la.ZERO;return e>this.currentTable_.childNodes.length?this.getFocus():(this.row_=e,this.moved=Hc.ROW,this.getFocus().clone())}undo(){const e=super.undo();return e===this.firstJump&&(this.firstJump=null),e}eligibleCell_(){const e=this.getFocus().getSemanticPrimary();return this.modifier&&"cell"===e.type&&-1!==Xc.ELIGIBLE_CELL_ROLES.indexOf(e.role)}verticalMove_(e){const t=this.previousLevel();if(!t)return null;const n=this.getFocus(),r=this.levels.indexOf(this.primaryId()),i=this.levels.pop(),o=this.levels.indexOf(t),s=this.levels.get(e?o+1:o-1);if(!s)return this.levels.push(i),null;this.setFocus(this.singletonFocus(s));const a=this.nextLevel();return a[r]?(this.levels.push(a),this.singletonFocus(a[r])):(this.setFocus(n),this.levels.push(i),null)}jumpCell_(e,t){this.firstJump?this.virtualize(!1):(this.firstJump=this.getFocus(),this.virtualize(!0));const n=this.currentTable_.id.toString();let r;do{r=this.levels.pop()}while(-1===r.indexOf(n));this.levels.push(r),this.setFocus(this.singletonFocus(n)),this.levels.push(this.nextLevel());const i=this.currentTable_.childNodes[e-1];return this.setFocus(this.singletonFocus(i.id.toString())),this.levels.push(this.nextLevel()),this.singletonFocus(i.childNodes[t-1].id.toString())}isLegalJump_(e,t){const n=D(this.getRebuilt().xml,"id",this.currentTable_.id.toString())[0];if(!n||n.hasAttribute("alternative"))return!1;const r=this.currentTable_.childNodes[e-1];if(!r)return!1;const i=D(n,"id",r.id.toString())[0];return!(!i||i.hasAttribute("alternative")||!r||!r.childNodes[t-1])}isInTable_(){let e=this.getFocus().getSemanticPrimary();for(;e;){if(-1!==Xc.ELIGIBLE_TABLE_TYPES.indexOf(e.type))return this.currentTable_=e,!0;e=e.parent}return!1}}Xc.ELIGIBLE_CELL_ROLES=["determinant","rowvector","binomial","squarematrix","multiline","matrix","vector","cases","table"],Xc.ELIGIBLE_TABLE_TYPES=["multiline","matrix","vector","cases","table"];const Yc={dummy:(e,t,n,r)=>new Gc(e,t,n,r),semantic:(e,t,n,r)=>new Wc(e,t,n,r),syntax:(e,t,n,r)=>new Qc(e,t,n,r),table:(e,t,n,r)=>new Xc(e,t,n,r)};class Kc{static stringify_(e){return e?e.toString():e}constructor(e,t){this.name=e,this.process=t.processor,this.postprocess=t.postprocessor||((e,t)=>e),this.processor=this.postprocess?function(e){return this.postprocess(this.process(e),e)}:this.process,this.print=t.print||Kc.stringify_,this.pprint=t.pprint||this.print}}Kc.LocalState={walker:null,speechGenerator:null,highlighter:null};class Zc extends Kc{static getKey_(e){return"string"==typeof e?la[e.toUpperCase()]:e}constructor(e,t){super(e,t),this.key=t.key||Zc.getKey_}}const Jc=new Map;function eu(e){Jc.set(e.name,e)}function tu(e){const t=Jc.get(e);if(!t)throw new m("Unknown processor "+e);return t}function nu(e,t){const n=tu(e);try{return n.processor(t)}catch(e){throw new m("Processing error for expression "+t)}}function ru(e,t){const n=tu(e);try{const e=n.processor(t);return y.getInstance().pprint?n.pprint(e):n.print(e)}catch(e){throw console.log(e),new m("Processing error for expression "+t)}}eu(new Kc("semantic",{processor:function(e){return vl(k(e))},postprocessor:function(e,t){const n=y.getInstance().speech;if(n===c.NONE)return e;const r=q(e);let i=xc(r);if(n===c.SHALLOW)return e.setAttribute("speech",Ya(i)),e;const o=T(".//*[@id]",e),s=T(".//*[@id]",r);for(let a,l,c=0;a=o[c],l=s[c];c++)i=xc(l),a.setAttribute("speech",Ya(i));return e},pprint:function(e){return L(e.toString())}})),eu(new Kc("speech",{processor:function(e){return Ya(Xa(bc(vl(k(e)))))},pprint:function(e){const t=e.toString();return Qa.get(y.getInstance().markup)instanceof Ca?L(t):t}})),eu(new Kc("json",{processor:function(e){return bl(k(e)).toJson()},postprocessor:function(e,t){const n=y.getInstance().speech;if(n===c.NONE)return e;const r=vl(k(t)),i=xc(r);if(n===c.SHALLOW)return e.stree.speech=Ya(i),e;const o=e=>{const t=xc(T(`.//*[@id=${e.id}]`,r)[0]);e.speech=Ya(t),e.children&&e.children.forEach(o)};return o(e.stree),e},print:function(e){return JSON.stringify(e)},pprint:function(e){return JSON.stringify(e,null,2)}})),eu(new Kc("description",{processor:function(e){return bc(vl(k(e)))},print:function(e){return JSON.stringify(e)},pprint:function(e){return JSON.stringify(e,null,2)}})),eu(new Kc("enriched",{processor:function(e){return function(e){return function(e){const t=q(e);return function(e,t){const n=q(e);return wl(t.root),y.getInstance().structure&&e.setAttribute(nl.STRUCTURE,ll.fromStructure(e,t).toString()),p.getInstance().generateOutput(()=>[Ul(n,"Original MathML",Sl),Ul(t,"Semantic Tree",Sl),Ul(e,"Semantically enriched MathML",Sl)]),e}(t,bl(t))}(k(e))}(e)},postprocessor:function(e,t){const n=mc(e);let r;switch(y.getInstance().speech){case c.NONE:break;case c.SHALLOW:r=Rc("Adhoc"),r.getSpeech(n,e);break;case c.DEEP:r=Rc("Tree"),r.getSpeech(e,e)}return e},pprint:function(e){return L(e.toString())}})),eu(new Kc("walker",{processor:function(e){const t=Rc("Node");Kc.LocalState.speechGenerator=t,t.setOptions({modality:y.getInstance().modality,locale:y.getInstance().locale,domain:y.getInstance().domain,style:y.getInstance().style}),Kc.LocalState.highlighter=function(e,t,n){const r=new cc({color:"black"},{color:"white"}),i=new(dc["NativeMML"===n.renderer&&"Safari"===n.browser?"MML-CSS":"SVG"===n.renderer&&"v3"===n.browser?"SVG-V3":n.renderer]||dc.NativeMML);return i.setColor(r),i}(0,0,{renderer:"NativeMML"});const n=nu("enriched",e),r=function(e,t){const n=tu("enriched");return y.getInstance().pprint?n.pprint(t):n.print(t)}(0,n);return Kc.LocalState.walker=function(e,t,n,r,i){return(Yc[e.toLowerCase()]||Yc.dummy)(t,n,r,i)}(y.getInstance().walker,n,t,Kc.LocalState.highlighter,r),Kc.LocalState.walker},print:function(e){return Kc.LocalState.walker.speech()}})),eu(new Zc("move",{processor:function(e){return Kc.LocalState.walker?!1===Kc.LocalState.walker.move(e)?function(e){const t=Qa.get(y.getInstance().markup);return t?t.error(e):""}(e):Kc.LocalState.walker.speech():null}})),eu(new Kc("number",{processor:function(e){const t=parseInt(e,10);return isNaN(t)?"":W.NUMBERS.numberToWords(t)}})),eu(new Kc("ordinal",{processor:function(e){const t=parseInt(e,10);return isNaN(t)?"":W.NUMBERS.wordOrdinal(t)}})),eu(new Kc("numericOrdinal",{processor:function(e){const t=parseInt(e,10);return isNaN(t)?"":W.NUMBERS.numericOrdinal(t)}})),eu(new Kc("vulgar",{processor:function(e){const[t,n]=e.split("/").map(e=>parseInt(e,10));return isNaN(t)||isNaN(n)?"":nu("speech",`<mfrac><mn>${t}</mn><mn>${n}</mn></mfrac>`)}})),eu(new Kc("latex",{processor:function(e){return"braille"===y.getInstance().modality&&"euro"===y.getInstance().locale||console.info("LaTeX input currently only works for Euro Braille output. Please use the latex-to-speech package from npm for general LaTeX input to SRE."),nu("speech",`<math latex="${e}"></math>`)}}));var iu=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};const ou=f.L.VERSION;function su(e){return iu(this,void 0,void 0,function*(){return ca(e)})}function au(){const e=["mode"].concat(y.STRING_FEATURES,y.BINARY_FEATURES),t=y.getInstance(),n={};return e.forEach(function(e){n[e]=t[e]}),n.json=d.Z.jsonPath,n.xpath=d.Z.WGXpath,n.rules=t.ruleSets.slice(),n}function lu(){return iu(this,void 0,void 0,function*(){return su({}).then(()=>v.getall())})}const cu=ra;function uu(e){return bu("speech",e)}function hu(e){return bu("semantic",e)}function du(e){return bu("json",e)}function pu(e){return bu("description",e)}function fu(e){return bu("enriched",e)}function mu(e){return bu("number",e)}function gu(e){return bu("ordinal",e)}function yu(e){return bu("numericOrdinal",e)}function vu(e){return bu("vulgar",e)}function bu(e,t){return nu(e,t)}const xu={};function Su(e,n,r){switch(y.getInstance().mode){case t.ASYNC:return function(e,t,n){return iu(this,void 0,void 0,function*(){const r=yield d.Z.fs.promises.readFile(t,{encoding:"utf8"}),i=ru(e,r);if(n)try{d.Z.fs.promises.writeFile(n,i)}catch(e){throw new m("Can not write to file: "+n)}return i})}(e,n,r);case t.SYNC:return function(e,t,n){const r=ru(e,function(e){let t;try{t=d.Z.fs.readFileSync(e,{encoding:"utf8"})}catch(t){throw new m("Can not open file: "+e)}return t}(t));if(n)try{d.Z.fs.writeFileSync(n,r)}catch(e){throw new m("Can not write to file: "+n)}return r}(e,n,r);default:throw new m(`Can process files in ${y.getInstance().mode} mode`)}}function wu(e){return ru("walker",e)}function Nu(e){return function(e,t){const n=tu("move"),r=n instanceof Zc?n.key(t):t,i=n.processor(r);return y.getInstance().pprint?n.pprint(i):n.print(i)}(0,e)}function Eu(e){const t=e||0;v.getall().then(()=>process.exit(t))}xu.toSpeech=function(e,t){return Su("speech",e,t)},xu.toSemantic=function(e,t){return Su("semantic",e,t)},xu.toJson=function(e,t){return Su("json",e,t)},xu.toDescription=function(e,t){return Su("description",e,t)},xu.toEnriched=function(e,t){return Su("enriched",e,t)};const Tu=zt;d.Z.documentSupported?su({mode:t.HTTP}).then(()=>su({})):su({mode:t.SYNC}).then(()=>su({mode:t.ASYNC}));var Au=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};const Cu=class{constructor(){this.process=d.Z.extRequire("process"),this.setup={mode:t.SYNC},this.processors=[],this.output=this.process.stdout,this.dp=new d.Z.xmldom.DOMParser({errorHandler:(e,t)=>{throw new m("XML DOM error!")}})}set(e,t,n){this.setup[e]=void 0===t||t}processor(e){this.processors.push(e)}loadLocales(){return Au(this,void 0,void 0,function*(){for(const e of f.L.LOCALES.keys())yield su({locale:e})})}enumerate(e=!1){return Au(this,void 0,void 0,function*(){const t=su(this.setup),n=o.DEFAULT_ORDER.slice(0,-1);return(e?this.loadLocales():t).then(()=>v.getall().then(()=>{const e=n.map(e=>e.length),t=(t,n)=>{e[n]=Math.max.apply(null,Object.keys(t).map(e=>e.length).concat(e[n]))},r=(e,t)=>e+new Array(t-e.length+1).join(" ");let i=Gs.getInstance().enumerate();i=Tn(i);const o=[];t(i,0);for(const[n,h]of Object.entries(i)){let s=!0;t(h,1);for(const[a,l]of Object.entries(h)){let c=!0;t(l,2);for(const[t,u]of Object.entries(l)){const l=Object.keys(u).sort();if("clearspeak"===t){let l=!0;const u=Fc.getLocalePreferences(i)[n];if(!u)continue;for(const i of Object.values(u))o.push([r(s?n:"",e[0]),r(c?a:"",e[1]),r(l?t:"",e[2]),i.join(", ")]),s=!1,c=!1,l=!1}else o.push([r(s?n:"",e[0]),r(c?a:"",e[1]),r(t,e[2]),l.join(", ")]);s=!1,c=!1}}}let s=0;const a=n.map(t=>r(t,e[s++])),l=d.Z.commander.opts().pprint,c=e.map(e=>new Array(e+1).join(l?"-":"="));l||(c[s-1]=c[s-1]+"========================"),o.unshift(c),o.unshift(a);let u=o.map(e=>e.join(" | "));l&&(u=u.map(e=>`| ${e} |`),u.unshift(`# Options SRE v${ou}\n`)),console.info(u.join("\n"))}))})}execute(e){v.getall().then(()=>{this.runProcessors_((e,t)=>this.output.write(Su(e,t)+"\n"),e)})}readline(){this.process.stdin.setEncoding("utf8");const e=d.Z.extRequire("readline").createInterface({input:this.process.stdin,output:this.output});let t="";e.on("line",(n=>{t+=n,this.readExpression_(t)&&e.close()}).bind(this)),e.on("close",(()=>{this.runProcessors_((t,n)=>{e.output.write(ru(t,n)+"\n")},t),lu().then(()=>p.getInstance().exit(()=>Eu(0)))}).bind(this))}commandLine(){return Au(this,void 0,void 0,function*(){const t=d.Z.commander,n=r,i=(e=>(t,n)=>this.set(e,t,n)).bind(this),s=this.processor.bind(this);t.version(n.version).usage("[options] <file ...>").option("-i, --input [name]","Input file [name]. (Deprecated)").option("-o, --output [name]","Output file [name]. Defaults to stdout.").option("-d, --domain [name]","Speech rule set [name]. See --options for details.",i(e.DOMAIN),o.DEFAULT_VALUES[e.DOMAIN]).option("-s, --style [name]","Speech style [name]. See --options for details.",i(e.STYLE),o.DEFAULT_VALUES[e.STYLE]).option("-c, --locale [code]","Locale [code].",i(e.LOCALE),o.DEFAULT_VALUES[e.LOCALE]).option("-b, --modality [name]","Modality [name].",i(e.MODALITY),o.DEFAULT_VALUES[e.MODALITY]).option("-k, --markup [name]","Generate speech output with markup tags.",i("markup"),"none").option("-e, --automark","Automatically set marks for external reference.",i("automark")).option("-r, --rate [value]","Base rate [value] for tagged speech output.",i("rate"),"100").option("-p, --speech","Generate speech output (default).",()=>s("speech")).option("-a, --audit","Generate auditory descriptions (JSON format).",()=>s("description")).option("-j, --json","Generate JSON of semantic tree.",()=>s("json")).option("-x, --xml","Generate XML of semantic tree.",()=>s("semantic")).option("-m, --mathml","Generate enriched MathML.",()=>s("enriched")).option("-t, --latex","Accepts LaTeX input for certain locale/modality combinations.",()=>s("latex")).option("-g, --generate <depth>","Include generated speech in enriched MathML (with -m option only).",i("speech"),"none").option("-w, --structure","Include structure attribute in enriched MathML (with -m option only).",i("structure")).option("-A, --aria","Include aria tree annotations MathML (with -m and -w option only).",i("aria")).option("-P, --pprint","Pretty print output whenever possible.",i("pprint")).option("-f, --rules [name]","Loads a local rule file [name].",i("rules")).option("-C, --subiso [name]","Supplementary country code (or similar) for the given locale.",i("subiso")).option("-N, --number","Translate number to word.",()=>s("number")).option("-O, --ordinal","Translate number to ordinal.",()=>s("ordinal"),"ordinal").option("-S, --numeric","Translate number to numeric ordinal.",()=>s("numericOrdinal")).option("-F, --vulgar","Translate vulgar fraction to word. Provide vulgar fraction as slash seperated numbers.",()=>s("vulgar")).option("-v, --verbose","Verbose mode.").option("-l, --log [name]","Log file [name].").option("--opt","List engine setup options. Output as markdown with -P option.").option("--opt-all","List engine setup options for all available locales. Output as markdown with -P option.").on("option:opt",()=>{this.enumerate().then(()=>Eu(0))}).on("option:opt-all",()=>{this.enumerate(!0).then(()=>Eu(0))}).parse(this.process.argv),yield lu().then(()=>su(this.setup));const a=t.opts();a.output&&(this.output=d.Z.fs.createWriteStream(a.output)),a.verbose&&(yield p.getInstance().init(a.log)),a.input&&this.execute(a.input),t.args.length?(t.args.forEach(this.execute.bind(this)),lu().then(()=>p.getInstance().exit(()=>Eu(0)))):this.readline()})}runProcessors_(e,t){try{this.processors.length||this.processors.push("speech"),t&&this.processors.forEach(n=>e(n,t))}catch(e){console.error(e.name+": "+e.message),p.getInstance().exit(()=>this.process.exit(1))}}readExpression_(e){try{const t=e.replace(/(&|#|;)/g,"");this.dp.parseFromString(t,"text/xml")}catch(e){return!1}return!0}},ku=f.L})(),__nested_webpack_exports__})(),module.exports=e()}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};return(()=>{__webpack_require__.d(__webpack_exports__,{default:()=>Hr}),__webpack_require__(755),__webpack_require__(666);class e{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(t,n){return n?t&&t.loc&&n.loc&&t.loc.lexer===n.loc.lexer?new e(t.loc.lexer,t.loc.start,n.loc.end):null:t&&t.loc}}class t{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(n,r){return new t(r,e.range(this,n))}}class n{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r,i,o="KaTeX parse error: "+e,s=t&&t.loc;if(s&&s.start<=s.end){var a=s.lexer.input;o+=(r=s.start)===a.length?" at end of input: ":" at position "+(r+1)+": ";var l=a.slice(r,i=s.end).replace(/[^]/g,"$&\u0332");o+=(r>15?"\u2026"+a.slice(r-15,r):a.slice(0,r))+l+(i+15<a.length?a.slice(i,i+15)+"\u2026":a.slice(i))}var c=new Error(o);return c.name="ParseError",c.__proto__=n.prototype,c.position=r,null!=r&&null!=i&&(c.length=i-r),c.rawMessage=e,c}}n.prototype.__proto__=Error.prototype;var r=/([A-Z])/g,i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g,s=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},a=function(e,t){return-1!==e.indexOf(t)},l=function(e,t){return void 0===e?t:e},c=function(e){return String(e).replace(o,e=>i[e])},u=function(e){return e.replace(r,"-$1").toLowerCase()},h=s,d=function(e){var t=s(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},p={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function f(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if("string"!=typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class m{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},p)if(p.hasOwnProperty(t)){var n=p[t];this[t]=void 0!==e[t]?n.processor?n.processor(e[t]):e[t]:f(n)}}reportNonstrict(e,t,r){var i=this.strict;if("function"==typeof i&&(i=i(e,t,r)),i&&"ignore"!==i){if(!0===i||"error"===i)throw new n("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",r);"warn"===i?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]")}}useStrictBehavior(e,t,n){var r=this.strict;if("function"==typeof r)try{r=r(e,t,n)}catch(e){r="error"}return!(!r||"ignore"===r||!0!==r&&"error"!==r&&("warn"===r?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]"),1)))}isTrusted(e){e.url&&!e.protocol&&(e.protocol=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return null!=t?t[1]:"_relative"}(e.url));var t="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(t)}}class g{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return y[v[this.id]]}sub(){return y[b[this.id]]}fracNum(){return y[x[this.id]]}fracDen(){return y[S[this.id]]}cramp(){return y[w[this.id]]}text(){return y[N[this.id]]}isTight(){return this.size>=2}}var y=[new g(0,0,!1),new g(1,0,!0),new g(2,1,!1),new g(3,1,!0),new g(4,2,!1),new g(5,2,!0),new g(6,3,!1),new g(7,3,!0)],v=[4,5,4,5,6,7,6,7],b=[5,5,5,5,7,7,7,7],x=[2,3,4,5,6,7,6,7],S=[3,3,5,5,7,7,7,7],w=[1,1,3,3,5,5,7,7],N=[0,1,2,3,2,3,2,3],E={DISPLAY:y[0],TEXT:y[2],SCRIPT:y[4],SCRIPTSCRIPT:y[6]},T=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],A=[];function C(e){for(var t=0;t<A.length;t+=2)if(e>=A[t]&&e<=A[t+1])return!0;return!1}T.forEach(e=>e.blocks.forEach(e=>A.push(...e)));var k={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class M{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return a(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map(e=>e.toText()).join("")}}var _={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},O={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},I={"\xc5":"A","\xd0":"D","\xde":"o","\xe5":"a","\xf0":"d","\xfe":"o","\u0410":"A","\u0411":"B","\u0412":"B","\u0413":"F","\u0414":"A","\u0415":"E","\u0416":"K","\u0417":"3","\u0418":"N","\u0419":"N","\u041a":"K","\u041b":"N","\u041c":"M","\u041d":"H","\u041e":"O","\u041f":"N","\u0420":"P","\u0421":"C","\u0422":"T","\u0423":"y","\u0424":"O","\u0425":"X","\u0426":"U","\u0427":"h","\u0428":"W","\u0429":"W","\u042a":"B","\u042b":"X","\u042c":"B","\u042d":"3","\u042e":"X","\u042f":"R","\u0430":"a","\u0431":"b","\u0432":"a","\u0433":"r","\u0434":"y","\u0435":"e","\u0436":"m","\u0437":"e","\u0438":"n","\u0439":"n","\u043a":"n","\u043b":"n","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"n","\u0440":"p","\u0441":"c","\u0442":"o","\u0443":"y","\u0444":"b","\u0445":"x","\u0446":"n","\u0447":"n","\u0448":"w","\u0449":"w","\u044a":"a","\u044b":"m","\u044c":"a","\u044d":"e","\u044e":"m","\u044f":"r"};function L(e,t,n){if(!_[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=_[t][r];if(!i&&e[0]in I&&(r=I[e[0]].charCodeAt(0),i=_[t][r]),i||"text"!==n||C(r)&&(i=_[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var R={},D=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],F=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],P=function(e,t){return t.size<2?e:D[e-1][t.size-1]};class q{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||q.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=F[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new q(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:P(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:F[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=P(q.BASESIZE,e);return this.size===t&&this.textSize===q.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==q.BASESIZE?["sizing","reset-size"+this.size,"size"+q.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!R[t=e>=5?0:e>=3?1:2]){var n=R[t]={cssEmPerMu:O.quad[t]/18};for(var r in O)O.hasOwnProperty(r)&&(n[r]=O[r][t])}return R[t]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}q.BASESIZE=6;var B={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},j={ex:!0,em:!0,mu:!0},z=function(e){return"string"!=typeof e&&(e=e.unit),e in B||e in j||"ex"===e},H=function(e,t){var r;if(e.unit in B)r=B[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)r=t.fontMetrics().cssEmPerMu;else{var i;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)r=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new n("Invalid unit: '"+e.unit+"'");r=i.fontMetrics().quad}i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},U=function(e){return+e.toFixed(4)+"em"},$=function(e){return e.filter(e=>e).join(" ")},G=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},V=function(e){var t=document.createElement(e);for(var n in t.className=$(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},W=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+c($(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=u(r)+":"+this.style[r]+";");for(var i in n&&(t+=' style="'+c(n)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+c(this.attributes[i])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+"</"+e+">"};class Q{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,G.call(this,e,n,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return a(this.classes,e)}toNode(){return V.call(this,"span")}toMarkup(){return W.call(this,"span")}}class X{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,G.call(this,t,r),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return a(this.classes,e)}toNode(){return V.call(this,"a")}toMarkup(){return W.call(this,"a")}}class Y{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return a(this.classes,e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=u(n)+":"+this.style[n]+";");return t&&(e+=' style="'+c(t)+'"'),e+"'/>"}}var K={"\xee":"\u0131\u0302","\xef":"\u0131\u0308","\xed":"\u0131\u0301","\xec":"\u0131\u0300"};class Z{constructor(e,t,n,r,i,o,s,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.width=o||0,this.classes=s||[],this.style=a||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<T.length;t++)for(var n=T[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=K[this.text])}hasClass(e){return a(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=U(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=$(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=c($(this.classes)),t+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=u(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+c(n)+'"');var i=c(this.text);return e?(t+=">",t+=i,t+="</span>"):i}}class J{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</svg>"}}class ee{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",this.alternate?this.alternate:k[this.pathName]),e}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+k[this.pathName]+"'/>"}}class te{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+"/>"}}function ne(e){if(e instanceof Z)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var re={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ie={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},oe={math:{},text:{}};function se(e,t,n,r,i,o){oe[e][i]={font:t,group:n,replace:r},o&&r&&(oe[e][r]=oe[e][i])}var ae="math",le="text",ce="main",ue="ams",he="accent-token",de="bin",pe="close",fe="inner",me="mathord",ge="op-token",ye="open",ve="punct",be="rel",xe="spacing",Se="textord";se(ae,ce,be,"\u2261","\\equiv",!0),se(ae,ce,be,"\u227a","\\prec",!0),se(ae,ce,be,"\u227b","\\succ",!0),se(ae,ce,be,"\u223c","\\sim",!0),se(ae,ce,be,"\u22a5","\\perp"),se(ae,ce,be,"\u2aaf","\\preceq",!0),se(ae,ce,be,"\u2ab0","\\succeq",!0),se(ae,ce,be,"\u2243","\\simeq",!0),se(ae,ce,be,"\u2223","\\mid",!0),se(ae,ce,be,"\u226a","\\ll",!0),se(ae,ce,be,"\u226b","\\gg",!0),se(ae,ce,be,"\u224d","\\asymp",!0),se(ae,ce,be,"\u2225","\\parallel"),se(ae,ce,be,"\u22c8","\\bowtie",!0),se(ae,ce,be,"\u2323","\\smile",!0),se(ae,ce,be,"\u2291","\\sqsubseteq",!0),se(ae,ce,be,"\u2292","\\sqsupseteq",!0),se(ae,ce,be,"\u2250","\\doteq",!0),se(ae,ce,be,"\u2322","\\frown",!0),se(ae,ce,be,"\u220b","\\ni",!0),se(ae,ce,be,"\u221d","\\propto",!0),se(ae,ce,be,"\u22a2","\\vdash",!0),se(ae,ce,be,"\u22a3","\\dashv",!0),se(ae,ce,be,"\u220b","\\owns"),se(ae,ce,ve,".","\\ldotp"),se(ae,ce,ve,"\u22c5","\\cdotp"),se(ae,ce,Se,"#","\\#"),se(le,ce,Se,"#","\\#"),se(ae,ce,Se,"&","\\&"),se(le,ce,Se,"&","\\&"),se(ae,ce,Se,"\u2135","\\aleph",!0),se(ae,ce,Se,"\u2200","\\forall",!0),se(ae,ce,Se,"\u210f","\\hbar",!0),se(ae,ce,Se,"\u2203","\\exists",!0),se(ae,ce,Se,"\u2207","\\nabla",!0),se(ae,ce,Se,"\u266d","\\flat",!0),se(ae,ce,Se,"\u2113","\\ell",!0),se(ae,ce,Se,"\u266e","\\natural",!0),se(ae,ce,Se,"\u2663","\\clubsuit",!0),se(ae,ce,Se,"\u2118","\\wp",!0),se(ae,ce,Se,"\u266f","\\sharp",!0),se(ae,ce,Se,"\u2662","\\diamondsuit",!0),se(ae,ce,Se,"\u211c","\\Re",!0),se(ae,ce,Se,"\u2661","\\heartsuit",!0),se(ae,ce,Se,"\u2111","\\Im",!0),se(ae,ce,Se,"\u2660","\\spadesuit",!0),se(ae,ce,Se,"\xa7","\\S",!0),se(le,ce,Se,"\xa7","\\S"),se(ae,ce,Se,"\xb6","\\P",!0),se(le,ce,Se,"\xb6","\\P"),se(ae,ce,Se,"\u2020","\\dag"),se(le,ce,Se,"\u2020","\\dag"),se(le,ce,Se,"\u2020","\\textdagger"),se(ae,ce,Se,"\u2021","\\ddag"),se(le,ce,Se,"\u2021","\\ddag"),se(le,ce,Se,"\u2021","\\textdaggerdbl"),se(ae,ce,pe,"\u23b1","\\rmoustache",!0),se(ae,ce,ye,"\u23b0","\\lmoustache",!0),se(ae,ce,pe,"\u27ef","\\rgroup",!0),se(ae,ce,ye,"\u27ee","\\lgroup",!0),se(ae,ce,de,"\u2213","\\mp",!0),se(ae,ce,de,"\u2296","\\ominus",!0),se(ae,ce,de,"\u228e","\\uplus",!0),se(ae,ce,de,"\u2293","\\sqcap",!0),se(ae,ce,de,"\u2217","\\ast"),se(ae,ce,de,"\u2294","\\sqcup",!0),se(ae,ce,de,"\u25ef","\\bigcirc",!0),se(ae,ce,de,"\u2219","\\bullet",!0),se(ae,ce,de,"\u2021","\\ddagger"),se(ae,ce,de,"\u2240","\\wr",!0),se(ae,ce,de,"\u2a3f","\\amalg"),se(ae,ce,de,"&","\\And"),se(ae,ce,be,"\u27f5","\\longleftarrow",!0),se(ae,ce,be,"\u21d0","\\Leftarrow",!0),se(ae,ce,be,"\u27f8","\\Longleftarrow",!0),se(ae,ce,be,"\u27f6","\\longrightarrow",!0),se(ae,ce,be,"\u21d2","\\Rightarrow",!0),se(ae,ce,be,"\u27f9","\\Longrightarrow",!0),se(ae,ce,be,"\u2194","\\leftrightarrow",!0),se(ae,ce,be,"\u27f7","\\longleftrightarrow",!0),se(ae,ce,be,"\u21d4","\\Leftrightarrow",!0),se(ae,ce,be,"\u27fa","\\Longleftrightarrow",!0),se(ae,ce,be,"\u21a6","\\mapsto",!0),se(ae,ce,be,"\u27fc","\\longmapsto",!0),se(ae,ce,be,"\u2197","\\nearrow",!0),se(ae,ce,be,"\u21a9","\\hookleftarrow",!0),se(ae,ce,be,"\u21aa","\\hookrightarrow",!0),se(ae,ce,be,"\u2198","\\searrow",!0),se(ae,ce,be,"\u21bc","\\leftharpoonup",!0),se(ae,ce,be,"\u21c0","\\rightharpoonup",!0),se(ae,ce,be,"\u2199","\\swarrow",!0),se(ae,ce,be,"\u21bd","\\leftharpoondown",!0),se(ae,ce,be,"\u21c1","\\rightharpoondown",!0),se(ae,ce,be,"\u2196","\\nwarrow",!0),se(ae,ce,be,"\u21cc","\\rightleftharpoons",!0),se(ae,ue,be,"\u226e","\\nless",!0),se(ae,ue,be,"\ue010","\\@nleqslant"),se(ae,ue,be,"\ue011","\\@nleqq"),se(ae,ue,be,"\u2a87","\\lneq",!0),se(ae,ue,be,"\u2268","\\lneqq",!0),se(ae,ue,be,"\ue00c","\\@lvertneqq"),se(ae,ue,be,"\u22e6","\\lnsim",!0),se(ae,ue,be,"\u2a89","\\lnapprox",!0),se(ae,ue,be,"\u2280","\\nprec",!0),se(ae,ue,be,"\u22e0","\\npreceq",!0),se(ae,ue,be,"\u22e8","\\precnsim",!0),se(ae,ue,be,"\u2ab9","\\precnapprox",!0),se(ae,ue,be,"\u2241","\\nsim",!0),se(ae,ue,be,"\ue006","\\@nshortmid"),se(ae,ue,be,"\u2224","\\nmid",!0),se(ae,ue,be,"\u22ac","\\nvdash",!0),se(ae,ue,be,"\u22ad","\\nvDash",!0),se(ae,ue,be,"\u22ea","\\ntriangleleft"),se(ae,ue,be,"\u22ec","\\ntrianglelefteq",!0),se(ae,ue,be,"\u228a","\\subsetneq",!0),se(ae,ue,be,"\ue01a","\\@varsubsetneq"),se(ae,ue,be,"\u2acb","\\subsetneqq",!0),se(ae,ue,be,"\ue017","\\@varsubsetneqq"),se(ae,ue,be,"\u226f","\\ngtr",!0),se(ae,ue,be,"\ue00f","\\@ngeqslant"),se(ae,ue,be,"\ue00e","\\@ngeqq"),se(ae,ue,be,"\u2a88","\\gneq",!0),se(ae,ue,be,"\u2269","\\gneqq",!0),se(ae,ue,be,"\ue00d","\\@gvertneqq"),se(ae,ue,be,"\u22e7","\\gnsim",!0),se(ae,ue,be,"\u2a8a","\\gnapprox",!0),se(ae,ue,be,"\u2281","\\nsucc",!0),se(ae,ue,be,"\u22e1","\\nsucceq",!0),se(ae,ue,be,"\u22e9","\\succnsim",!0),se(ae,ue,be,"\u2aba","\\succnapprox",!0),se(ae,ue,be,"\u2246","\\ncong",!0),se(ae,ue,be,"\ue007","\\@nshortparallel"),se(ae,ue,be,"\u2226","\\nparallel",!0),se(ae,ue,be,"\u22af","\\nVDash",!0),se(ae,ue,be,"\u22eb","\\ntriangleright"),se(ae,ue,be,"\u22ed","\\ntrianglerighteq",!0),se(ae,ue,be,"\ue018","\\@nsupseteqq"),se(ae,ue,be,"\u228b","\\supsetneq",!0),se(ae,ue,be,"\ue01b","\\@varsupsetneq"),se(ae,ue,be,"\u2acc","\\supsetneqq",!0),se(ae,ue,be,"\ue019","\\@varsupsetneqq"),se(ae,ue,be,"\u22ae","\\nVdash",!0),se(ae,ue,be,"\u2ab5","\\precneqq",!0),se(ae,ue,be,"\u2ab6","\\succneqq",!0),se(ae,ue,be,"\ue016","\\@nsubseteqq"),se(ae,ue,de,"\u22b4","\\unlhd"),se(ae,ue,de,"\u22b5","\\unrhd"),se(ae,ue,be,"\u219a","\\nleftarrow",!0),se(ae,ue,be,"\u219b","\\nrightarrow",!0),se(ae,ue,be,"\u21cd","\\nLeftarrow",!0),se(ae,ue,be,"\u21cf","\\nRightarrow",!0),se(ae,ue,be,"\u21ae","\\nleftrightarrow",!0),se(ae,ue,be,"\u21ce","\\nLeftrightarrow",!0),se(ae,ue,be,"\u25b3","\\vartriangle"),se(ae,ue,Se,"\u210f","\\hslash"),se(ae,ue,Se,"\u25bd","\\triangledown"),se(ae,ue,Se,"\u25ca","\\lozenge"),se(ae,ue,Se,"\u24c8","\\circledS"),se(ae,ue,Se,"\xae","\\circledR"),se(le,ue,Se,"\xae","\\circledR"),se(ae,ue,Se,"\u2221","\\measuredangle",!0),se(ae,ue,Se,"\u2204","\\nexists"),se(ae,ue,Se,"\u2127","\\mho"),se(ae,ue,Se,"\u2132","\\Finv",!0),se(ae,ue,Se,"\u2141","\\Game",!0),se(ae,ue,Se,"\u2035","\\backprime"),se(ae,ue,Se,"\u25b2","\\blacktriangle"),se(ae,ue,Se,"\u25bc","\\blacktriangledown"),se(ae,ue,Se,"\u25a0","\\blacksquare"),se(ae,ue,Se,"\u29eb","\\blacklozenge"),se(ae,ue,Se,"\u2605","\\bigstar"),se(ae,ue,Se,"\u2222","\\sphericalangle",!0),se(ae,ue,Se,"\u2201","\\complement",!0),se(ae,ue,Se,"\xf0","\\eth",!0),se(le,ce,Se,"\xf0","\xf0"),se(ae,ue,Se,"\u2571","\\diagup"),se(ae,ue,Se,"\u2572","\\diagdown"),se(ae,ue,Se,"\u25a1","\\square"),se(ae,ue,Se,"\u25a1","\\Box"),se(ae,ue,Se,"\u25ca","\\Diamond"),se(ae,ue,Se,"\xa5","\\yen",!0),se(le,ue,Se,"\xa5","\\yen",!0),se(ae,ue,Se,"\u2713","\\checkmark",!0),se(le,ue,Se,"\u2713","\\checkmark"),se(ae,ue,Se,"\u2136","\\beth",!0),se(ae,ue,Se,"\u2138","\\daleth",!0),se(ae,ue,Se,"\u2137","\\gimel",!0),se(ae,ue,Se,"\u03dd","\\digamma",!0),se(ae,ue,Se,"\u03f0","\\varkappa"),se(ae,ue,ye,"\u250c","\\@ulcorner",!0),se(ae,ue,pe,"\u2510","\\@urcorner",!0),se(ae,ue,ye,"\u2514","\\@llcorner",!0),se(ae,ue,pe,"\u2518","\\@lrcorner",!0),se(ae,ue,be,"\u2266","\\leqq",!0),se(ae,ue,be,"\u2a7d","\\leqslant",!0),se(ae,ue,be,"\u2a95","\\eqslantless",!0),se(ae,ue,be,"\u2272","\\lesssim",!0),se(ae,ue,be,"\u2a85","\\lessapprox",!0),se(ae,ue,be,"\u224a","\\approxeq",!0),se(ae,ue,de,"\u22d6","\\lessdot"),se(ae,ue,be,"\u22d8","\\lll",!0),se(ae,ue,be,"\u2276","\\lessgtr",!0),se(ae,ue,be,"\u22da","\\lesseqgtr",!0),se(ae,ue,be,"\u2a8b","\\lesseqqgtr",!0),se(ae,ue,be,"\u2251","\\doteqdot"),se(ae,ue,be,"\u2253","\\risingdotseq",!0),se(ae,ue,be,"\u2252","\\fallingdotseq",!0),se(ae,ue,be,"\u223d","\\backsim",!0),se(ae,ue,be,"\u22cd","\\backsimeq",!0),se(ae,ue,be,"\u2ac5","\\subseteqq",!0),se(ae,ue,be,"\u22d0","\\Subset",!0),se(ae,ue,be,"\u228f","\\sqsubset",!0),se(ae,ue,be,"\u227c","\\preccurlyeq",!0),se(ae,ue,be,"\u22de","\\curlyeqprec",!0),se(ae,ue,be,"\u227e","\\precsim",!0),se(ae,ue,be,"\u2ab7","\\precapprox",!0),se(ae,ue,be,"\u22b2","\\vartriangleleft"),se(ae,ue,be,"\u22b4","\\trianglelefteq"),se(ae,ue,be,"\u22a8","\\vDash",!0),se(ae,ue,be,"\u22aa","\\Vvdash",!0),se(ae,ue,be,"\u2323","\\smallsmile"),se(ae,ue,be,"\u2322","\\smallfrown"),se(ae,ue,be,"\u224f","\\bumpeq",!0),se(ae,ue,be,"\u224e","\\Bumpeq",!0),se(ae,ue,be,"\u2267","\\geqq",!0),se(ae,ue,be,"\u2a7e","\\geqslant",!0),se(ae,ue,be,"\u2a96","\\eqslantgtr",!0),se(ae,ue,be,"\u2273","\\gtrsim",!0),se(ae,ue,be,"\u2a86","\\gtrapprox",!0),se(ae,ue,de,"\u22d7","\\gtrdot"),se(ae,ue,be,"\u22d9","\\ggg",!0),se(ae,ue,be,"\u2277","\\gtrless",!0),se(ae,ue,be,"\u22db","\\gtreqless",!0),se(ae,ue,be,"\u2a8c","\\gtreqqless",!0),se(ae,ue,be,"\u2256","\\eqcirc",!0),se(ae,ue,be,"\u2257","\\circeq",!0),se(ae,ue,be,"\u225c","\\triangleq",!0),se(ae,ue,be,"\u223c","\\thicksim"),se(ae,ue,be,"\u2248","\\thickapprox"),se(ae,ue,be,"\u2ac6","\\supseteqq",!0),se(ae,ue,be,"\u22d1","\\Supset",!0),se(ae,ue,be,"\u2290","\\sqsupset",!0),se(ae,ue,be,"\u227d","\\succcurlyeq",!0),se(ae,ue,be,"\u22df","\\curlyeqsucc",!0),se(ae,ue,be,"\u227f","\\succsim",!0),se(ae,ue,be,"\u2ab8","\\succapprox",!0),se(ae,ue,be,"\u22b3","\\vartriangleright"),se(ae,ue,be,"\u22b5","\\trianglerighteq"),se(ae,ue,be,"\u22a9","\\Vdash",!0),se(ae,ue,be,"\u2223","\\shortmid"),se(ae,ue,be,"\u2225","\\shortparallel"),se(ae,ue,be,"\u226c","\\between",!0),se(ae,ue,be,"\u22d4","\\pitchfork",!0),se(ae,ue,be,"\u221d","\\varpropto"),se(ae,ue,be,"\u25c0","\\blacktriangleleft"),se(ae,ue,be,"\u2234","\\therefore",!0),se(ae,ue,be,"\u220d","\\backepsilon"),se(ae,ue,be,"\u25b6","\\blacktriangleright"),se(ae,ue,be,"\u2235","\\because",!0),se(ae,ue,be,"\u22d8","\\llless"),se(ae,ue,be,"\u22d9","\\gggtr"),se(ae,ue,de,"\u22b2","\\lhd"),se(ae,ue,de,"\u22b3","\\rhd"),se(ae,ue,be,"\u2242","\\eqsim",!0),se(ae,ce,be,"\u22c8","\\Join"),se(ae,ue,be,"\u2251","\\Doteq",!0),se(ae,ue,de,"\u2214","\\dotplus",!0),se(ae,ue,de,"\u2216","\\smallsetminus"),se(ae,ue,de,"\u22d2","\\Cap",!0),se(ae,ue,de,"\u22d3","\\Cup",!0),se(ae,ue,de,"\u2a5e","\\doublebarwedge",!0),se(ae,ue,de,"\u229f","\\boxminus",!0),se(ae,ue,de,"\u229e","\\boxplus",!0),se(ae,ue,de,"\u22c7","\\divideontimes",!0),se(ae,ue,de,"\u22c9","\\ltimes",!0),se(ae,ue,de,"\u22ca","\\rtimes",!0),se(ae,ue,de,"\u22cb","\\leftthreetimes",!0),se(ae,ue,de,"\u22cc","\\rightthreetimes",!0),se(ae,ue,de,"\u22cf","\\curlywedge",!0),se(ae,ue,de,"\u22ce","\\curlyvee",!0),se(ae,ue,de,"\u229d","\\circleddash",!0),se(ae,ue,de,"\u229b","\\circledast",!0),se(ae,ue,de,"\u22c5","\\centerdot"),se(ae,ue,de,"\u22ba","\\intercal",!0),se(ae,ue,de,"\u22d2","\\doublecap"),se(ae,ue,de,"\u22d3","\\doublecup"),se(ae,ue,de,"\u22a0","\\boxtimes",!0),se(ae,ue,be,"\u21e2","\\dashrightarrow",!0),se(ae,ue,be,"\u21e0","\\dashleftarrow",!0),se(ae,ue,be,"\u21c7","\\leftleftarrows",!0),se(ae,ue,be,"\u21c6","\\leftrightarrows",!0),se(ae,ue,be,"\u21da","\\Lleftarrow",!0),se(ae,ue,be,"\u219e","\\twoheadleftarrow",!0),se(ae,ue,be,"\u21a2","\\leftarrowtail",!0),se(ae,ue,be,"\u21ab","\\looparrowleft",!0),se(ae,ue,be,"\u21cb","\\leftrightharpoons",!0),se(ae,ue,be,"\u21b6","\\curvearrowleft",!0),se(ae,ue,be,"\u21ba","\\circlearrowleft",!0),se(ae,ue,be,"\u21b0","\\Lsh",!0),se(ae,ue,be,"\u21c8","\\upuparrows",!0),se(ae,ue,be,"\u21bf","\\upharpoonleft",!0),se(ae,ue,be,"\u21c3","\\downharpoonleft",!0),se(ae,ce,be,"\u22b6","\\origof",!0),se(ae,ce,be,"\u22b7","\\imageof",!0),se(ae,ue,be,"\u22b8","\\multimap",!0),se(ae,ue,be,"\u21ad","\\leftrightsquigarrow",!0),se(ae,ue,be,"\u21c9","\\rightrightarrows",!0),se(ae,ue,be,"\u21c4","\\rightleftarrows",!0),se(ae,ue,be,"\u21a0","\\twoheadrightarrow",!0),se(ae,ue,be,"\u21a3","\\rightarrowtail",!0),se(ae,ue,be,"\u21ac","\\looparrowright",!0),se(ae,ue,be,"\u21b7","\\curvearrowright",!0),se(ae,ue,be,"\u21bb","\\circlearrowright",!0),se(ae,ue,be,"\u21b1","\\Rsh",!0),se(ae,ue,be,"\u21ca","\\downdownarrows",!0),se(ae,ue,be,"\u21be","\\upharpoonright",!0),se(ae,ue,be,"\u21c2","\\downharpoonright",!0),se(ae,ue,be,"\u21dd","\\rightsquigarrow",!0),se(ae,ue,be,"\u21dd","\\leadsto"),se(ae,ue,be,"\u21db","\\Rrightarrow",!0),se(ae,ue,be,"\u21be","\\restriction"),se(ae,ce,Se,"\u2018","`"),se(ae,ce,Se,"$","\\$"),se(le,ce,Se,"$","\\$"),se(le,ce,Se,"$","\\textdollar"),se(ae,ce,Se,"%","\\%"),se(le,ce,Se,"%","\\%"),se(ae,ce,Se,"_","\\_"),se(le,ce,Se,"_","\\_"),se(le,ce,Se,"_","\\textunderscore"),se(ae,ce,Se,"\u2220","\\angle",!0),se(ae,ce,Se,"\u221e","\\infty",!0),se(ae,ce,Se,"\u2032","\\prime"),se(ae,ce,Se,"\u25b3","\\triangle"),se(ae,ce,Se,"\u0393","\\Gamma",!0),se(ae,ce,Se,"\u0394","\\Delta",!0),se(ae,ce,Se,"\u0398","\\Theta",!0),se(ae,ce,Se,"\u039b","\\Lambda",!0),se(ae,ce,Se,"\u039e","\\Xi",!0),se(ae,ce,Se,"\u03a0","\\Pi",!0),se(ae,ce,Se,"\u03a3","\\Sigma",!0),se(ae,ce,Se,"\u03a5","\\Upsilon",!0),se(ae,ce,Se,"\u03a6","\\Phi",!0),se(ae,ce,Se,"\u03a8","\\Psi",!0),se(ae,ce,Se,"\u03a9","\\Omega",!0),se(ae,ce,Se,"A","\u0391"),se(ae,ce,Se,"B","\u0392"),se(ae,ce,Se,"E","\u0395"),se(ae,ce,Se,"Z","\u0396"),se(ae,ce,Se,"H","\u0397"),se(ae,ce,Se,"I","\u0399"),se(ae,ce,Se,"K","\u039a"),se(ae,ce,Se,"M","\u039c"),se(ae,ce,Se,"N","\u039d"),se(ae,ce,Se,"O","\u039f"),se(ae,ce,Se,"P","\u03a1"),se(ae,ce,Se,"T","\u03a4"),se(ae,ce,Se,"X","\u03a7"),se(ae,ce,Se,"\xac","\\neg",!0),se(ae,ce,Se,"\xac","\\lnot"),se(ae,ce,Se,"\u22a4","\\top"),se(ae,ce,Se,"\u22a5","\\bot"),se(ae,ce,Se,"\u2205","\\emptyset"),se(ae,ue,Se,"\u2205","\\varnothing"),se(ae,ce,me,"\u03b1","\\alpha",!0),se(ae,ce,me,"\u03b2","\\beta",!0),se(ae,ce,me,"\u03b3","\\gamma",!0),se(ae,ce,me,"\u03b4","\\delta",!0),se(ae,ce,me,"\u03f5","\\epsilon",!0),se(ae,ce,me,"\u03b6","\\zeta",!0),se(ae,ce,me,"\u03b7","\\eta",!0),se(ae,ce,me,"\u03b8","\\theta",!0),se(ae,ce,me,"\u03b9","\\iota",!0),se(ae,ce,me,"\u03ba","\\kappa",!0),se(ae,ce,me,"\u03bb","\\lambda",!0),se(ae,ce,me,"\u03bc","\\mu",!0),se(ae,ce,me,"\u03bd","\\nu",!0),se(ae,ce,me,"\u03be","\\xi",!0),se(ae,ce,me,"\u03bf","\\omicron",!0),se(ae,ce,me,"\u03c0","\\pi",!0),se(ae,ce,me,"\u03c1","\\rho",!0),se(ae,ce,me,"\u03c3","\\sigma",!0),se(ae,ce,me,"\u03c4","\\tau",!0),se(ae,ce,me,"\u03c5","\\upsilon",!0),se(ae,ce,me,"\u03d5","\\phi",!0),se(ae,ce,me,"\u03c7","\\chi",!0),se(ae,ce,me,"\u03c8","\\psi",!0),se(ae,ce,me,"\u03c9","\\omega",!0),se(ae,ce,me,"\u03b5","\\varepsilon",!0),se(ae,ce,me,"\u03d1","\\vartheta",!0),se(ae,ce,me,"\u03d6","\\varpi",!0),se(ae,ce,me,"\u03f1","\\varrho",!0),se(ae,ce,me,"\u03c2","\\varsigma",!0),se(ae,ce,me,"\u03c6","\\varphi",!0),se(ae,ce,de,"\u2217","*",!0),se(ae,ce,de,"+","+"),se(ae,ce,de,"\u2212","-",!0),se(ae,ce,de,"\u22c5","\\cdot",!0),se(ae,ce,de,"\u2218","\\circ",!0),se(ae,ce,de,"\xf7","\\div",!0),se(ae,ce,de,"\xb1","\\pm",!0),se(ae,ce,de,"\xd7","\\times",!0),se(ae,ce,de,"\u2229","\\cap",!0),se(ae,ce,de,"\u222a","\\cup",!0),se(ae,ce,de,"\u2216","\\setminus",!0),se(ae,ce,de,"\u2227","\\land"),se(ae,ce,de,"\u2228","\\lor"),se(ae,ce,de,"\u2227","\\wedge",!0),se(ae,ce,de,"\u2228","\\vee",!0),se(ae,ce,Se,"\u221a","\\surd"),se(ae,ce,ye,"\u27e8","\\langle",!0),se(ae,ce,ye,"\u2223","\\lvert"),se(ae,ce,ye,"\u2225","\\lVert"),se(ae,ce,pe,"?","?"),se(ae,ce,pe,"!","!"),se(ae,ce,pe,"\u27e9","\\rangle",!0),se(ae,ce,pe,"\u2223","\\rvert"),se(ae,ce,pe,"\u2225","\\rVert"),se(ae,ce,be,"=","="),se(ae,ce,be,":",":"),se(ae,ce,be,"\u2248","\\approx",!0),se(ae,ce,be,"\u2245","\\cong",!0),se(ae,ce,be,"\u2265","\\ge"),se(ae,ce,be,"\u2265","\\geq",!0),se(ae,ce,be,"\u2190","\\gets"),se(ae,ce,be,">","\\gt",!0),se(ae,ce,be,"\u2208","\\in",!0),se(ae,ce,be,"\ue020","\\@not"),se(ae,ce,be,"\u2282","\\subset",!0),se(ae,ce,be,"\u2283","\\supset",!0),se(ae,ce,be,"\u2286","\\subseteq",!0),se(ae,ce,be,"\u2287","\\supseteq",!0),se(ae,ue,be,"\u2288","\\nsubseteq",!0),se(ae,ue,be,"\u2289","\\nsupseteq",!0),se(ae,ce,be,"\u22a8","\\models"),se(ae,ce,be,"\u2190","\\leftarrow",!0),se(ae,ce,be,"\u2264","\\le"),se(ae,ce,be,"\u2264","\\leq",!0),se(ae,ce,be,"<","\\lt",!0),se(ae,ce,be,"\u2192","\\rightarrow",!0),se(ae,ce,be,"\u2192","\\to"),se(ae,ue,be,"\u2271","\\ngeq",!0),se(ae,ue,be,"\u2270","\\nleq",!0),se(ae,ce,xe,"\xa0","\\ "),se(ae,ce,xe,"\xa0","\\space"),se(ae,ce,xe,"\xa0","\\nobreakspace"),se(le,ce,xe,"\xa0","\\ "),se(le,ce,xe,"\xa0"," "),se(le,ce,xe,"\xa0","\\space"),se(le,ce,xe,"\xa0","\\nobreakspace"),se(ae,ce,xe,null,"\\nobreak"),se(ae,ce,xe,null,"\\allowbreak"),se(ae,ce,ve,",",","),se(ae,ce,ve,";",";"),se(ae,ue,de,"\u22bc","\\barwedge",!0),se(ae,ue,de,"\u22bb","\\veebar",!0),se(ae,ce,de,"\u2299","\\odot",!0),se(ae,ce,de,"\u2295","\\oplus",!0),se(ae,ce,de,"\u2297","\\otimes",!0),se(ae,ce,Se,"\u2202","\\partial",!0),se(ae,ce,de,"\u2298","\\oslash",!0),se(ae,ue,de,"\u229a","\\circledcirc",!0),se(ae,ue,de,"\u22a1","\\boxdot",!0),se(ae,ce,de,"\u25b3","\\bigtriangleup"),se(ae,ce,de,"\u25bd","\\bigtriangledown"),se(ae,ce,de,"\u2020","\\dagger"),se(ae,ce,de,"\u22c4","\\diamond"),se(ae,ce,de,"\u22c6","\\star"),se(ae,ce,de,"\u25c3","\\triangleleft"),se(ae,ce,de,"\u25b9","\\triangleright"),se(ae,ce,ye,"{","\\{"),se(le,ce,Se,"{","\\{"),se(le,ce,Se,"{","\\textbraceleft"),se(ae,ce,pe,"}","\\}"),se(le,ce,Se,"}","\\}"),se(le,ce,Se,"}","\\textbraceright"),se(ae,ce,ye,"{","\\lbrace"),se(ae,ce,pe,"}","\\rbrace"),se(ae,ce,ye,"[","\\lbrack",!0),se(le,ce,Se,"[","\\lbrack",!0),se(ae,ce,pe,"]","\\rbrack",!0),se(le,ce,Se,"]","\\rbrack",!0),se(ae,ce,ye,"(","\\lparen",!0),se(ae,ce,pe,")","\\rparen",!0),se(le,ce,Se,"<","\\textless",!0),se(le,ce,Se,">","\\textgreater",!0),se(ae,ce,ye,"\u230a","\\lfloor",!0),se(ae,ce,pe,"\u230b","\\rfloor",!0),se(ae,ce,ye,"\u2308","\\lceil",!0),se(ae,ce,pe,"\u2309","\\rceil",!0),se(ae,ce,Se,"\\","\\backslash"),se(ae,ce,Se,"\u2223","|"),se(ae,ce,Se,"\u2223","\\vert"),se(le,ce,Se,"|","\\textbar",!0),se(ae,ce,Se,"\u2225","\\|"),se(ae,ce,Se,"\u2225","\\Vert"),se(le,ce,Se,"\u2225","\\textbardbl"),se(le,ce,Se,"~","\\textasciitilde"),se(le,ce,Se,"\\","\\textbackslash"),se(le,ce,Se,"^","\\textasciicircum"),se(ae,ce,be,"\u2191","\\uparrow",!0),se(ae,ce,be,"\u21d1","\\Uparrow",!0),se(ae,ce,be,"\u2193","\\downarrow",!0),se(ae,ce,be,"\u21d3","\\Downarrow",!0),se(ae,ce,be,"\u2195","\\updownarrow",!0),se(ae,ce,be,"\u21d5","\\Updownarrow",!0),se(ae,ce,ge,"\u2210","\\coprod"),se(ae,ce,ge,"\u22c1","\\bigvee"),se(ae,ce,ge,"\u22c0","\\bigwedge"),se(ae,ce,ge,"\u2a04","\\biguplus"),se(ae,ce,ge,"\u22c2","\\bigcap"),se(ae,ce,ge,"\u22c3","\\bigcup"),se(ae,ce,ge,"\u222b","\\int"),se(ae,ce,ge,"\u222b","\\intop"),se(ae,ce,ge,"\u222c","\\iint"),se(ae,ce,ge,"\u222d","\\iiint"),se(ae,ce,ge,"\u220f","\\prod"),se(ae,ce,ge,"\u2211","\\sum"),se(ae,ce,ge,"\u2a02","\\bigotimes"),se(ae,ce,ge,"\u2a01","\\bigoplus"),se(ae,ce,ge,"\u2a00","\\bigodot"),se(ae,ce,ge,"\u222e","\\oint"),se(ae,ce,ge,"\u222f","\\oiint"),se(ae,ce,ge,"\u2230","\\oiiint"),se(ae,ce,ge,"\u2a06","\\bigsqcup"),se(ae,ce,ge,"\u222b","\\smallint"),se(le,ce,fe,"\u2026","\\textellipsis"),se(ae,ce,fe,"\u2026","\\mathellipsis"),se(le,ce,fe,"\u2026","\\ldots",!0),se(ae,ce,fe,"\u2026","\\ldots",!0),se(ae,ce,fe,"\u22ef","\\@cdots",!0),se(ae,ce,fe,"\u22f1","\\ddots",!0),se(ae,ce,Se,"\u22ee","\\varvdots"),se(ae,ce,he,"\u02ca","\\acute"),se(ae,ce,he,"\u02cb","\\grave"),se(ae,ce,he,"\xa8","\\ddot"),se(ae,ce,he,"~","\\tilde"),se(ae,ce,he,"\u02c9","\\bar"),se(ae,ce,he,"\u02d8","\\breve"),se(ae,ce,he,"\u02c7","\\check"),se(ae,ce,he,"^","\\hat"),se(ae,ce,he,"\u20d7","\\vec"),se(ae,ce,he,"\u02d9","\\dot"),se(ae,ce,he,"\u02da","\\mathring"),se(ae,ce,me,"\ue131","\\@imath"),se(ae,ce,me,"\ue237","\\@jmath"),se(ae,ce,Se,"\u0131","\u0131"),se(ae,ce,Se,"\u0237","\u0237"),se(le,ce,Se,"\u0131","\\i",!0),se(le,ce,Se,"\u0237","\\j",!0),se(le,ce,Se,"\xdf","\\ss",!0),se(le,ce,Se,"\xe6","\\ae",!0),se(le,ce,Se,"\u0153","\\oe",!0),se(le,ce,Se,"\xf8","\\o",!0),se(le,ce,Se,"\xc6","\\AE",!0),se(le,ce,Se,"\u0152","\\OE",!0),se(le,ce,Se,"\xd8","\\O",!0),se(le,ce,he,"\u02ca","\\'"),se(le,ce,he,"\u02cb","\\`"),se(le,ce,he,"\u02c6","\\^"),se(le,ce,he,"\u02dc","\\~"),se(le,ce,he,"\u02c9","\\="),se(le,ce,he,"\u02d8","\\u"),se(le,ce,he,"\u02d9","\\."),se(le,ce,he,"\xb8","\\c"),se(le,ce,he,"\u02da","\\r"),se(le,ce,he,"\u02c7","\\v"),se(le,ce,he,"\xa8",'\\"'),se(le,ce,he,"\u02dd","\\H"),se(le,ce,he,"\u25ef","\\textcircled");var we={"--":!0,"---":!0,"``":!0,"''":!0};se(le,ce,Se,"\u2013","--",!0),se(le,ce,Se,"\u2013","\\textendash"),se(le,ce,Se,"\u2014","---",!0),se(le,ce,Se,"\u2014","\\textemdash"),se(le,ce,Se,"\u2018","`",!0),se(le,ce,Se,"\u2018","\\textquoteleft"),se(le,ce,Se,"\u2019","'",!0),se(le,ce,Se,"\u2019","\\textquoteright"),se(le,ce,Se,"\u201c","``",!0),se(le,ce,Se,"\u201c","\\textquotedblleft"),se(le,ce,Se,"\u201d","''",!0),se(le,ce,Se,"\u201d","\\textquotedblright"),se(ae,ce,Se,"\xb0","\\degree",!0),se(le,ce,Se,"\xb0","\\degree"),se(le,ce,Se,"\xb0","\\textdegree",!0),se(ae,ce,Se,"\xa3","\\pounds"),se(ae,ce,Se,"\xa3","\\mathsterling",!0),se(le,ce,Se,"\xa3","\\pounds"),se(le,ce,Se,"\xa3","\\textsterling",!0),se(ae,ue,Se,"\u2720","\\maltese"),se(le,ue,Se,"\u2720","\\maltese");for(var Ne=0;Ne<14;Ne++){var Ee='0123456789/@."'.charAt(Ne);se(ae,ce,Se,Ee,Ee)}for(var Te=0;Te<25;Te++){var Ae='0123456789!@*()-=+";:?/.,'.charAt(Te);se(le,ce,Se,Ae,Ae)}for(var Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ke=0;ke<52;ke++){var Me=Ce.charAt(ke);se(ae,ce,me,Me,Me),se(le,ce,Se,Me,Me)}se(ae,ue,Se,"C","\u2102"),se(le,ue,Se,"C","\u2102"),se(ae,ue,Se,"H","\u210d"),se(le,ue,Se,"H","\u210d"),se(ae,ue,Se,"N","\u2115"),se(le,ue,Se,"N","\u2115"),se(ae,ue,Se,"P","\u2119"),se(le,ue,Se,"P","\u2119"),se(ae,ue,Se,"Q","\u211a"),se(le,ue,Se,"Q","\u211a"),se(ae,ue,Se,"R","\u211d"),se(le,ue,Se,"R","\u211d"),se(ae,ue,Se,"Z","\u2124"),se(le,ue,Se,"Z","\u2124"),se(ae,ce,me,"h","\u210e"),se(le,ce,me,"h","\u210e");for(var _e="",Oe=0;Oe<52;Oe++){var Ie=Ce.charAt(Oe);se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56320+Oe)),se(le,ce,Se,Ie,_e),se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56372+Oe)),se(le,ce,Se,Ie,_e),se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56424+Oe)),se(le,ce,Se,Ie,_e),se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56580+Oe)),se(le,ce,Se,Ie,_e),se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56736+Oe)),se(le,ce,Se,Ie,_e),se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56788+Oe)),se(le,ce,Se,Ie,_e),se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56840+Oe)),se(le,ce,Se,Ie,_e),se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56944+Oe)),se(le,ce,Se,Ie,_e),Oe<26&&(se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56632+Oe)),se(le,ce,Se,Ie,_e),se(ae,ce,me,Ie,_e=String.fromCharCode(55349,56476+Oe)),se(le,ce,Se,Ie,_e))}se(ae,ce,me,"k",_e=String.fromCharCode(55349,56668)),se(le,ce,Se,"k",_e);for(var Le=0;Le<10;Le++){var Re=Le.toString();se(ae,ce,me,Re,_e=String.fromCharCode(55349,57294+Le)),se(le,ce,Se,Re,_e),se(ae,ce,me,Re,_e=String.fromCharCode(55349,57314+Le)),se(le,ce,Se,Re,_e),se(ae,ce,me,Re,_e=String.fromCharCode(55349,57324+Le)),se(le,ce,Se,Re,_e),se(ae,ce,me,Re,_e=String.fromCharCode(55349,57334+Le)),se(le,ce,Se,Re,_e)}for(var De=0;De<3;De++){var Fe="\xd0\xde\xfe".charAt(De);se(ae,ce,me,Fe,Fe),se(le,ce,Se,Fe,Fe)}var Pe=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],qe=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Be=function(e,t,n){return oe[n][e]&&oe[n][e].replace&&(e=oe[n][e].replace),{value:e,metrics:L(e,t,n)}},je=function(e,t,n,r,i){var o,s=Be(e,t,n),a=s.metrics;if(e=s.value,a){var l=a.italic;("text"===n||r&&"mathit"===r.font)&&(l=0),o=new Z(e,a.height,a.depth,l,a.skew,a.width,i)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+n+"'"),o=new Z(e,0,0,0,0,0,i);if(r){o.maxFontSize=r.sizeMultiplier,r.style.isTight()&&o.classes.push("mtight");var c=r.getColor();c&&(o.style.color=c)}return o},ze=(e,t)=>{if($(e.classes)!==$(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var n=e.classes[0];if("mbin"===n||"mord"===n)return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},He=function(e){for(var t=0,n=0,r=0,i=0;i<e.children.length;i++){var o=e.children[i];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},Ue=function(e,t,n,r){var i=new Q(e,t,n,r);return He(i),i},$e=(e,t,n,r)=>new Q(e,t,n,r),Ge=function(e){var t=new M(e);return He(t),t},Ve=function(e,t,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}return r+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},We={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Qe={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Xe={fontMap:We,makeSymbol:je,mathsym:function(e,t,n,r){return void 0===r&&(r=[]),"boldsymbol"===n.font&&Be(e,"Main-Bold",t).metrics?je(e,"Main-Bold",t,n,r.concat(["mathbf"])):"\\"===e||"main"===oe[t][e].font?je(e,"Main-Regular",t,n,r):je(e,"AMS-Regular",t,n,r.concat(["amsrm"]))},makeSpan:Ue,makeSvgSpan:$e,makeLineSpan:function(e,t,n){var r=Ue([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=U(r.height),r.maxFontSize=1,r},makeAnchor:function(e,t,n,r){var i=new X(e,t,n,r);return He(i),i},makeFragment:Ge,wrapFragment:function(e,t){return e instanceof M?Ue([],[e],t):e},makeVList:function(e,t){for(var{children:n,depth:r}=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,i=r,o=1;o<t.length;o++){var s=-t[o].shift-i-t[o].elem.depth;i+=s,n.push({type:"kern",size:s-(t[o-1].elem.height+t[o-1].elem.depth)}),n.push(t[o])}return{children:n,depth:r}}var a;if("top"===e.positionType){for(var l=e.positionData,c=0;c<e.children.length;c++){var u=e.children[c];l-="kern"===u.type?u.size:u.elem.height+u.elem.depth}a=l}else if("bottom"===e.positionType)a=-e.positionData;else{var h=e.children[0];if("elem"!==h.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)a=-h.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");a=-h.elem.depth}}return{children:e.children,depth:a}}(e),i=0,o=0;o<n.length;o++){var s=n[o];if("elem"===s.type){var a=s.elem;i=Math.max(i,a.maxFontSize,a.height)}}i+=2;var l=Ue(["pstrut"],[]);l.style.height=U(i);for(var c=[],u=r,h=r,d=r,p=0;p<n.length;p++){var f=n[p];if("kern"===f.type)d+=f.size;else{var m=f.elem,g=Ue(f.wrapperClasses||[],[l,m],void 0,f.wrapperStyle||{});g.style.top=U(-i-d-m.depth),f.marginLeft&&(g.style.marginLeft=f.marginLeft),f.marginRight&&(g.style.marginRight=f.marginRight),c.push(g),d+=m.height+m.depth}u=Math.min(u,d),h=Math.max(h,d)}var y,v=Ue(["vlist"],c);if(v.style.height=U(h),u<0){var b=Ue([],[]),x=Ue(["vlist"],[b]);x.style.height=U(-u);var S=Ue(["vlist-s"],[new Z("\u200b")]);y=[Ue(["vlist-r"],[v,S]),Ue(["vlist-r"],[x])]}else y=[Ue(["vlist-r"],[v])];var w=Ue(["vlist-t"],y);return 2===y.length&&w.classes.push("vlist-t2"),w.height=h,w.depth=-u,w},makeOrd:function(e,t,r){var i=e.mode,o=e.text,s=["mord"],a="math"===i||"text"===i&&t.font,l=a?t.font:t.fontFamily;if(55349===o.charCodeAt(0)){var[c,u]=function(e,t){var r=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,i="math"===t?0:1;if(119808<=r&&r<120484){var o=Math.floor((r-119808)/26);return[Pe[o][2],Pe[o][i]]}if(120782<=r&&r<=120831){var s=Math.floor((r-120782)/10);return[qe[s][2],qe[s][i]]}if(120485===r||120486===r)return[Pe[0][2],Pe[0][i]];if(120486<r&&r<120782)return["",""];throw new n("Unsupported character: "+e)}(o,i);return je(o,c,i,t,s.concat(u))}if(l){var h,d;if("boldsymbol"===l){var p=function(e,t,n,r,i){return"textord"!==i&&Be(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(o,i,0,0,r);h=p.fontName,d=[p.fontClass]}else a?(h=We[l].fontName,d=[l]):(h=Ve(l,t.fontWeight,t.fontShape),d=[l,t.fontWeight,t.fontShape]);if(Be(o,h,i).metrics)return je(o,h,i,t,s.concat(d));if(we.hasOwnProperty(o)&&"Typewriter"===h.slice(0,10)){for(var f=[],m=0;m<o.length;m++)f.push(je(o[m],h,i,t,s.concat(d)));return Ge(f)}}if("mathord"===r)return je(o,"Math-Italic",i,t,s.concat(["mathnormal"]));if("textord"===r){var g=oe[i][o]&&oe[i][o].font;if("ams"===g){var y=Ve("amsrm",t.fontWeight,t.fontShape);return je(o,y,i,t,s.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==g&&g){var v=Ve(g,t.fontWeight,t.fontShape);return je(o,v,i,t,s.concat(v,t.fontWeight,t.fontShape))}var b=Ve("textrm",t.fontWeight,t.fontShape);return je(o,b,i,t,s.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+r+" in makeOrd")},makeGlue:(e,t)=>{var n=Ue(["mspace"],[],t),r=H(e,t);return n.style.marginRight=U(r),n},staticSvg:function(e,t){var[n,r,i]=Qe[e],o=new ee(n),s=new J([o],{width:U(r),height:U(i),style:"width:"+U(r),viewBox:"0 0 "+1e3*r+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),a=$e(["overlay"],[s],t);return a.height=i,a.style.height=U(i),a.style.width=U(r),a},svgData:Qe,tryCombineChars:e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Z&&r instanceof Z&&ze(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e}},Ye={number:3,unit:"mu"},Ke={number:4,unit:"mu"},Ze={number:5,unit:"mu"},Je={mord:{mop:Ye,mbin:Ke,mrel:Ze,minner:Ye},mop:{mord:Ye,mop:Ye,mrel:Ze,minner:Ye},mbin:{mord:Ke,mop:Ke,mopen:Ke,minner:Ke},mrel:{mord:Ze,mop:Ze,mopen:Ze,minner:Ze},mopen:{},mclose:{mop:Ye,mbin:Ke,mrel:Ze,minner:Ye},mpunct:{mord:Ye,mop:Ye,mrel:Ze,mopen:Ye,mclose:Ye,mpunct:Ye,minner:Ye},minner:{mord:Ye,mop:Ye,mbin:Ke,mrel:Ze,mopen:Ye,mpunct:Ye,minner:Ye}},et={mord:{mop:Ye},mop:{mord:Ye,mop:Ye},mbin:{},mrel:{},mopen:{},mclose:{mop:Ye},mpunct:{},minner:{mop:Ye}},tt={},nt={},rt={};function it(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:s}=e,a={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:void 0===r.allowedInMath||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)tt[n[l]]=a;t&&(o&&(nt[t]=o),s&&(rt[t]=s))}function ot(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;it({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var st=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},at=function(e){return"ordgroup"===e.type?e.body:[e]},lt=Xe.makeSpan,ct=["leftmost","mbin","mopen","mrel","mop","mpunct"],ut=["rightmost","mrel","mclose","mpunct"],ht={display:E.DISPLAY,text:E.TEXT,script:E.SCRIPT,scriptscript:E.SCRIPTSCRIPT},dt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},pt=function(e,t,n,r){void 0===r&&(r=[null,null]);for(var i=[],o=0;o<e.length;o++){var s=bt(e[o],t);s instanceof M?i.push(...s.children):i.push(s)}if(Xe.tryCombineChars(i),!n)return i;var l=t;if(1===e.length){var c=e[0];"sizing"===c.type?l=t.havingSize(c.size):"styling"===c.type&&(l=t.havingStyle(ht[c.style]))}var u=lt([r[0]||"leftmost"],[],t),h=lt([r[1]||"rightmost"],[],t),d="root"===n;return ft(i,(e,t)=>{var n=t.classes[0],r=e.classes[0];"mbin"===n&&a(ut,r)?t.classes[0]="mord":"mbin"===r&&a(ct,n)&&(e.classes[0]="mord")},{node:u},h,d),ft(i,(e,t)=>{var n=yt(t),r=yt(e),i=n&&r?e.hasClass("mtight")?et[n][r]:Je[n][r]:null;if(i)return Xe.makeGlue(i,l)},{node:u},h,d),i},ft=function e(t,n,r,i,o){i&&t.push(i);for(var s=0;s<t.length;s++){var a=t[s],l=mt(a);if(l)e(l.children,n,r,null,o);else{var c=!a.hasClass("mspace");if(c){var u=n(a,r.node);u&&(r.insertAfter?r.insertAfter(u):(t.unshift(u),s++))}c?r.node=a:o&&a.hasClass("newline")&&(r.node=lt(["leftmost"])),r.insertAfter=(e=>n=>{t.splice(e+1,0,n),s++})(s)}}i&&t.pop()},mt=function(e){return e instanceof M||e instanceof X||e instanceof Q&&e.hasClass("enclosing")?e:null},gt=function e(t,n){var r=mt(t);if(r){var i=r.children;if(i.length){if("right"===n)return e(i[i.length-1],"right");if("left"===n)return e(i[0],"left")}}return t},yt=function(e,t){return e?(t&&(e=gt(e,t)),dt[e.classes[0]]||null):null},vt=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return lt(t.concat(n))},bt=function(e,t,r){if(!e)return lt();if(nt[e.type]){var i=nt[e.type](e,t);if(r&&t.size!==r.size){i=lt(t.sizingClasses(r),[i],t);var o=t.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}throw new n("Got group of unknown type: '"+e.type+"'")};function xt(e,t){var n=lt(["base"],e,t),r=lt(["strut"]);return r.style.height=U(n.height+n.depth),n.depth&&(r.style.verticalAlign=U(-n.depth)),n.children.unshift(r),n}function St(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);var r,i=pt(e,t,"root");2===i.length&&i[1].hasClass("tag")&&(r=i.pop());for(var o,s=[],a=[],l=0;l<i.length;l++)if(a.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var c=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,a.push(i[l]),i[l].hasClass("nobreak")&&(c=!0);c||(s.push(xt(a,t)),a=[])}else i[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(xt(a,t)),a=[]),s.push(i[l]));a.length>0&&s.push(xt(a,t)),n?((o=xt(pt(n,t,!0))).classes=["tag"],s.push(o)):r&&s.push(r);var u=lt(["katex-html"],s);if(u.setAttribute("aria-hidden","true"),o){var h=o.children[0];h.style.height=U(u.height+u.depth),u.depth&&(h.style.verticalAlign=U(-u.depth))}return u}function wt(e){return new M(e)}class Nt{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=$(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=c(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+c($(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</"+this.type+">"}toText(){return this.children.map(e=>e.toText()).join("")}}class Et{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return c(this.toText())}toText(){return this.text}}var Tt={MathNode:Nt,TextNode:Et,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?"\u200a":e>=.1666&&e<=.1667?"\u2009":e>=.2222&&e<=.2223?"\u2005":e>=.2777&&e<=.2778?"\u2005\u200a":e>=-.05556&&e<=-.05555?"\u200a\u2063":e>=-.1667&&e<=-.1666?"\u2009\u2063":e>=-.2223&&e<=-.2222?"\u205f\u2063":e>=-.2778&&e<=-.2777?"\u2005\u2063":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",U(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+U(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:wt},At=function(e,t,n){return!oe[t][e]||!oe[t][e].replace||55349===e.charCodeAt(0)||we.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(e=oe[t][e].replace),new Tt.TextNode(e)},Ct=function(e){return 1===e.length?e[0]:new Tt.MathNode("mrow",e)},kt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var r=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var i=e.text;return a(["\\imath","\\jmath"],i)?null:(oe[r][i]&&oe[r][i].replace&&(i=oe[r][i].replace),L(i,Xe.fontMap[n].fontName,r)?Xe.fontMap[n].variant:null)},Mt=function(e,t,n){if(1===e.length){var r=Ot(e[0],t);return n&&r instanceof Nt&&"mo"===r.type&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var i,o=[],s=0;s<e.length;s++){var a=Ot(e[s],t);if(a instanceof Nt&&i instanceof Nt){if("mtext"===a.type&&"mtext"===i.type&&a.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...a.children);continue}if("mn"===a.type&&"mn"===i.type){i.children.push(...a.children);continue}if("mi"===a.type&&1===a.children.length&&"mn"===i.type){var l=a.children[0];if(l instanceof Et&&"."===l.text){i.children.push(...a.children);continue}}else if("mi"===i.type&&1===i.children.length){var c=i.children[0];if(c instanceof Et&&"\u0338"===c.text&&("mo"===a.type||"mi"===a.type||"mn"===a.type)){var u=a.children[0];u instanceof Et&&u.text.length>0&&(u.text=u.text.slice(0,1)+"\u0338"+u.text.slice(1),o.pop())}}}o.push(a),i=a}return o},_t=function(e,t,n){return Ct(Mt(e,t,n))},Ot=function(e,t){if(!e)return new Tt.MathNode("mrow");if(rt[e.type])return rt[e.type](e,t);throw new n("Got group of unknown type: '"+e.type+"'")};function It(e,t,n,r,i){var o,s=Mt(e,n);o=1===s.length&&s[0]instanceof Nt&&a(["mrow","mtable"],s[0].type)?s[0]:new Tt.MathNode("mrow",s);var l=new Tt.MathNode("annotation",[new Tt.TextNode(t)]);l.setAttribute("encoding","application/x-tex");var c=new Tt.MathNode("semantics",[o,l]),u=new Tt.MathNode("math",[c]);return u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block"),Xe.makeSpan([i?"katex":"katex-mathml"],[u])}var Lt={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23df",overbrace:"\u23de",overgroup:"\u23e0",undergroup:"\u23e1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Rt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Dt=function(e){var t=new Tt.MathNode("mo",[new Tt.TextNode(Lt[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Ft=function(e,t){var{span:n,minWidth:r,height:i}=function(){var n=4e5,r=e.label.slice(1);if(a(["widehat","widecheck","widetilde","utilde"],r)){var i,o,s,l=function(e){return"ordgroup"===e.type?e.body.length:1}(e.base);if(l>5)"widehat"===r||"widecheck"===r?(i=420,n=2364,s=.42,o=r+"4"):(i=312,n=2340,s=.34,o="tilde4");else{var c=[1,1,2,2,3,3][l];"widehat"===r||"widecheck"===r?(n=[0,1062,2364,2364,2364][c],i=[0,239,300,360,420][c],s=[0,.24,.3,.3,.36,.42][c],o=r+c):(n=[0,600,1033,2339,2340][c],i=[0,260,286,306,312][c],s=[0,.26,.286,.3,.306,.34][c],o="tilde"+c)}var u=new ee(o),h=new J([u],{width:"100%",height:U(s),viewBox:"0 0 "+n+" "+i,preserveAspectRatio:"none"});return{span:Xe.makeSvgSpan([],[h],t),minWidth:0,height:s}}var d,p,f=[],m=Rt[r],[g,y,v]=m,b=v/1e3,x=g.length;if(1===x)d=["hide-tail"],p=[m[3]];else if(2===x)d=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==x)throw new Error("Correct katexImagesData or update code here to support\n                    "+x+" children.");d=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var S=0;S<x;S++){var w=new ee(g[S]),N=new J([w],{width:"400em",height:U(b),viewBox:"0 0 "+n+" "+v,preserveAspectRatio:p[S]+" slice"}),E=Xe.makeSvgSpan([d[S]],[N],t);if(1===x)return{span:E,minWidth:y,height:b};E.style.height=U(b),f.push(E)}return{span:Xe.makeSpan(["stretchy"],f,t),minWidth:y,height:b}}();return n.height=i,n.style.height=U(i),r>0&&(n.style.minWidth=U(r)),n};function Pt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function qt(e){var t=Bt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Bt(e){return e&&("atom"===e.type||ie.hasOwnProperty(e.type))?e:null}var jt=(e,t)=>{var n,r,i;e&&"supsub"===e.type?(n=(r=Pt(e.base,"accent")).base,e.base=n,i=function(e){if(e instanceof Q)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(bt(e,t)),e.base=r):n=(r=Pt(e,"accent")).base;var o=bt(n,t.havingCrampedStyle()),s=0;if(r.isShifty&&d(n)){var a=h(n);s=ne(bt(a,t.havingCrampedStyle())).skew}var l,c="\\c"===r.label,u=c?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight);if(r.isStretchy)l=Ft(r,t),l=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+U(2*s)+")",marginLeft:U(2*s)}:void 0}]},t);else{var p,f;"\\vec"===r.label?(p=Xe.staticSvg("vec",t),f=Xe.svgData.vec[1]):((p=ne(p=Xe.makeOrd({mode:r.mode,text:r.label},t,"textord"))).italic=0,f=p.width,c&&(u+=p.depth)),l=Xe.makeSpan(["accent-body"],[p]);var m="\\textcircled"===r.label;m&&(l.classes.push("accent-full"),u=o.height);var g=s;m||(g-=f/2),l.style.left=U(g),"\\textcircled"===r.label&&(l.style.top=".2em"),l=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-u},{type:"elem",elem:l}]},t)}var y=Xe.makeSpan(["mord","accent"],[l],t);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},zt=(e,t)=>{var n=e.isStretchy?Dt(e.label):new Tt.MathNode("mo",[At(e.label,e.mode)]),r=new Tt.MathNode("mover",[Ot(e.base,t),n]);return r.setAttribute("accent","true"),r},Ht=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));it({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=st(t[0]),r=!Ht.test(e.funcName);return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:!r||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName,base:n}},htmlBuilder:jt,mathmlBuilder:zt}),it({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return"math"===r&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:jt,mathmlBuilder:zt}),it({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e;return{type:"accentUnder",mode:n.mode,label:r,base:t[0]}},htmlBuilder:(e,t)=>{var n=bt(e.base,t),r=Ft(e,t),i=Xe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:"\\utilde"===e.label?.12:0},{type:"elem",elem:n}]},t);return Xe.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:(e,t)=>{var n=Dt(e.label),r=new Tt.MathNode("munder",[Ot(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Ut=e=>{var t=new Tt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};it({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n,r=t.style,i=t.havingStyle(r.sup()),o=Xe.wrapFragment(bt(e.body,i,t),t),s="\\x"===e.label.slice(0,2)?"x":"cd";o.classes.push(s+"-arrow-pad"),e.below&&(i=t.havingStyle(r.sub()),(n=Xe.wrapFragment(bt(e.below,i,t),t)).classes.push(s+"-arrow-pad"));var a,l=Ft(e,t),c=-t.fontMetrics().axisHeight+.5*l.height,u=-t.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||"\\xleftequilibrium"===e.label)&&(u-=o.depth),n){var h=-t.fontMetrics().axisHeight+n.height+.5*l.height+.111;a=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c},{type:"elem",elem:n,shift:h}]},t)}else a=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c}]},t);return a.children[0].children[0].children[1].classes.push("svg-align"),Xe.makeSpan(["mrel","x-arrow"],[a],t)},mathmlBuilder(e,t){var n,r=Dt(e.label);if(r.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var i=Ut(Ot(e.body,t));if(e.below){var o=Ut(Ot(e.below,t));n=new Tt.MathNode("munderover",[r,o,i])}else n=new Tt.MathNode("mover",[r,i])}else if(e.below){var s=Ut(Ot(e.below,t));n=new Tt.MathNode("munder",[r,s])}else n=Ut(),n=new Tt.MathNode("mover",[r,n]);return n}});var $t=Xe.makeSpan;function Gt(e,t){var n=pt(e.body,t,!0);return $t([e.mclass],n,t)}function Vt(e,t){var n,r=Mt(e.body,t);return"minner"===e.mclass?n=new Tt.MathNode("mpadded",r):"mord"===e.mclass?e.isCharacterBox?(n=r[0]).type="mi":n=new Tt.MathNode("mi",r):(e.isCharacterBox?(n=r[0]).type="mo":n=new Tt.MathNode("mo",r),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===e.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}it({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:at(i),isCharacterBox:d(i)}},htmlBuilder:Gt,mathmlBuilder:Vt});var Wt=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};it({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Wt(t[0]),body:at(t[1]),isCharacterBox:d(t[1])}}}),it({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var n,{parser:r,funcName:i}=e,o=t[1],s=t[0];n="\\stackrel"!==i?Wt(o):"mrel";var a={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:at(o)},l={type:"supsub",mode:s.mode,base:a,sup:"\\underset"===i?null:s,sub:"\\underset"===i?s:null};return{type:"mclass",mode:r.mode,mclass:n,body:[l],isCharacterBox:d(l)}},htmlBuilder:Gt,mathmlBuilder:Vt}),it({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Wt(t[0]),body:at(t[0])}},htmlBuilder(e,t){var n=pt(e.body,t,!0),r=Xe.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=Mt(e.body,t),r=new Tt.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Qt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Xt=e=>"textord"===e.type&&"@"===e.text;function Yt(e,t,n){var r=Qt[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:r,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[t[0]],[]),n.callFunction("\\Big",[i],[]),n.callFunction("\\\\cdright",[t[1]],[])]};return n.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}it({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=Xe.wrapFragment(bt(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=U(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new Tt.MathNode("mrow",[Ot(e.label,t)]);return(n=new Tt.MathNode("mpadded",[n])).setAttribute("width","0"),"left"===e.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new Tt.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),it({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=Xe.wrapFragment(bt(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:(e,t)=>new Tt.MathNode("mrow",[Ot(e.fragment,t)])}),it({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,i=Pt(t[0],"ordgroup").body,o="",s=0;s<i.length;s++)o+=Pt(i[s],"textord").text;var a,l=parseInt(o);if(isNaN(l))throw new n("\\@char has non-numeric argument "+o);if(l<0||l>=1114111)throw new n("\\@char with invalid code point "+o);return l<=65535?a=String.fromCharCode(l):(l-=65536,a=String.fromCharCode(55296+(l>>10),56320+(1023&l))),{type:"textord",mode:r.mode,text:a}}});var Kt=(e,t)=>{var n=pt(e.body,t.withColor(e.color),!1);return Xe.makeFragment(n)},Zt=(e,t)=>{var n=Mt(e.body,t.withColor(e.color)),r=new Tt.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};it({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Pt(t[0],"color-token").color;return{type:"color",mode:n.mode,color:r,body:at(t[1])}},htmlBuilder:Kt,mathmlBuilder:Zt}),it({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=Pt(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:Kt,mathmlBuilder:Zt}),it({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i="["===r.gullet.future().text?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&Pt(i,"size").value}},htmlBuilder(e,t){var n=Xe.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=U(H(e.size,t)))),n},mathmlBuilder(e,t){var n=new Tt.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",U(H(e.size,t)))),n}});var Jt={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},en=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new n("Expected a control sequence",e);return t},tn=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);null==i&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};it({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var i=t.fetch();if(Jt[i.text])return"\\global"!==r&&"\\\\globallong"!==r||(i.text=Jt[i.text]),Pt(t.parseFunction(),"internal");throw new n("Invalid token after macro prefix",i)}}),it({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,i=t.gullet.popToken(),o=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new n("Expected a control sequence",i);for(var s,a=0,l=[[]];"{"!==t.gullet.future().text;)if("#"===(i=t.gullet.popToken()).text){if("{"===t.gullet.future().text){s=t.gullet.future(),l[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new n('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new n('Argument number "'+i.text+'" out of order');a++,l.push([])}else{if("EOF"===i.text)throw new n("Expected a macro definition");l[a].push(i.text)}var{tokens:c}=t.gullet.consumeArg();return s&&c.unshift(s),"\\edef"!==r&&"\\xdef"!==r||(c=t.gullet.expandTokens(c)).reverse(),t.gullet.macros.set(o,{tokens:c,numArgs:a,delimiters:l},r===Jt[r]),{type:"internal",mode:t.mode}}}),it({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=en(t.gullet.popToken());t.gullet.consumeSpaces();var i=(e=>{var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t})(t);return tn(t,r,i,"\\\\globallet"===n),{type:"internal",mode:t.mode}}}),it({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=en(t.gullet.popToken()),i=t.gullet.popToken(),o=t.gullet.popToken();return tn(t,r,o,"\\\\globalfuture"===n),t.gullet.pushToken(o),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var nn=function(e,t,n){var r=L(oe.math[e]&&oe.math[e].replace||e,t,n);if(!r)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return r},rn=function(e,t,n,r){var i=n.havingBaseStyle(t),o=Xe.makeSpan(r.concat(i.sizingClasses(n)),[e],n),s=i.sizeMultiplier/n.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=i.sizeMultiplier,o},on=function(e,t,n){var r=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=U(i),e.height-=i,e.depth+=i},sn=function(e,t,n,r,i,o){var s=function(e,t,n,r){return Xe.makeSymbol(e,"Size"+t+"-Regular",n,r)}(e,t,i,r),a=rn(Xe.makeSpan(["delimsizing","size"+t],[s],r),E.TEXT,r,o);return n&&on(a,r,E.TEXT),a},an=function(e,t,n){return{type:"elem",elem:Xe.makeSpan(["delimsizinginner","Size1-Regular"===t?"delim-size1":"delim-size4"],[Xe.makeSpan([],[Xe.makeSymbol(e,t,n)])])}},ln=function(e,t,n){var r=_["Size4-Regular"][e.charCodeAt(0)]?_["Size4-Regular"][e.charCodeAt(0)][4]:_["Size1-Regular"][e.charCodeAt(0)][4],i=new ee("inner",function(e,t){switch(e){case"\u239c":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"\u239f":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23a2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23a5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23aa":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23d0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),o=new J([i],{width:U(r),height:U(t),style:"width:"+U(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=Xe.makeSvgSpan([],[o],n);return s.height=t,s.style.height=U(t),s.style.width=U(r),{type:"elem",elem:s}},cn={type:"kern",size:-.008},un=["|","\\lvert","\\rvert","\\vert"],hn=["\\|","\\lVert","\\rVert","\\Vert"],dn=function(e,t,n,r,i,o){var s,l,c,u,h="",d=0;s=c=u=e,l=null;var p="Size1-Regular";"\\uparrow"===e?c=u="\u23d0":"\\Uparrow"===e?c=u="\u2016":"\\downarrow"===e?s=c="\u23d0":"\\Downarrow"===e?s=c="\u2016":"\\updownarrow"===e?(s="\\uparrow",c="\u23d0",u="\\downarrow"):"\\Updownarrow"===e?(s="\\Uparrow",c="\u2016",u="\\Downarrow"):a(un,e)?(c="\u2223",h="vert",d=333):a(hn,e)?(c="\u2225",h="doublevert",d=556):"["===e||"\\lbrack"===e?(s="\u23a1",c="\u23a2",u="\u23a3",p="Size4-Regular",h="lbrack",d=667):"]"===e||"\\rbrack"===e?(s="\u23a4",c="\u23a5",u="\u23a6",p="Size4-Regular",h="rbrack",d=667):"\\lfloor"===e||"\u230a"===e?(c=s="\u23a2",u="\u23a3",p="Size4-Regular",h="lfloor",d=667):"\\lceil"===e||"\u2308"===e?(s="\u23a1",c=u="\u23a2",p="Size4-Regular",h="lceil",d=667):"\\rfloor"===e||"\u230b"===e?(c=s="\u23a5",u="\u23a6",p="Size4-Regular",h="rfloor",d=667):"\\rceil"===e||"\u2309"===e?(s="\u23a4",c=u="\u23a5",p="Size4-Regular",h="rceil",d=667):"("===e||"\\lparen"===e?(s="\u239b",c="\u239c",u="\u239d",p="Size4-Regular",h="lparen",d=875):")"===e||"\\rparen"===e?(s="\u239e",c="\u239f",u="\u23a0",p="Size4-Regular",h="rparen",d=875):"\\{"===e||"\\lbrace"===e?(s="\u23a7",l="\u23a8",u="\u23a9",c="\u23aa",p="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(s="\u23ab",l="\u23ac",u="\u23ad",c="\u23aa",p="Size4-Regular"):"\\lgroup"===e||"\u27ee"===e?(s="\u23a7",u="\u23a9",c="\u23aa",p="Size4-Regular"):"\\rgroup"===e||"\u27ef"===e?(s="\u23ab",u="\u23ad",c="\u23aa",p="Size4-Regular"):"\\lmoustache"===e||"\u23b0"===e?(s="\u23a7",u="\u23ad",c="\u23aa",p="Size4-Regular"):"\\rmoustache"!==e&&"\u23b1"!==e||(s="\u23ab",u="\u23a9",c="\u23aa",p="Size4-Regular");var f=nn(s,p,i),m=f.height+f.depth,g=nn(c,p,i),y=g.height+g.depth,v=nn(u,p,i),b=v.height+v.depth,x=0,S=1;if(null!==l){var w=nn(l,p,i);x=w.height+w.depth,S=2}var N=m+b+x,T=N+Math.max(0,Math.ceil((t-N)/(S*y)))*S*y,A=r.fontMetrics().axisHeight;n&&(A*=r.sizeMultiplier);var C=T/2-A,k=[];if(h.length>0){var M=T-m-b,_=Math.round(1e3*T),O=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(h,Math.round(1e3*M)),I=new ee(h,O),L=(d/1e3).toFixed(3)+"em",R=(_/1e3).toFixed(3)+"em",D=new J([I],{width:L,height:R,viewBox:"0 0 "+d+" "+_}),F=Xe.makeSvgSpan([],[D],r);F.height=_/1e3,F.style.width=L,F.style.height=R,k.push({type:"elem",elem:F})}else{if(k.push(an(u,p,i)),k.push(cn),null===l)k.push(ln(c,T-m-b+.016,r));else{var P=(T-m-b-x)/2+.016;k.push(ln(c,P,r)),k.push(cn),k.push(an(l,p,i)),k.push(cn),k.push(ln(c,P,r))}k.push(cn),k.push(an(s,p,i))}var q=r.havingBaseStyle(E.TEXT),B=Xe.makeVList({positionType:"bottom",positionData:C,children:k},q);return rn(Xe.makeSpan(["delimsizing","mult"],[B],q),E.TEXT,r,o)},pn=.08,fn=function(e,t,n,r,i){var o=function(e,t,n){t*=1e3;var r="";switch(e){case"sqrtMain":r=function(e,t){return"M95,"+(622+e+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize1":r=function(e,t){return"M263,"+(601+e+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize2":r=function(e,t){return"M983 "+(10+e+80)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize3":r=function(e,t){return"M424,"+(2398+e+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" 80\nh400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize4":r=function(e,t){return"M473,"+(2713+e+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" 80h400000v"+(40+e)+"H1017.7z"}(t);break;case"sqrtTall":r=function(e,t,n){return"M702 "+(e+80)+"H400000"+(40+e)+"\nH742v"+(n-54-80-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+e)+"H742z"}(t,0,n)}return r}(e,r,n),s=new ee(e,o),a=new J([s],{width:"400em",height:U(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Xe.makeSvgSpan(["hide-tail"],[a],i)},mn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","\\surd"],gn=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1"],yn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],vn=[0,1.2,1.8,2.4,3],bn=[{type:"small",style:E.SCRIPTSCRIPT},{type:"small",style:E.SCRIPT},{type:"small",style:E.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],xn=[{type:"small",style:E.SCRIPTSCRIPT},{type:"small",style:E.SCRIPT},{type:"small",style:E.TEXT},{type:"stack"}],Sn=[{type:"small",style:E.SCRIPTSCRIPT},{type:"small",style:E.SCRIPT},{type:"small",style:E.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],wn=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Nn=function(e,t,n,r){for(var i=Math.min(2,3-r.style.size);i<n.length&&"stack"!==n[i].type;i++){var o=nn(e,wn(n[i]),"math"),s=o.height+o.depth;if("small"===n[i].type&&(s*=r.havingBaseStyle(n[i].style).sizeMultiplier),s>t)return n[i]}return n[n.length-1]},En=function(e,t,n,r,i,o){var s;"<"===e||"\\lt"===e||"\u27e8"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"\u27e9"!==e||(e="\\rangle"),s=a(yn,e)?bn:a(mn,e)?Sn:xn;var l=Nn(e,t,s,r);return"small"===l.type?function(e,t,n,r,i,o){var s=Xe.makeSymbol(e,"Main-Regular",i,r),a=rn(s,t,r,o);return n&&on(a,r,t),a}(e,l.style,n,r,i,o):"large"===l.type?sn(e,l.size,n,r,i,o):dn(e,t,n,r,i,o)},Tn={sqrtImage:function(e,t){var n,r,i=t.havingBaseSizing(),o=Nn("\\surd",e*i.sizeMultiplier,Sn,i),s=i.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,c=0,u=0;return"small"===o.type?(e<1?s=1:e<1.4&&(s=.7),c=(1+a)/s,(n=fn("sqrtMain",l=(1+a+pn)/s,u=1e3+1e3*a+80,a,t)).style.minWidth="0.853em",r=.833/s):"large"===o.type?(c=(vn[o.size]+a)/s,(n=fn("sqrtSize"+o.size,l=(vn[o.size]+a+pn)/s,u=1080*vn[o.size],a,t)).style.minWidth="1.02em",r=1/s):(l=e+a+pn,c=e+a,u=Math.floor(1e3*e+a)+80,(n=fn("sqrtTall",l,u,a,t)).style.minWidth="0.742em",r=1.056),n.height=c,n.style.height=U(l),{span:n,advanceWidth:r,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*s}},sizedDelim:function(e,t,r,i,o){if("<"===e||"\\lt"===e||"\u27e8"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"\u27e9"!==e||(e="\\rangle"),a(mn,e)||a(yn,e))return sn(e,t,!1,r,i,o);if(a(gn,e))return dn(e,vn[t],!1,r,i,o);throw new n("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:vn,customSizedDelim:En,leftRightDelim:function(e,t,n,r,i,o){var s=r.fontMetrics().axisHeight*r.sizeMultiplier,a=5/r.fontMetrics().ptPerEm,l=Math.max(t-s,n+s),c=Math.max(l/500*901,2*l-a);return En(e,c,!0,r,i,o)}},An={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Cn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27e8","\\rangle","\u27e9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function kn(e,t){var r=Bt(e);if(r&&a(Cn,r.text))return r;throw new n(r?"Invalid delimiter '"+r.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Mn(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}it({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=kn(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:An[e.funcName].size,mclass:An[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>"."===e.delim?Xe.makeSpan([e.mclass]):Tn.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(At(e.delim,e.mode));var n=new Tt.MathNode("mo",t);n.setAttribute("fence","mopen"===e.mclass||"mclose"===e.mclass?"true":"false"),n.setAttribute("stretchy","true");var r=U(Tn.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}}),it({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&"string"!=typeof r)throw new n("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:kn(t[0],e).text,color:r}}}),it({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=kn(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=Pt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{Mn(e);for(var n,r,i=pt(e.body,t,!0,["mopen","mclose"]),o=0,s=0,a=!1,l=0;l<i.length;l++)i[l].isMiddle?a=!0:(o=Math.max(i[l].height,o),s=Math.max(i[l].depth,s));if(o*=t.sizeMultiplier,s*=t.sizeMultiplier,n="."===e.left?vt(t,["mopen"]):Tn.leftRightDelim(e.left,o,s,t,e.mode,["mopen"]),i.unshift(n),a)for(var c=1;c<i.length;c++){var u=i[c].isMiddle;u&&(i[c]=Tn.leftRightDelim(u.delim,o,s,u.options,e.mode,[]))}if("."===e.right)r=vt(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;r=Tn.leftRightDelim(e.right,o,s,h,e.mode,["mclose"])}return i.push(r),Xe.makeSpan(["minner"],i,t)},mathmlBuilder:(e,t)=>{Mn(e);var n=Mt(e.body,t);if("."!==e.left){var r=new Tt.MathNode("mo",[At(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==e.right){var i=new Tt.MathNode("mo",[At(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return Ct(n)}}),it({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=kn(t[0],e);if(!e.parser.leftrightDepth)throw new n("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var n;return"."===e.delim?n=vt(t,[]):(n=Tn.sizedDelim(e.delim,1,t,e.mode,[])).isMiddle={delim:e.delim,options:t},n},mathmlBuilder:(e,t)=>{var n="\\vert"===e.delim||"|"===e.delim?At("|","text"):At(e.delim,e.mode),r=new Tt.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var _n=(e,t)=>{var n,r,i=Xe.wrapFragment(bt(e.body,t),t),o=e.label.slice(1),s=t.sizeMultiplier,a=0,l=d(e.body);if("sout"===o)(n=Xe.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/s,a=-.5*t.fontMetrics().xHeight;else if("phase"===o){var c=H({number:.6,unit:"pt"},t),u=H({number:.35,unit:"ex"},t);s/=t.havingBaseSizing().sizeMultiplier;var h=i.height+i.depth+c+u;i.style.paddingLeft=U(h/2+c);var p=Math.floor(1e3*h*s),f=function(e){return"M400000 "+e+" H0 L"+e/2+" 0 l65 45 L145 "+(e-80)+" H400000z"}(p),m=new J([new ee("phase",f)],{width:"400em",height:U(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});(n=Xe.makeSvgSpan(["hide-tail"],[m],t)).style.height=U(h),a=i.depth+c+u}else{/cancel/.test(o)?l||i.classes.push("cancel-pad"):i.classes.push("angl"===o?"anglpad":"boxpad");var g=0,y=0,v=0;/box/.test(o)?(v=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=g=t.fontMetrics().fboxsep+("colorbox"===o?0:v)):"angl"===o?(g=4*(v=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),y=Math.max(0,.25-i.depth)):y=g=l?.2:0,n=function(e,t,n,r,i){var o,s=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(o=Xe.makeSpan(["stretchy",t],[],i),"fbox"===t){var a=i.color&&i.getColor();a&&(o.style.borderColor=a)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new te({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new te({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new J(l,{width:"100%",height:U(s)});o=Xe.makeSvgSpan([],[c],i)}return o.height=s,o.style.height=U(s),o}(i,o,g,y,t),/fbox|boxed|fcolorbox/.test(o)?(n.style.borderStyle="solid",n.style.borderWidth=U(v)):"angl"===o&&.049!==v&&(n.style.borderTopWidth=U(v),n.style.borderRightWidth=U(v)),a=i.depth+y,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}if(e.backgroundColor)r=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:a},{type:"elem",elem:i,shift:0}]},t);else{var b=/cancel|phase/.test(o)?["svg-align"]:[];r=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:n,shift:a,wrapperClasses:b}]},t)}return/cancel/.test(o)&&(r.height=i.height,r.depth=i.depth),/cancel/.test(o)&&!l?Xe.makeSpan(["mord","cancel-lap"],[r],t):Xe.makeSpan(["mord"],[r],t)},On=(e,t)=>{var n=0,r=new Tt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ot(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),"\\fcolorbox"===e.label){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};it({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,o=Pt(t[0],"color-token").color;return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:t[1]}},htmlBuilder:_n,mathmlBuilder:On}),it({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,o=Pt(t[0],"color-token").color,s=Pt(t[1],"color-token").color;return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:o,body:t[2]}},htmlBuilder:_n,mathmlBuilder:On}),it({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),it({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"enclose",mode:n.mode,label:r,body:t[0]}},htmlBuilder:_n,mathmlBuilder:On}),it({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var In={};function Ln(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:s}=e,a={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)In[n[l]]=a;o&&(nt[t]=o),s&&(rt[t]=s)}var Rn={};function Dn(e,t){Rn[e]=t}function Fn(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for("\\relax"===n&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}var Pn=e=>{if(!e.parser.settings.displayMode)throw new n("{"+e.envName+"} can be used only in display mode.")};function qn(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function Bn(e,r,i){var{hskipBeforeAndAfter:o,addJot:s,cols:a,arraystretch:l,colSeparationType:c,autoTag:u,singleRow:h,emptySingleRow:d,maxNumCols:p,leqno:f}=r;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var m=e.gullet.expandMacroAsText("\\arraystretch");if(null==m)l=1;else if(!(l=parseFloat(m))||l<0)throw new n("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var g=[],y=[g],v=[],b=[],x=null!=u?[]:void 0;function S(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}function w(){x&&(e.gullet.macros.get("\\df@tag")?(x.push(e.subparse([new t("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):x.push(Boolean(u)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(S(),b.push(Fn(e));;){var N=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),N={type:"ordgroup",mode:e.mode,body:N},i&&(N={type:"styling",mode:e.mode,style:i,body:[N]}),g.push(N);var E=e.fetch().text;if("&"===E){if(p&&g.length===p){if(h||c)throw new n("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===E){w(),1===g.length&&"styling"===N.type&&0===N.body[0].body.length&&(y.length>1||!d)&&y.pop(),b.length<y.length+1&&b.push([]);break}if("\\\\"!==E)throw new n("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var T=void 0;" "!==e.gullet.future().text&&(T=e.parseSizeGroup(!0)),v.push(T?T.value:null),w(),b.push(Fn(e)),y.push(g=[]),S()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:s,arraystretch:l,body:y,cols:a,rowGaps:v,hskipBeforeAndAfter:o,hLinesBeforeRow:b,colSeparationType:c,tags:x,leqno:f}}function jn(e){return"d"===e.slice(0,1)?"display":"text"}var zn=function(e,t){var r,i,o=e.body.length,s=e.hLinesBeforeRow,a=0,c=new Array(o),u=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,p=5*d;e.colSeparationType&&"small"===e.colSeparationType&&(p=t.havingStyle(E.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var f="CD"===e.colSeparationType?H({number:3,unit:"ex"},t):12*d,m=3*d,g=e.arraystretch*f,y=.7*g,v=.3*g,b=0;function x(e){for(var t=0;t<e.length;++t)t>0&&(b+=.25),u.push({pos:b,isDashed:e[t]})}for(x(s[0]),r=0;r<e.body.length;++r){var S=e.body[r],w=y,N=v;a<S.length&&(a=S.length);var T=new Array(S.length);for(i=0;i<S.length;++i){var A=bt(S[i],t);N<A.depth&&(N=A.depth),w<A.height&&(w=A.height),T[i]=A}var C=e.rowGaps[r],k=0;C&&(k=H(C,t))>0&&(N<(k+=v)&&(N=k),k=0),e.addJot&&(N+=m),T.height=w,T.depth=N,T.pos=b+=w,b+=N+k,c[r]=T,x(s[r+1])}var M,_,O=b/2+t.fontMetrics().axisHeight,I=e.cols||[],L=[],R=[];if(e.tags&&e.tags.some(e=>e))for(r=0;r<o;++r){var D=c[r],F=D.pos-O,P=e.tags[r],q=void 0;(q=!0===P?Xe.makeSpan(["eqn-num"],[],t):Xe.makeSpan([],!1===P?[]:pt(P,t,!0),t)).depth=D.depth,q.height=D.height,R.push({type:"elem",elem:q,shift:F})}for(i=0,_=0;i<a||_<I.length;++i,++_){for(var B=I[_]||{},j=!0;"separator"===B.type;){if(j||((M=Xe.makeSpan(["arraycolsep"],[])).style.width=U(t.fontMetrics().doubleRuleSep),L.push(M)),"|"!==B.separator&&":"!==B.separator)throw new n("Invalid separator type: "+B.separator);var z="|"===B.separator?"solid":"dashed",$=Xe.makeSpan(["vertical-separator"],[],t);$.style.height=U(b),$.style.borderRightWidth=U(h),$.style.borderRightStyle=z,$.style.margin="0 "+U(-h/2);var G=b-O;G&&($.style.verticalAlign=U(-G)),L.push($),B=I[++_]||{},j=!1}if(!(i>=a)){var V=void 0;(i>0||e.hskipBeforeAndAfter)&&0!==(V=l(B.pregap,p))&&((M=Xe.makeSpan(["arraycolsep"],[])).style.width=U(V),L.push(M));var W=[];for(r=0;r<o;++r){var Q=c[r],X=Q[i];if(X){var Y=Q.pos-O;X.depth=Q.depth,X.height=Q.height,W.push({type:"elem",elem:X,shift:Y})}}W=Xe.makeVList({positionType:"individualShift",children:W},t),W=Xe.makeSpan(["col-align-"+(B.align||"c")],[W]),L.push(W),(i<a-1||e.hskipBeforeAndAfter)&&0!==(V=l(B.postgap,p))&&((M=Xe.makeSpan(["arraycolsep"],[])).style.width=U(V),L.push(M))}}if(c=Xe.makeSpan(["mtable"],L),u.length>0){for(var K=Xe.makeLineSpan("hline",t,h),Z=Xe.makeLineSpan("hdashline",t,h),J=[{type:"elem",elem:c,shift:0}];u.length>0;){var ee=u.pop(),te=ee.pos-O;J.push(ee.isDashed?{type:"elem",elem:Z,shift:te}:{type:"elem",elem:K,shift:te})}c=Xe.makeVList({positionType:"individualShift",children:J},t)}if(0===R.length)return Xe.makeSpan(["mord"],[c],t);var ne=Xe.makeVList({positionType:"individualShift",children:R},t);return ne=Xe.makeSpan(["tag"],[ne],t),Xe.makeFragment([c,ne])},Hn={c:"center ",l:"left ",r:"right "},Un=function(e,t){for(var n=[],r=new Tt.MathNode("mtd",[],["mtr-glue"]),i=new Tt.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var s=e.body[o],a=[],l=0;l<s.length;l++)a.push(new Tt.MathNode("mtd",[Ot(s[l],t)]));e.tags&&e.tags[o]&&(a.unshift(r),a.push(r),e.leqno?a.unshift(i):a.push(i)),n.push(new Tt.MathNode("mtr",a))}var c=new Tt.MathNode("mtable",n);c.setAttribute("rowspacing",U(.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0)));var u="",h="";if(e.cols&&e.cols.length>0){var d=e.cols,p="",f=!1,m=0,g=d.length;"separator"===d[0].type&&(u+="top ",m=1),"separator"===d[d.length-1].type&&(u+="bottom ",g-=1);for(var y=m;y<g;y++)"align"===d[y].type?(h+=Hn[d[y].align],f&&(p+="none "),f=!0):"separator"===d[y].type&&f&&(p+="|"===d[y].separator?"solid ":"dashed ",f=!1);c.setAttribute("columnalign",h.trim()),/[sd]/.test(p)&&c.setAttribute("columnlines",p.trim())}if("align"===e.colSeparationType){for(var v=e.cols||[],b="",x=1;x<v.length;x++)b+=x%2?"0em ":"1em ";c.setAttribute("columnspacing",b.trim())}else c.setAttribute("columnspacing","alignat"===e.colSeparationType||"gather"===e.colSeparationType?"0em":"small"===e.colSeparationType?"0.2778em":"CD"===e.colSeparationType?"0.5em":"1em");var S="",w=e.hLinesBeforeRow;u+=w[0].length>0?"left ":"",u+=w[w.length-1].length>0?"right ":"";for(var N=1;N<w.length-1;N++)S+=0===w[N].length?"none ":w[N][0]?"dashed ":"solid ";return/[sd]/.test(S)&&c.setAttribute("rowlines",S.trim()),""!==u&&(c=new Tt.MathNode("menclose",[c])).setAttribute("notation",u.trim()),e.arraystretch&&e.arraystretch<1&&(c=new Tt.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},$n=function(e,t){-1===e.envName.indexOf("ed")&&Pn(e);var r,i=[],o=e.envName.indexOf("at")>-1?"alignat":"align",s="split"===e.envName,a=Bn(e.parser,{cols:i,addJot:!0,autoTag:s?void 0:qn(e.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var u="",h=0;h<t[0].body.length;h++)u+=Pt(t[0].body[h],"textord").text;r=Number(u),l=2*r}var d=!l;a.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var i=Pt(e[t],"styling");Pt(i.body[0],"ordgroup").body.unshift(c)}if(d)l<e.length&&(l=e.length);else{var o=e.length/2;if(r<o)throw new n("Too many math in a row: expected "+r+", but got "+o,e[0])}});for(var p=0;p<l;++p){var f="r",m=0;p%2==1?f="l":p>0&&d&&(m=1),i[p]={type:"align",align:f,pregap:m,postgap:0}}return a.colSeparationType=d?"align":"alignat",a};Ln({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=(Bt(t[0])?[t[0]]:Pt(t[0],"ordgroup").body).map(function(e){var t=qt(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new n("Unknown column alignment: "+t,e)});return Bn(e.parser,{cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length},jn(e.envName))},htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if("*"===e.envName.charAt(e.envName.length-1)){var o=e.parser;if(o.consumeSpaces(),"["===o.fetch().text){if(o.consume(),o.consumeSpaces(),r=o.fetch().text,-1==="lcr".indexOf(r))throw new n("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),i.cols=[{type:"align",align:r}]}}var s=Bn(e.parser,i,jn(e.envName)),a=Math.max(0,...s.body.map(e=>e.length));return s.cols=new Array(a).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=Bn(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=(Bt(t[0])?[t[0]]:Pt(t[0],"ordgroup").body).map(function(e){var t=qt(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new n("Unknown column alignment: "+t,e)});if(r.length>1)throw new n("{subarray} can contain only one column");var i={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if((i=Bn(e.parser,i,"script")).body.length>0&&i.body[0].length>1)throw new n("{subarray} can contain only one column");return i},htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=Bn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},jn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:$n,htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){a(["gather","gather*"],e.envName)&&Pn(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:qn(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Bn(e.parser,t,"display")},htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:$n,htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Pn(e);var t={autoTag:qn(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Bn(e.parser,t,"display")},htmlBuilder:zn,mathmlBuilder:Un}),Ln({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(Pn(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if("&"!==r&&"\\\\"!==r){if("\\end"===r){0===t[t.length-1].length&&t.pop();break}throw new n("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var i,o=[],s=[o],a=0;a<t.length;a++){for(var l=t[a],c={type:"styling",body:[],mode:"math",style:"display"},u=0;u<l.length;u++)if(Xt(l[u])){o.push(c);var h=qt(l[u+=1]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(h)>-1);else{if(!("<>AV".indexOf(h)>-1))throw new n('Expected one of "<>AV=|." after @',l[u]);for(var p=0;p<2;p++){for(var f=!0,m=u+1;m<l.length;m++){if(("mathord"===(i=l[m]).type||"atom"===i.type)&&i.text===h){f=!1,u=m;break}if(Xt(l[m]))throw new n("Missing a "+h+" character to complete a CD arrow.",l[m]);d[p].body.push(l[m])}if(f)throw new n("Missing a "+h+" character to complete a CD arrow.",l[u])}}var g={type:"styling",body:[Yt(h,d,e)],mode:"math",style:"display"};o.push(g),c={type:"styling",body:[],mode:"math",style:"display"}}else c.body.push(l[u]);a%2==0?o.push(c):o.shift(),s.push(o=[])}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}(e.parser)),htmlBuilder:zn,mathmlBuilder:Un}),Dn("\\nonumber","\\gdef\\@eqnsw{0}"),Dn("\\notag","\\nonumber"),it({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new n(e.funcName+" valid only within array environment")}});var Gn=In;it({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:i}=e,o=t[0];if("ordgroup"!==o.type)throw new n("Invalid environment name",o);for(var s="",a=0;a<o.body.length;++a)s+=Pt(o.body[a],"textord").text;if("\\begin"===i){if(!Gn.hasOwnProperty(s))throw new n("No such environment: "+s,o);var l=Gn[s],{args:c,optArgs:u}=r.parseArguments("\\begin{"+s+"}",l),h=l.handler({mode:r.mode,envName:s,parser:r},c,u);r.expect("\\end",!1);var d=r.nextToken,p=Pt(r.parseFunction(),"environment");if(p.name!==s)throw new n("Mismatch: \\begin{"+s+"} matched by \\end{"+p.name+"}",d);return h}return{type:"environment",mode:r.mode,name:s,nameGroup:o}}});var Vn=(e,t)=>{var n=t.withFont(e.font);return bt(e.body,n)},Wn=(e,t)=>{var n=t.withFont(e.font);return Ot(e.body,n)},Qn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};it({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=st(t[0]),o=r;return o in Qn&&(o=Qn[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:Vn,mathmlBuilder:Wn}),it({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=d(r);return{type:"mclass",mode:n.mode,mclass:Wt(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}}),it({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:o}=n,s=n.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:Vn,mathmlBuilder:Wn});var Xn=(e,t)=>{var n=t;return"display"===e?n=n.id>=E.SCRIPT.id?n.text():E.DISPLAY:"text"===e&&n.size===E.DISPLAY.size?n=E.TEXT:"script"===e?n=E.SCRIPT:"scriptscript"===e&&(n=E.SCRIPTSCRIPT),n},Yn=(e,t)=>{var n,r=Xn(e.size,t.style),i=r.fracNum(),o=r.fracDen();n=t.havingStyle(i);var s=bt(e.numer,n,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<a?a:s.height,s.depth=s.depth<l?l:s.depth}n=t.havingStyle(o);var c,u,h,d,p,f,m,g,y,v,b=bt(e.denom,n,t);if(e.hasBarLine?(e.barSize?(u=H(e.barSize,t),c=Xe.makeLineSpan("frac-line",t,u)):c=Xe.makeLineSpan("frac-line",t),u=c.height,h=c.height):(c=null,u=0,h=t.fontMetrics().defaultRuleThickness),r.size===E.DISPLAY.size||"display"===e.size?(d=t.fontMetrics().num1,p=u>0?3*h:7*h,f=t.fontMetrics().denom1):(u>0?(d=t.fontMetrics().num2,p=h):(d=t.fontMetrics().num3,p=3*h),f=t.fontMetrics().denom2),c){var x=t.fontMetrics().axisHeight;d-s.depth-(x+.5*u)<p&&(d+=p-(d-s.depth-(x+.5*u))),x-.5*u-(b.height-f)<p&&(f+=p-(x-.5*u-(b.height-f))),m=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:f},{type:"elem",elem:c,shift:-(x-.5*u)},{type:"elem",elem:s,shift:-d}]},t)}else{var S=d-s.depth-(b.height-f);S<p&&(d+=.5*(p-S),f+=.5*(p-S)),m=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:f},{type:"elem",elem:s,shift:-d}]},t)}return n=t.havingStyle(r),m.height*=n.sizeMultiplier/t.sizeMultiplier,m.depth*=n.sizeMultiplier/t.sizeMultiplier,g=r.size===E.DISPLAY.size?t.fontMetrics().delim1:r.size===E.SCRIPTSCRIPT.size?t.havingStyle(E.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,y=null==e.leftDelim?vt(t,["mopen"]):Tn.customSizedDelim(e.leftDelim,g,!0,t.havingStyle(r),e.mode,["mopen"]),v=e.continued?Xe.makeSpan([]):null==e.rightDelim?vt(t,["mclose"]):Tn.customSizedDelim(e.rightDelim,g,!0,t.havingStyle(r),e.mode,["mclose"]),Xe.makeSpan(["mord"].concat(n.sizingClasses(t)),[y,Xe.makeSpan(["mfrac"],[m]),v],t)},Kn=(e,t)=>{var n=new Tt.MathNode("mfrac",[Ot(e.numer,t),Ot(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var r=H(e.barSize,t);n.setAttribute("linethickness",U(r))}}else n.setAttribute("linethickness","0px");var i=Xn(e.size,t.style);if(i.size!==t.style.size&&((n=new Tt.MathNode("mstyle",[n])).setAttribute("displaystyle",i.size===E.DISPLAY.size?"true":"false"),n.setAttribute("scriptlevel","0")),null!=e.leftDelim||null!=e.rightDelim){var o=[];if(null!=e.leftDelim){var s=new Tt.MathNode("mo",[new Tt.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),o.push(s)}if(o.push(n),null!=e.rightDelim){var a=new Tt.MathNode("mo",[new Tt.TextNode(e.rightDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}return Ct(o)}return n};it({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var n,{parser:r,funcName:i}=e,o=t[0],s=t[1],a=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,a="(",l=")";break;case"\\\\bracefrac":n=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:r.mode,continued:!1,numer:o,denom:s,hasBarLine:n,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:Yn,mathmlBuilder:Kn}),it({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n}=e;return{type:"genfrac",mode:n.mode,continued:!0,numer:t[0],denom:t[1],hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),it({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:n,funcName:r,token:i}=e;switch(r){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:i}}});var Zn=["display","text","script","scriptscript"],Jn=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};it({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var n,{parser:r}=e,i=t[4],o=t[5],s=st(t[0]),a="atom"===s.type&&"open"===s.family?Jn(s.text):null,l=st(t[1]),c="atom"===l.type&&"close"===l.family?Jn(l.text):null,u=Pt(t[2],"size"),h=null;n=!!u.isBlank||(h=u.value).number>0;var d="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){var f=Pt(p.body[0],"textord");d=Zn[Number(f.text)]}}else p=Pt(p,"textord"),d=Zn[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:n,barSize:h,leftDelim:a,rightDelim:c,size:d}},htmlBuilder:Yn,mathmlBuilder:Kn}),it({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,token:r}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Pt(t[0],"size").value,token:r}}}),it({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Pt(t[1],"infix").size);return{type:"genfrac",mode:n.mode,numer:r,denom:t[2],continued:!1,hasBarLine:i.number>0,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Yn,mathmlBuilder:Kn});var er=(e,t)=>{var n,r,i=t.style;"supsub"===e.type?(n=e.sup?bt(e.sup,t.havingStyle(i.sup()),t):bt(e.sub,t.havingStyle(i.sub()),t),r=Pt(e.base,"horizBrace")):r=Pt(e,"horizBrace");var o,s=bt(r.base,t.havingBaseStyle(E.DISPLAY)),a=Ft(r,t);if(r.isOver?(o=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(o=Xe.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=Xe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],t);o=Xe.makeVList(r.isOver?{positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]}:{positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Xe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],t)};it({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:er,mathmlBuilder:(e,t)=>{var n=Dt(e.label);return new Tt.MathNode(e.isOver?"mover":"munder",[Ot(e.base,t),n])}}),it({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=Pt(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:at(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=pt(e.body,t,!1);return Xe.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=_t(e.body,t);return n instanceof Nt||(n=new Nt("mrow",[n])),n.setAttribute("href",e.href),n}}),it({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Pt(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var s=r[o];"~"===s&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}return{type:"href",mode:n.mode,href:r,body:at({type:"text",mode:n.mode,font:"\\texttt",body:i})}}}),it({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:at(t[0])}},htmlBuilder(e,t){var n=pt(e.body,t,!1);return Xe.makeFragment(n)},mathmlBuilder:(e,t)=>new Tt.MathNode("mrow",Mt(e.body,t))}),it({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var r,{parser:i,funcName:o}=e,s=Pt(t[0],"raw").string,a=t[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(o){case"\\htmlClass":l.class=s,r={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,r={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,r={command:"\\htmlStyle",style:s};break;case"\\htmlData":for(var c=s.split(","),u=0;u<c.length;u++){var h=c[u].split("=");if(2!==h.length)throw new n("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}r={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(r)?{type:"html",mode:i.mode,attributes:l,body:at(a)}:i.formatUnsupportedCmd(o)},htmlBuilder:(e,t)=>{var n=pt(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=Xe.makeSpan(r,n,t);for(var o in e.attributes)"class"!==o&&e.attributes.hasOwnProperty(o)&&i.setAttribute(o,e.attributes[o]);return i},mathmlBuilder:(e,t)=>_t(e.body,t)}),it({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:at(t[0]),mathml:at(t[1])}},htmlBuilder:(e,t)=>{var n=pt(e.html,t,!1);return Xe.makeFragment(n)},mathmlBuilder:(e,t)=>_t(e.mathml,t)});var tr=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new n("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!z(r))throw new n("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};it({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:i}=e,o={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(r[0])for(var c=Pt(r[0],"raw").string.split(","),u=0;u<c.length;u++){var h=c[u].split("=");if(2===h.length){var d=h[1].trim();switch(h[0].trim()){case"alt":l=d;break;case"width":o=tr(d);break;case"height":s=tr(d);break;case"totalheight":a=tr(d);break;default:throw new n("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var p=Pt(t[0],"url").url;return""===l&&(l=(l=(l=p).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:i.mode,alt:l,width:o,height:s,totalheight:a,src:p}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=H(e.height,t),r=0;e.totalheight.number>0&&(r=H(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=H(e.width,t));var o={height:U(n+r)};i>0&&(o.width=U(i)),r>0&&(o.verticalAlign=U(-r));var s=new Y(e.src,e.alt,o);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new Tt.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=H(e.height,t),i=0;if(e.totalheight.number>0&&(i=H(e.totalheight,t)-r,n.setAttribute("valign",U(-i))),n.setAttribute("height",U(r+i)),e.width.number>0){var o=H(e.width,t);n.setAttribute("width",U(o))}return n.setAttribute("src",e.src),n}}),it({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=Pt(t[0],"size");if(n.settings.strict){var o="mu"===i.value.unit;"m"===r[1]?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+i.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder:(e,t)=>Xe.makeGlue(e.dimension,t),mathmlBuilder(e,t){var n=H(e.dimension,t);return new Tt.SpaceNode(n)}}),it({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;"clap"===e.alignment?(n=Xe.makeSpan([],[bt(e.body,t)]),n=Xe.makeSpan(["inner"],[n],t)):n=Xe.makeSpan(["inner"],[bt(e.body,t)]);var r=Xe.makeSpan(["fix"],[]),i=Xe.makeSpan([e.alignment],[n,r],t),o=Xe.makeSpan(["strut"]);return o.style.height=U(i.height+i.depth),i.depth&&(o.style.verticalAlign=U(-i.depth)),i.children.unshift(o),i=Xe.makeSpan(["thinbox"],[i],t),Xe.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new Tt.MathNode("mpadded",[Ot(e.body,t)]);return"rlap"!==e.alignment&&n.setAttribute("lspace",("llap"===e.alignment?"-1":"-0.5")+"width"),n.setAttribute("width","0px"),n}}),it({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var o="\\("===n?"\\)":"$",s=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}}),it({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new n("Mismatched "+e.funcName)}});var nr=(e,t)=>{switch(t.style.size){case E.DISPLAY.size:return e.display;case E.TEXT.size:return e.text;case E.SCRIPT.size:return e.script;case E.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};it({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:at(t[0]),text:at(t[1]),script:at(t[2]),scriptscript:at(t[3])}},htmlBuilder:(e,t)=>{var n=nr(e,t),r=pt(n,t,!1);return Xe.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=nr(e,t);return _t(n,t)}});var rr=(e,t,n,r,i,o,s)=>{e=Xe.makeSpan([],[e]);var a,l,c,u=n&&d(n);if(t){var h=bt(t,r.havingStyle(i.sup()),r);l={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var p=bt(n,r.havingStyle(i.sub()),r);a={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}if(l&&a){var f=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+s;c=Xe.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:U(-o)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:U(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a)c=Xe.makeVList({positionType:"top",positionData:e.height-s,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:U(-o)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},r);else{if(!l)return e;c=Xe.makeVList({positionType:"bottom",positionData:e.depth+s,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:U(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}var m=[c];if(a&&0!==o&&!u){var g=Xe.makeSpan(["mspace"],[],r);g.style.marginRight=U(o),m.unshift(g)}return Xe.makeSpan(["mop","op-limits"],m,r)},ir=["\\smallint"],or=(e,t)=>{var n,r,i,o=!1;"supsub"===e.type?(n=e.sup,r=e.sub,i=Pt(e.base,"op"),o=!0):i=Pt(e,"op");var s,l=t.style,c=!1;if(l.size===E.DISPLAY.size&&i.symbol&&!a(ir,i.name)&&(c=!0),i.symbol){var u=c?"Size2-Regular":"Size1-Regular",h="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(h=i.name.slice(1),i.name="oiint"===h?"\\iint":"\\iiint"),s=Xe.makeSymbol(i.name,u,"math",t,["mop","op-symbol",c?"large-op":"small-op"]),h.length>0){var d=s.italic,p=Xe.staticSvg(h+"Size"+(c?"2":"1"),t);s=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:p,shift:c?.08:0}]},t),i.name="\\"+h,s.classes.unshift("mop"),s.italic=d}}else if(i.body){var f=pt(i.body,t,!0);1===f.length&&f[0]instanceof Z?(s=f[0]).classes[0]="mop":s=Xe.makeSpan(["mop"],f,t)}else{for(var m=[],g=1;g<i.name.length;g++)m.push(Xe.mathsym(i.name[g],i.mode,t));s=Xe.makeSpan(["mop"],m,t)}var y=0,v=0;return(s instanceof Z||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(y=(s.height-s.depth)/2-t.fontMetrics().axisHeight,v=s.italic),o?rr(s,n,r,t,l,v,y):(y&&(s.style.position="relative",s.style.top=U(y)),s)},sr=(e,t)=>{var n;if(e.symbol)n=new Nt("mo",[At(e.name,e.mode)]),a(ir,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Nt("mo",Mt(e.body,t));else{n=new Nt("mi",[new Et(e.name.slice(1))]);var r=new Nt("mo",[At("\u2061","text")]);n=e.parentIsSupSub?new Nt("mrow",[n,r]):wt([n,r])}return n},ar={"\u220f":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22c0":"\\bigwedge","\u22c1":"\\bigvee","\u22c2":"\\bigcap","\u22c3":"\\bigcup","\u2a00":"\\bigodot","\u2a01":"\\bigoplus","\u2a02":"\\bigotimes","\u2a04":"\\biguplus","\u2a06":"\\bigsqcup"};it({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220f","\u2210","\u2211","\u22c0","\u22c1","\u22c2","\u22c3","\u2a00","\u2a01","\u2a02","\u2a04","\u2a06"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return 1===i.length&&(i=ar[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:or,mathmlBuilder:sr}),it({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:at(t[0])}},htmlBuilder:or,mathmlBuilder:sr});var lr={"\u222b":"\\int","\u222c":"\\iint","\u222d":"\\iiint","\u222e":"\\oint","\u222f":"\\oiint","\u2230":"\\oiiint"};it({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:or,mathmlBuilder:sr}),it({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:or,mathmlBuilder:sr}),it({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222b","\u222c","\u222d","\u222e","\u222f","\u2230"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return 1===r.length&&(r=lr[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:or,mathmlBuilder:sr});var cr=(e,t)=>{var n,r,i,o,s=!1;if("supsub"===e.type?(n=e.sup,r=e.sub,i=Pt(e.base,"operatorname"),s=!0):i=Pt(e,"operatorname"),i.body.length>0){for(var a=i.body.map(e=>{var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),l=pt(a,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof Z&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Xe.makeSpan(["mop"],l,t)}else o=Xe.makeSpan(["mop"],[],t);return s?rr(o,n,r,t,t.style,0,0):o};function ur(e,t,n){for(var r=pt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var s=r[o].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[o].classes,t.sizingClasses(n)):r[o].classes[s+1]==="reset-size"+t.size&&(r[o].classes[s+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return Xe.makeFragment(r)}it({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e;return{type:"operatorname",mode:n.mode,body:at(t[0]),alwaysHandleSupSub:"\\operatornamewithlimits"===r,limits:!1,parentIsSupSub:!1}},htmlBuilder:cr,mathmlBuilder:(e,t)=>{for(var n=Mt(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(o instanceof Tt.SpaceNode);else if(o instanceof Tt.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var s=o.children[0];1===o.children.length&&s instanceof Tt.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var a=n.map(e=>e.toText()).join("");n=[new Tt.TextNode(a)]}var l=new Tt.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new Tt.MathNode("mo",[At("\u2061","text")]);return e.parentIsSupSub?new Tt.MathNode("mrow",[l,c]):Tt.newDocumentFragment([l,c])}}),Dn("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),ot({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?Xe.makeFragment(pt(e.body,t,!1)):Xe.makeSpan(["mord"],pt(e.body,t,!0),t),mathmlBuilder:(e,t)=>_t(e.body,t,!0)}),it({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"overline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=bt(e.body,t.havingCrampedStyle()),r=Xe.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,o=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return Xe.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var n=new Tt.MathNode("mo",[new Tt.TextNode("\u203e")]);n.setAttribute("stretchy","true");var r=new Tt.MathNode("mover",[Ot(e.body,t),n]);return r.setAttribute("accent","true"),r}}),it({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"phantom",mode:n.mode,body:at(t[0])}},htmlBuilder:(e,t)=>{var n=pt(e.body,t.withPhantom(),!1);return Xe.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Mt(e.body,t);return new Tt.MathNode("mphantom",n)}}),it({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"hphantom",mode:n.mode,body:t[0]}},htmlBuilder:(e,t)=>{var n=Xe.makeSpan([],[bt(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Xe.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=Mt(at(e.body),t),r=new Tt.MathNode("mphantom",n),i=new Tt.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),it({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"vphantom",mode:n.mode,body:t[0]}},htmlBuilder:(e,t)=>{var n=Xe.makeSpan(["inner"],[bt(e.body,t.withPhantom())]),r=Xe.makeSpan(["fix"],[]);return Xe.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=Mt(at(e.body),t),r=new Tt.MathNode("mphantom",n),i=new Tt.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}}),it({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Pt(t[0],"size").value;return{type:"raisebox",mode:n.mode,dy:r,body:t[1]}},htmlBuilder(e,t){var n=bt(e.body,t),r=H(e.dy,t);return Xe.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new Tt.MathNode("mpadded",[Ot(e.body,t)]);return n.setAttribute("voffset",e.dy.number+e.dy.unit),n}}),it({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),it({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],o=Pt(t[0],"size"),s=Pt(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&Pt(i,"size").value,width:o.value,height:s.value}},htmlBuilder(e,t){var n=Xe.makeSpan(["mord","rule"],[],t),r=H(e.width,t),i=H(e.height,t),o=e.shift?H(e.shift,t):0;return n.style.borderRightWidth=U(r),n.style.borderTopWidth=U(i),n.style.bottom=U(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=1.125*i*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=H(e.width,t),r=H(e.height,t),i=e.shift?H(e.shift,t):0,o=t.color&&t.getColor()||"black",s=new Tt.MathNode("mspace");s.setAttribute("mathbackground",o),s.setAttribute("width",U(n)),s.setAttribute("height",U(r));var a=new Tt.MathNode("mpadded",[s]);return i>=0?a.setAttribute("height",U(i)):(a.setAttribute("height",U(i)),a.setAttribute("depth",U(-i))),a.setAttribute("voffset",U(i)),a}});var hr=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];it({type:"sizing",names:hr,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:hr.indexOf(r)+1,body:o}},htmlBuilder:(e,t)=>{var n=t.havingSize(e.size);return ur(e.body,n,t)},mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=Mt(e.body,n),i=new Tt.MathNode("mstyle",r);return i.setAttribute("mathsize",U(n.sizeMultiplier)),i}}),it({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,o=!1,s=n[0]&&Pt(n[0],"ordgroup");if(s)for(var a="",l=0;l<s.body.length;++l)if("t"===(a=s.body[l].text))i=!0;else{if("b"!==a){i=!1,o=!1;break}o=!0}else i=!0,o=!0;return{type:"smash",mode:r.mode,body:t[0],smashHeight:i,smashDepth:o}},htmlBuilder:(e,t)=>{var n=Xe.makeSpan([],[bt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Xe.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var n=new Tt.MathNode("mpadded",[Ot(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),it({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e;return{type:"sqrt",mode:r.mode,body:t[0],index:n[0]}},htmlBuilder(e,t){var n=bt(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=Xe.wrapFragment(n,t);var r=t.fontMetrics().defaultRuleThickness,i=r;t.style.id<E.TEXT.id&&(i=t.fontMetrics().xHeight);var o=r+i/4,s=n.height+n.depth+o+r,{span:a,ruleWidth:l,advanceWidth:c}=Tn.sqrtImage(s,t),u=a.height-l;u>n.height+n.depth+o&&(o=(o+u-n.height-n.depth)/2);var h=a.height-n.height-o-l;n.style.paddingLeft=U(c);var d=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:a},{type:"kern",size:l}]},t);if(e.index){var p=t.havingStyle(E.SCRIPTSCRIPT),f=bt(e.index,p,t),m=Xe.makeVList({positionType:"shift",positionData:-.6*(d.height-d.depth),children:[{type:"elem",elem:f}]},t),g=Xe.makeSpan(["root"],[m]);return Xe.makeSpan(["mord","sqrt"],[g,d],t)}return Xe.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new Tt.MathNode("mroot",[Ot(n,t),Ot(r,t)]):new Tt.MathNode("msqrt",[Ot(n,t)])}});var dr={display:E.DISPLAY,text:E.TEXT,script:E.SCRIPT,scriptscript:E.SCRIPTSCRIPT};it({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,o=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:o}},htmlBuilder(e,t){var n=t.havingStyle(dr[e.style]).withFont("");return ur(e.body,n,t)},mathmlBuilder(e,t){var n=t.havingStyle(dr[e.style]),r=Mt(e.body,n),i=new Tt.MathNode("mstyle",r),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return i.setAttribute("scriptlevel",o[0]),i.setAttribute("displaystyle",o[1]),i}}),ot({type:"supsub",htmlBuilder(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===E.DISPLAY.size||n.alwaysHandleSupSub)?or:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(t.style.size===E.DISPLAY.size||n.limits)?cr:null:"accent"===n.type?d(n.base)?jt:null:"horizBrace"===n.type&&!e.sub===n.isOver?er:null:null}(e,t);if(n)return n(e,t);var r,i,o,{base:s,sup:a,sub:l}=e,c=bt(s,t),u=t.fontMetrics(),h=0,p=0,f=s&&d(s);if(a){var m=t.havingStyle(t.style.sup());r=bt(a,m,t),f||(h=c.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(l){var g=t.havingStyle(t.style.sub());i=bt(l,g,t),f||(p=c.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}o=t.style===E.DISPLAY?u.sup1:t.style.cramped?u.sup3:u.sup2;var y,v=U(.5/u.ptPerEm/t.sizeMultiplier),b=null;if(i&&(c instanceof Z||e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name))&&(b=U(-c.italic)),r&&i){h=Math.max(h,o,r.depth+.25*u.xHeight),p=Math.max(p,u.sub2);var x=4*u.defaultRuleThickness;if(h-r.depth-(i.height-p)<x){p=x-(h-r.depth)+i.height;var S=.8*u.xHeight-(h-r.depth);S>0&&(h+=S,p-=S)}y=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:p,marginRight:v,marginLeft:b},{type:"elem",elem:r,shift:-h,marginRight:v}]},t)}else if(i)p=Math.max(p,u.sub1,i.height-.8*u.xHeight),y=Xe.makeVList({positionType:"shift",positionData:p,children:[{type:"elem",elem:i,marginLeft:b,marginRight:v}]},t);else{if(!r)throw new Error("supsub must have either sup or sub.");h=Math.max(h,o,r.depth+.25*u.xHeight),y=Xe.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:r,marginRight:v}]},t)}var w=yt(c,"right")||"mord";return Xe.makeSpan([w],[c,Xe.makeSpan(["msupsub"],[y])],t)},mathmlBuilder(e,t){var n,r=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(r=!0,n=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var i,o=[Ot(e.base,t)];if(e.sub&&o.push(Ot(e.sub,t)),e.sup&&o.push(Ot(e.sup,t)),r)i=n?"mover":"munder";else if(e.sub)if(e.sup){var s=e.base;i=s&&"op"===s.type&&s.limits&&t.style===E.DISPLAY||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(t.style===E.DISPLAY||s.limits)?"munderover":"msubsup"}else{var a=e.base;i=a&&"op"===a.type&&a.limits&&(t.style===E.DISPLAY||a.alwaysHandleSupSub)||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(a.limits||t.style===E.DISPLAY)?"munder":"msub"}else{var l=e.base;i=l&&"op"===l.type&&l.limits&&(t.style===E.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===E.DISPLAY)?"mover":"msup"}return new Tt.MathNode(i,o)}}),ot({type:"atom",htmlBuilder:(e,t)=>Xe.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var n=new Tt.MathNode("mo",[At(e.text,e.mode)]);if("bin"===e.family){var r=kt(e,t);"bold-italic"===r&&n.setAttribute("mathvariant",r)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});var pr={mi:"italic",mn:"normal",mtext:"normal"};ot({type:"mathord",htmlBuilder:(e,t)=>Xe.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var n=new Tt.MathNode("mi",[At(e.text,e.mode,t)]),r=kt(e,t)||"italic";return r!==pr[n.type]&&n.setAttribute("mathvariant",r),n}}),ot({type:"textord",htmlBuilder:(e,t)=>Xe.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var n,r=At(e.text,e.mode,t),i=kt(e,t)||"normal";return n="text"===e.mode?new Tt.MathNode("mtext",[r]):/[0-9]/.test(e.text)?new Tt.MathNode("mn",[r]):new Tt.MathNode("\\prime"===e.text?"mo":"mi",[r]),i!==pr[n.type]&&n.setAttribute("mathvariant",i),n}});var fr={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},mr={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ot({type:"spacing",htmlBuilder(e,t){if(mr.hasOwnProperty(e.text)){var r=mr[e.text].className||"";if("text"===e.mode){var i=Xe.makeOrd(e,t,"textord");return i.classes.push(r),i}return Xe.makeSpan(["mspace",r],[Xe.mathsym(e.text,e.mode,t)],t)}if(fr.hasOwnProperty(e.text))return Xe.makeSpan(["mspace",fr[e.text]],[],t);throw new n('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!mr.hasOwnProperty(e.text)){if(fr.hasOwnProperty(e.text))return new Tt.MathNode("mspace");throw new n('Unknown type of space "'+e.text+'"')}return new Tt.MathNode("mtext",[new Tt.TextNode("\xa0")])}});var gr=()=>{var e=new Tt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};ot({type:"tag",mathmlBuilder(e,t){var n=new Tt.MathNode("mtable",[new Tt.MathNode("mtr",[gr(),new Tt.MathNode("mtd",[_t(e.body,t)]),gr(),new Tt.MathNode("mtd",[_t(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var yr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},vr={"\\textbf":"textbf","\\textmd":"textmd"},br={"\\textit":"textit","\\textup":"textup"},xr=(e,t)=>{var n=e.font;return n?yr[n]?t.withTextFontFamily(yr[n]):vr[n]?t.withTextFontWeight(vr[n]):t.withTextFontShape(br[n]):t};it({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e;return{type:"text",mode:n.mode,body:at(t[0]),font:r}},htmlBuilder(e,t){var n=xr(e,t),r=pt(e.body,n,!0);return Xe.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=xr(e,t);return _t(e.body,n)}}),it({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=bt(e.body,t),r=Xe.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,o=Xe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return Xe.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var n=new Tt.MathNode("mo",[new Tt.TextNode("\u203e")]);n.setAttribute("stretchy","true");var r=new Tt.MathNode("munder",[Ot(e.body,t),n]);return r.setAttribute("accentunder","true"),r}}),it({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=bt(e.body,t),r=t.fontMetrics().axisHeight;return Xe.makeVList({positionType:"shift",positionData:.5*(n.height-r-(n.depth+r)),children:[{type:"elem",elem:n}]},t)},mathmlBuilder:(e,t)=>new Tt.MathNode("mpadded",[Ot(e.body,t)],["vcenter"])}),it({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new n("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=Sr(e),r=[],i=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var s=n[o];"~"===s&&(s="\\textasciitilde"),r.push(Xe.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Xe.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Xe.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new Tt.TextNode(Sr(e)),r=new Tt.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Sr=e=>e.body.replace(/ /g,e.star?"\u2423":"\xa0"),wr=tt,Nr=new RegExp("[\u0300-\u036f]+$");class Er{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff][\u0300-\u036f]*|[\ud800-\udbff][\udc00-\udfff][\u0300-\u036f]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var r=this.input,i=this.tokenRegex.lastIndex;if(i===r.length)return new t("EOF",new e(this,i,i));var o=this.tokenRegex.exec(r);if(null===o||o.index!==i)throw new n("Unexpected character: '"+r[i]+"'",new t(r[i],new e(this,i,i+1)));var s=o[6]||o[3]||(o[2]?"\\ ":" ");if(14===this.catcodes[s]){var a=r.indexOf("\n",this.tokenRegex.lastIndex);return-1===a?(this.tokenRegex.lastIndex=r.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new t(s,new e(this,i,this.tokenRegex.lastIndex))}}class Tr{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new n("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(void 0===n&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var Ar=Rn;Dn("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),Dn("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),Dn("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),Dn("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),Dn("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),Dn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Dn("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Cr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Dn("\\char",function(e){var t,r=e.popToken(),i="";if("'"===r.text)t=8,r=e.popToken();else if('"'===r.text)t=16,r=e.popToken();else if("`"===r.text)if("\\"===(r=e.popToken()).text[0])i=r.text.charCodeAt(1);else{if("EOF"===r.text)throw new n("\\char` missing argument");i=r.text.charCodeAt(0)}else t=10;if(t){if(null==(i=Cr[r.text])||i>=t)throw new n("Invalid base-"+t+" digit "+r.text);for(var o;null!=(o=Cr[e.future().text])&&o<t;)i*=t,i+=o,e.popToken()}return"\\@char{"+i+"}"});var kr=(e,t,r)=>{var i=e.consumeArg().tokens;if(1!==i.length)throw new n("\\newcommand's first argument must be a macro name");var o=i[0].text,s=e.isDefined(o);if(s&&!t)throw new n("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!s&&!r)throw new n("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var a=0;if(1===(i=e.consumeArg().tokens).length&&"["===i[0].text){for(var l="",c=e.expandNextToken();"]"!==c.text&&"EOF"!==c.text;)l+=c.text,c=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new n("Invalid number of arguments: "+l);a=parseInt(l),i=e.consumeArg().tokens}return e.macros.set(o,{tokens:i,numArgs:a}),""};Dn("\\newcommand",e=>kr(e,!1,!0)),Dn("\\renewcommand",e=>kr(e,!0,!1)),Dn("\\providecommand",e=>kr(e,!0,!0)),Dn("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join("")),""}),Dn("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join("")),""}),Dn("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),wr[n],oe.math[n],oe.text[n]),""}),Dn("\\bgroup","{"),Dn("\\egroup","}"),Dn("~","\\nobreakspace"),Dn("\\lq","`"),Dn("\\rq","'"),Dn("\\aa","\\r a"),Dn("\\AA","\\r A"),Dn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xa9}"),Dn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Dn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xae}"),Dn("\u212c","\\mathscr{B}"),Dn("\u2130","\\mathscr{E}"),Dn("\u2131","\\mathscr{F}"),Dn("\u210b","\\mathscr{H}"),Dn("\u2110","\\mathscr{I}"),Dn("\u2112","\\mathscr{L}"),Dn("\u2133","\\mathscr{M}"),Dn("\u211b","\\mathscr{R}"),Dn("\u212d","\\mathfrak{C}"),Dn("\u210c","\\mathfrak{H}"),Dn("\u2128","\\mathfrak{Z}"),Dn("\\Bbbk","\\Bbb{k}"),Dn("\xb7","\\cdotp"),Dn("\\llap","\\mathllap{\\textrm{#1}}"),Dn("\\rlap","\\mathrlap{\\textrm{#1}}"),Dn("\\clap","\\mathclap{\\textrm{#1}}"),Dn("\\mathstrut","\\vphantom{(}"),Dn("\\underbar","\\underline{\\text{#1}}"),Dn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Dn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),Dn("\\ne","\\neq"),Dn("\u2260","\\neq"),Dn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),Dn("\u2209","\\notin"),Dn("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),Dn("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),Dn("\u225a","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225a}}"),Dn("\u225b","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225b}}"),Dn("\u225d","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225d}}"),Dn("\u225e","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225e}}"),Dn("\u225f","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225f}}"),Dn("\u27c2","\\perp"),Dn("\u203c","\\mathclose{!\\mkern-0.8mu!}"),Dn("\u220c","\\notni"),Dn("\u231c","\\ulcorner"),Dn("\u231d","\\urcorner"),Dn("\u231e","\\llcorner"),Dn("\u231f","\\lrcorner"),Dn("\xa9","\\copyright"),Dn("\xae","\\textregistered"),Dn("\ufe0f","\\textregistered"),Dn("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Dn("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Dn("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Dn("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Dn("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Dn("\u22ee","\\vdots"),Dn("\\varGamma","\\mathit{\\Gamma}"),Dn("\\varDelta","\\mathit{\\Delta}"),Dn("\\varTheta","\\mathit{\\Theta}"),Dn("\\varLambda","\\mathit{\\Lambda}"),Dn("\\varXi","\\mathit{\\Xi}"),Dn("\\varPi","\\mathit{\\Pi}"),Dn("\\varSigma","\\mathit{\\Sigma}"),Dn("\\varUpsilon","\\mathit{\\Upsilon}"),Dn("\\varPhi","\\mathit{\\Phi}"),Dn("\\varPsi","\\mathit{\\Psi}"),Dn("\\varOmega","\\mathit{\\Omega}"),Dn("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Dn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Dn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Dn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Dn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Dn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Mr={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Dn("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in Mr?t=Mr[n]:("\\not"===n.slice(0,4)||n in oe.math&&a(["bin","rel"],oe.math[n].group))&&(t="\\dotsb"),t});var _r={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Dn("\\dotso",function(e){return e.future().text in _r?"\\ldots\\,":"\\ldots"}),Dn("\\dotsc",function(e){var t=e.future().text;return t in _r&&","!==t?"\\ldots\\,":"\\ldots"}),Dn("\\cdots",function(e){return e.future().text in _r?"\\@cdots\\,":"\\@cdots"}),Dn("\\dotsb","\\cdots"),Dn("\\dotsm","\\cdots"),Dn("\\dotsi","\\!\\cdots"),Dn("\\dotsx","\\ldots\\,"),Dn("\\DOTSI","\\relax"),Dn("\\DOTSB","\\relax"),Dn("\\DOTSX","\\relax"),Dn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Dn("\\,","\\tmspace+{3mu}{.1667em}"),Dn("\\thinspace","\\,"),Dn("\\>","\\mskip{4mu}"),Dn("\\:","\\tmspace+{4mu}{.2222em}"),Dn("\\medspace","\\:"),Dn("\\;","\\tmspace+{5mu}{.2777em}"),Dn("\\thickspace","\\;"),Dn("\\!","\\tmspace-{3mu}{.1667em}"),Dn("\\negthinspace","\\!"),Dn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Dn("\\negthickspace","\\tmspace-{5mu}{.277em}"),Dn("\\enspace","\\kern.5em "),Dn("\\enskip","\\hskip.5em\\relax"),Dn("\\quad","\\hskip1em\\relax"),Dn("\\qquad","\\hskip2em\\relax"),Dn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Dn("\\tag@paren","\\tag@literal{({#1})}"),Dn("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new n("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Dn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Dn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Dn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Dn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Dn("\\newline","\\\\\\relax"),Dn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Or=U(_["Main-Regular"]["T".charCodeAt(0)][1]-.7*_["Main-Regular"]["A".charCodeAt(0)][1]);Dn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Or+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Dn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Or+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Dn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Dn("\\@hspace","\\hskip #1\\relax"),Dn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Dn("\\ordinarycolon",":"),Dn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Dn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Dn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Dn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Dn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Dn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Dn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Dn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Dn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Dn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Dn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Dn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Dn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Dn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Dn("\u2237","\\dblcolon"),Dn("\u2239","\\eqcolon"),Dn("\u2254","\\coloneqq"),Dn("\u2255","\\eqqcolon"),Dn("\u2a74","\\Coloneqq"),Dn("\\ratio","\\vcentcolon"),Dn("\\coloncolon","\\dblcolon"),Dn("\\colonequals","\\coloneqq"),Dn("\\coloncolonequals","\\Coloneqq"),Dn("\\equalscolon","\\eqqcolon"),Dn("\\equalscoloncolon","\\Eqqcolon"),Dn("\\colonminus","\\coloneq"),Dn("\\coloncolonminus","\\Coloneq"),Dn("\\minuscolon","\\eqcolon"),Dn("\\minuscoloncolon","\\Eqcolon"),Dn("\\coloncolonapprox","\\Colonapprox"),Dn("\\coloncolonsim","\\Colonsim"),Dn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Dn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Dn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Dn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Dn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220c}}"),Dn("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Dn("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Dn("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Dn("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Dn("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Dn("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Dn("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Dn("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Dn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),Dn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),Dn("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),Dn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),Dn("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),Dn("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),Dn("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),Dn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),Dn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),Dn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),Dn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228a}"),Dn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2acb}"),Dn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228b}"),Dn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2acc}"),Dn("\\imath","\\html@mathml{\\@imath}{\u0131}"),Dn("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),Dn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27e6}}"),Dn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27e7}}"),Dn("\u27e6","\\llbracket"),Dn("\u27e7","\\rrbracket"),Dn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),Dn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),Dn("\u2983","\\lBrace"),Dn("\u2984","\\rBrace"),Dn("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29b5}}"),Dn("\u29b5","\\minuso"),Dn("\\darr","\\downarrow"),Dn("\\dArr","\\Downarrow"),Dn("\\Darr","\\Downarrow"),Dn("\\lang","\\langle"),Dn("\\rang","\\rangle"),Dn("\\uarr","\\uparrow"),Dn("\\uArr","\\Uparrow"),Dn("\\Uarr","\\Uparrow"),Dn("\\N","\\mathbb{N}"),Dn("\\R","\\mathbb{R}"),Dn("\\Z","\\mathbb{Z}"),Dn("\\alef","\\aleph"),Dn("\\alefsym","\\aleph"),Dn("\\Alpha","\\mathrm{A}"),Dn("\\Beta","\\mathrm{B}"),Dn("\\bull","\\bullet"),Dn("\\Chi","\\mathrm{X}"),Dn("\\clubs","\\clubsuit"),Dn("\\cnums","\\mathbb{C}"),Dn("\\Complex","\\mathbb{C}"),Dn("\\Dagger","\\ddagger"),Dn("\\diamonds","\\diamondsuit"),Dn("\\empty","\\emptyset"),Dn("\\Epsilon","\\mathrm{E}"),Dn("\\Eta","\\mathrm{H}"),Dn("\\exist","\\exists"),Dn("\\harr","\\leftrightarrow"),Dn("\\hArr","\\Leftrightarrow"),Dn("\\Harr","\\Leftrightarrow"),Dn("\\hearts","\\heartsuit"),Dn("\\image","\\Im"),Dn("\\infin","\\infty"),Dn("\\Iota","\\mathrm{I}"),Dn("\\isin","\\in"),Dn("\\Kappa","\\mathrm{K}"),Dn("\\larr","\\leftarrow"),Dn("\\lArr","\\Leftarrow"),Dn("\\Larr","\\Leftarrow"),Dn("\\lrarr","\\leftrightarrow"),Dn("\\lrArr","\\Leftrightarrow"),Dn("\\Lrarr","\\Leftrightarrow"),Dn("\\Mu","\\mathrm{M}"),Dn("\\natnums","\\mathbb{N}"),Dn("\\Nu","\\mathrm{N}"),Dn("\\Omicron","\\mathrm{O}"),Dn("\\plusmn","\\pm"),Dn("\\rarr","\\rightarrow"),Dn("\\rArr","\\Rightarrow"),Dn("\\Rarr","\\Rightarrow"),Dn("\\real","\\Re"),Dn("\\reals","\\mathbb{R}"),Dn("\\Reals","\\mathbb{R}"),Dn("\\Rho","\\mathrm{P}"),Dn("\\sdot","\\cdot"),Dn("\\sect","\\S"),Dn("\\spades","\\spadesuit"),Dn("\\sub","\\subset"),Dn("\\sube","\\subseteq"),Dn("\\supe","\\supseteq"),Dn("\\Tau","\\mathrm{T}"),Dn("\\thetasym","\\vartheta"),Dn("\\weierp","\\wp"),Dn("\\Zeta","\\mathrm{Z}"),Dn("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Dn("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Dn("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Dn("\\bra","\\mathinner{\\langle{#1}|}"),Dn("\\ket","\\mathinner{|{#1}\\rangle}"),Dn("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Dn("\\Bra","\\left\\langle#1\\right|"),Dn("\\Ket","\\left|#1\\right\\rangle");var Ir=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.consumeArg().tokens,s=t.macros.get("|"),a=t.macros.get("\\|");t.macros.beginGroup();var l=t=>n=>{e&&(n.macros.set("|",s),i.length&&n.macros.set("\\|",a));var o=t;return!t&&i.length&&"|"===n.future().text&&(n.popToken(),o=!0),{tokens:o?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,u=t.expandTokens([...o,...c,...n]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};Dn("\\bra@ket",Ir(!1)),Dn("\\bra@set",Ir(!0)),Dn("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Dn("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Dn("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Dn("\\angln","{\\angl n}"),Dn("\\blue","\\textcolor{##6495ed}{#1}"),Dn("\\orange","\\textcolor{##ffa500}{#1}"),Dn("\\pink","\\textcolor{##ff00af}{#1}"),Dn("\\red","\\textcolor{##df0030}{#1}"),Dn("\\green","\\textcolor{##28ae7b}{#1}"),Dn("\\gray","\\textcolor{gray}{#1}"),Dn("\\purple","\\textcolor{##9d38bd}{#1}"),Dn("\\blueA","\\textcolor{##ccfaff}{#1}"),Dn("\\blueB","\\textcolor{##80f6ff}{#1}"),Dn("\\blueC","\\textcolor{##63d9ea}{#1}"),Dn("\\blueD","\\textcolor{##11accd}{#1}"),Dn("\\blueE","\\textcolor{##0c7f99}{#1}"),Dn("\\tealA","\\textcolor{##94fff5}{#1}"),Dn("\\tealB","\\textcolor{##26edd5}{#1}"),Dn("\\tealC","\\textcolor{##01d1c1}{#1}"),Dn("\\tealD","\\textcolor{##01a995}{#1}"),Dn("\\tealE","\\textcolor{##208170}{#1}"),Dn("\\greenA","\\textcolor{##b6ffb0}{#1}"),Dn("\\greenB","\\textcolor{##8af281}{#1}"),Dn("\\greenC","\\textcolor{##74cf70}{#1}"),Dn("\\greenD","\\textcolor{##1fab54}{#1}"),Dn("\\greenE","\\textcolor{##0d923f}{#1}"),Dn("\\goldA","\\textcolor{##ffd0a9}{#1}"),Dn("\\goldB","\\textcolor{##ffbb71}{#1}"),Dn("\\goldC","\\textcolor{##ff9c39}{#1}"),Dn("\\goldD","\\textcolor{##e07d10}{#1}"),Dn("\\goldE","\\textcolor{##a75a05}{#1}"),Dn("\\redA","\\textcolor{##fca9a9}{#1}"),Dn("\\redB","\\textcolor{##ff8482}{#1}"),Dn("\\redC","\\textcolor{##f9685d}{#1}"),Dn("\\redD","\\textcolor{##e84d39}{#1}"),Dn("\\redE","\\textcolor{##bc2612}{#1}"),Dn("\\maroonA","\\textcolor{##ffbde0}{#1}"),Dn("\\maroonB","\\textcolor{##ff92c6}{#1}"),Dn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Dn("\\maroonD","\\textcolor{##ca337c}{#1}"),Dn("\\maroonE","\\textcolor{##9e034e}{#1}"),Dn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Dn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Dn("\\purpleC","\\textcolor{##aa87ff}{#1}"),Dn("\\purpleD","\\textcolor{##7854ab}{#1}"),Dn("\\purpleE","\\textcolor{##543b78}{#1}"),Dn("\\mintA","\\textcolor{##f5f9e8}{#1}"),Dn("\\mintB","\\textcolor{##edf2df}{#1}"),Dn("\\mintC","\\textcolor{##e0e5cc}{#1}"),Dn("\\grayA","\\textcolor{##f6f7f7}{#1}"),Dn("\\grayB","\\textcolor{##f0f1f2}{#1}"),Dn("\\grayC","\\textcolor{##e3e5e6}{#1}"),Dn("\\grayD","\\textcolor{##d6d8da}{#1}"),Dn("\\grayE","\\textcolor{##babec2}{#1}"),Dn("\\grayF","\\textcolor{##888d93}{#1}"),Dn("\\grayG","\\textcolor{##626569}{#1}"),Dn("\\grayH","\\textcolor{##3b3e40}{#1}"),Dn("\\grayI","\\textcolor{##21242c}{#1}"),Dn("\\kaBlue","\\textcolor{##314453}{#1}"),Dn("\\kaGreen","\\textcolor{##71B307}{#1}");var Lr={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Rr{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Tr(Ar,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new Er(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;n=this.popToken(),({tokens:i,end:r}=this.consumeArg(["]"]))}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new t("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;" "===this.future().text;)this.stack.pop()}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var i,o=this.future(),s=0,a=0;do{if(i=this.popToken(),t.push(i),"{"===i.text)++s;else if("}"===i.text){if(-1==--s)throw new n("Extra }",i)}else if("EOF"===i.text)throw new n("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",i);if(e&&r)if((0===s||1===s&&"{"===e[a])&&i.text===e[a]){if(++a===e.length){t.splice(-a,a);break}}else a=0}while(0!==s||r);return"{"===o.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:o,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new n("The length of delimiters doesn't match the number of args!");for(var r=t[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new n("Use of the macro doesn't match its definition",o)}}for(var s=[],a=0;a<e;a++)s.push(this.consumeArg(t&&t[a+1]).tokens);return s}expandOnce(e){var t=this.popToken(),r=t.text,i=t.noexpand?null:this._getExpansion(r);if(null==i||e&&i.unexpandable){if(e&&null==i&&"\\"===r[0]&&!this.isDefined(r))throw new n("Undefined control sequence: "+r);return this.pushToken(t),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new n("Too many expansions: infinite loop or need to increase maxExpand setting");var o=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs)for(var a=(o=o.slice()).length-1;a>=0;--a){var l=o[a];if("#"===l.text){if(0===a)throw new n("Incomplete placeholder at end of macro body",l);if("#"===(l=o[--a]).text)o.splice(a+1,1);else{if(!/^[1-9]$/.test(l.text))throw new n("Not a valid argument number",l);o.splice(a,2,...s[+l.text-1])}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new t(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(!1===this.expandOnce(!0)){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map(e=>e.text).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var n=this.lexer.catcodes[e];if(null!=n&&13!==n)return}var r="function"==typeof t?t(this):t;if("string"==typeof r){var i=0;if(-1!==r.indexOf("#"))for(var o=r.replace(/##/g,"");-1!==o.indexOf("#"+(i+1));)++i;for(var s=new Er(r,this.settings),a=[],l=s.lex();"EOF"!==l.text;)a.push(l),l=s.lex();return a.reverse(),{tokens:a,numArgs:i}}return r}isDefined(e){return this.macros.has(e)||wr.hasOwnProperty(e)||oe.math.hasOwnProperty(e)||oe.text.hasOwnProperty(e)||Lr.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:wr.hasOwnProperty(e)&&!wr[e].primitive}}var Dr=/^[\u208a\u208b\u208c\u208d\u208e\u2080\u2081\u2082\u2083\u2084\u2085\u2086\u2087\u2088\u2089\u2090\u2091\u2095\u1d62\u2c7c\u2096\u2097\u2098\u2099\u2092\u209a\u1d63\u209b\u209c\u1d64\u1d65\u2093\u1d66\u1d67\u1d68\u1d69\u1d6a]/,Fr=Object.freeze({"\u208a":"+","\u208b":"-","\u208c":"=","\u208d":"(","\u208e":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1d62":"i","\u2c7c":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209a":"p","\u1d63":"r","\u209b":"s","\u209c":"t","\u1d64":"u","\u1d65":"v","\u2093":"x","\u1d66":"\u03b2","\u1d67":"\u03b3","\u1d68":"\u03c1","\u1d69":"\u03d5","\u1d6a":"\u03c7","\u207a":"+","\u207b":"-","\u207c":"=","\u207d":"(","\u207e":")","\u2070":"0","\xb9":"1","\xb2":"2","\xb3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1d2c":"A","\u1d2e":"B","\u1d30":"D","\u1d31":"E","\u1d33":"G","\u1d34":"H","\u1d35":"I","\u1d36":"J","\u1d37":"K","\u1d38":"L","\u1d39":"M","\u1d3a":"N","\u1d3c":"O","\u1d3e":"P","\u1d3f":"R","\u1d40":"T","\u1d41":"U","\u2c7d":"V","\u1d42":"W","\u1d43":"a","\u1d47":"b","\u1d9c":"c","\u1d48":"d","\u1d49":"e","\u1da0":"f","\u1d4d":"g","\u02b0":"h","\u2071":"i","\u02b2":"j","\u1d4f":"k","\u02e1":"l","\u1d50":"m","\u207f":"n","\u1d52":"o","\u1d56":"p","\u02b3":"r","\u02e2":"s","\u1d57":"t","\u1d58":"u","\u1d5b":"v","\u02b7":"w","\u02e3":"x","\u02b8":"y","\u1dbb":"z","\u1d5d":"\u03b2","\u1d5e":"\u03b3","\u1d5f":"\u03b4","\u1d60":"\u03d5","\u1d61":"\u03c7","\u1dbf":"\u03b8"}),Pr={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030c":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030a":{text:"\\r",math:"\\mathring"},"\u030b":{text:"\\H"},"\u0327":{text:"\\c"}},qr={"\xe1":"a\u0301","\xe0":"a\u0300","\xe4":"a\u0308","\u01df":"a\u0308\u0304","\xe3":"a\u0303","\u0101":"a\u0304","\u0103":"a\u0306","\u1eaf":"a\u0306\u0301","\u1eb1":"a\u0306\u0300","\u1eb5":"a\u0306\u0303","\u01ce":"a\u030c","\xe2":"a\u0302","\u1ea5":"a\u0302\u0301","\u1ea7":"a\u0302\u0300","\u1eab":"a\u0302\u0303","\u0227":"a\u0307","\u01e1":"a\u0307\u0304","\xe5":"a\u030a","\u01fb":"a\u030a\u0301","\u1e03":"b\u0307","\u0107":"c\u0301","\u1e09":"c\u0327\u0301","\u010d":"c\u030c","\u0109":"c\u0302","\u010b":"c\u0307","\xe7":"c\u0327","\u010f":"d\u030c","\u1e0b":"d\u0307","\u1e11":"d\u0327","\xe9":"e\u0301","\xe8":"e\u0300","\xeb":"e\u0308","\u1ebd":"e\u0303","\u0113":"e\u0304","\u1e17":"e\u0304\u0301","\u1e15":"e\u0304\u0300","\u0115":"e\u0306","\u1e1d":"e\u0327\u0306","\u011b":"e\u030c","\xea":"e\u0302","\u1ebf":"e\u0302\u0301","\u1ec1":"e\u0302\u0300","\u1ec5":"e\u0302\u0303","\u0117":"e\u0307","\u0229":"e\u0327","\u1e1f":"f\u0307","\u01f5":"g\u0301","\u1e21":"g\u0304","\u011f":"g\u0306","\u01e7":"g\u030c","\u011d":"g\u0302","\u0121":"g\u0307","\u0123":"g\u0327","\u1e27":"h\u0308","\u021f":"h\u030c","\u0125":"h\u0302","\u1e23":"h\u0307","\u1e29":"h\u0327","\xed":"i\u0301","\xec":"i\u0300","\xef":"i\u0308","\u1e2f":"i\u0308\u0301","\u0129":"i\u0303","\u012b":"i\u0304","\u012d":"i\u0306","\u01d0":"i\u030c","\xee":"i\u0302","\u01f0":"j\u030c","\u0135":"j\u0302","\u1e31":"k\u0301","\u01e9":"k\u030c","\u0137":"k\u0327","\u013a":"l\u0301","\u013e":"l\u030c","\u013c":"l\u0327","\u1e3f":"m\u0301","\u1e41":"m\u0307","\u0144":"n\u0301","\u01f9":"n\u0300","\xf1":"n\u0303","\u0148":"n\u030c","\u1e45":"n\u0307","\u0146":"n\u0327","\xf3":"o\u0301","\xf2":"o\u0300","\xf6":"o\u0308","\u022b":"o\u0308\u0304","\xf5":"o\u0303","\u1e4d":"o\u0303\u0301","\u1e4f":"o\u0303\u0308","\u022d":"o\u0303\u0304","\u014d":"o\u0304","\u1e53":"o\u0304\u0301","\u1e51":"o\u0304\u0300","\u014f":"o\u0306","\u01d2":"o\u030c","\xf4":"o\u0302","\u1ed1":"o\u0302\u0301","\u1ed3":"o\u0302\u0300","\u1ed7":"o\u0302\u0303","\u022f":"o\u0307","\u0231":"o\u0307\u0304","\u0151":"o\u030b","\u1e55":"p\u0301","\u1e57":"p\u0307","\u0155":"r\u0301","\u0159":"r\u030c","\u1e59":"r\u0307","\u0157":"r\u0327","\u015b":"s\u0301","\u1e65":"s\u0301\u0307","\u0161":"s\u030c","\u1e67":"s\u030c\u0307","\u015d":"s\u0302","\u1e61":"s\u0307","\u015f":"s\u0327","\u1e97":"t\u0308","\u0165":"t\u030c","\u1e6b":"t\u0307","\u0163":"t\u0327","\xfa":"u\u0301","\xf9":"u\u0300","\xfc":"u\u0308","\u01d8":"u\u0308\u0301","\u01dc":"u\u0308\u0300","\u01d6":"u\u0308\u0304","\u01da":"u\u0308\u030c","\u0169":"u\u0303","\u1e79":"u\u0303\u0301","\u016b":"u\u0304","\u1e7b":"u\u0304\u0308","\u016d":"u\u0306","\u01d4":"u\u030c","\xfb":"u\u0302","\u016f":"u\u030a","\u0171":"u\u030b","\u1e7d":"v\u0303","\u1e83":"w\u0301","\u1e81":"w\u0300","\u1e85":"w\u0308","\u0175":"w\u0302","\u1e87":"w\u0307","\u1e98":"w\u030a","\u1e8d":"x\u0308","\u1e8b":"x\u0307","\xfd":"y\u0301","\u1ef3":"y\u0300","\xff":"y\u0308","\u1ef9":"y\u0303","\u0233":"y\u0304","\u0177":"y\u0302","\u1e8f":"y\u0307","\u1e99":"y\u030a","\u017a":"z\u0301","\u017e":"z\u030c","\u1e91":"z\u0302","\u017c":"z\u0307","\xc1":"A\u0301","\xc0":"A\u0300","\xc4":"A\u0308","\u01de":"A\u0308\u0304","\xc3":"A\u0303","\u0100":"A\u0304","\u0102":"A\u0306","\u1eae":"A\u0306\u0301","\u1eb0":"A\u0306\u0300","\u1eb4":"A\u0306\u0303","\u01cd":"A\u030c","\xc2":"A\u0302","\u1ea4":"A\u0302\u0301","\u1ea6":"A\u0302\u0300","\u1eaa":"A\u0302\u0303","\u0226":"A\u0307","\u01e0":"A\u0307\u0304","\xc5":"A\u030a","\u01fa":"A\u030a\u0301","\u1e02":"B\u0307","\u0106":"C\u0301","\u1e08":"C\u0327\u0301","\u010c":"C\u030c","\u0108":"C\u0302","\u010a":"C\u0307","\xc7":"C\u0327","\u010e":"D\u030c","\u1e0a":"D\u0307","\u1e10":"D\u0327","\xc9":"E\u0301","\xc8":"E\u0300","\xcb":"E\u0308","\u1ebc":"E\u0303","\u0112":"E\u0304","\u1e16":"E\u0304\u0301","\u1e14":"E\u0304\u0300","\u0114":"E\u0306","\u1e1c":"E\u0327\u0306","\u011a":"E\u030c","\xca":"E\u0302","\u1ebe":"E\u0302\u0301","\u1ec0":"E\u0302\u0300","\u1ec4":"E\u0302\u0303","\u0116":"E\u0307","\u0228":"E\u0327","\u1e1e":"F\u0307","\u01f4":"G\u0301","\u1e20":"G\u0304","\u011e":"G\u0306","\u01e6":"G\u030c","\u011c":"G\u0302","\u0120":"G\u0307","\u0122":"G\u0327","\u1e26":"H\u0308","\u021e":"H\u030c","\u0124":"H\u0302","\u1e22":"H\u0307","\u1e28":"H\u0327","\xcd":"I\u0301","\xcc":"I\u0300","\xcf":"I\u0308","\u1e2e":"I\u0308\u0301","\u0128":"I\u0303","\u012a":"I\u0304","\u012c":"I\u0306","\u01cf":"I\u030c","\xce":"I\u0302","\u0130":"I\u0307","\u0134":"J\u0302","\u1e30":"K\u0301","\u01e8":"K\u030c","\u0136":"K\u0327","\u0139":"L\u0301","\u013d":"L\u030c","\u013b":"L\u0327","\u1e3e":"M\u0301","\u1e40":"M\u0307","\u0143":"N\u0301","\u01f8":"N\u0300","\xd1":"N\u0303","\u0147":"N\u030c","\u1e44":"N\u0307","\u0145":"N\u0327","\xd3":"O\u0301","\xd2":"O\u0300","\xd6":"O\u0308","\u022a":"O\u0308\u0304","\xd5":"O\u0303","\u1e4c":"O\u0303\u0301","\u1e4e":"O\u0303\u0308","\u022c":"O\u0303\u0304","\u014c":"O\u0304","\u1e52":"O\u0304\u0301","\u1e50":"O\u0304\u0300","\u014e":"O\u0306","\u01d1":"O\u030c","\xd4":"O\u0302","\u1ed0":"O\u0302\u0301","\u1ed2":"O\u0302\u0300","\u1ed6":"O\u0302\u0303","\u022e":"O\u0307","\u0230":"O\u0307\u0304","\u0150":"O\u030b","\u1e54":"P\u0301","\u1e56":"P\u0307","\u0154":"R\u0301","\u0158":"R\u030c","\u1e58":"R\u0307","\u0156":"R\u0327","\u015a":"S\u0301","\u1e64":"S\u0301\u0307","\u0160":"S\u030c","\u1e66":"S\u030c\u0307","\u015c":"S\u0302","\u1e60":"S\u0307","\u015e":"S\u0327","\u0164":"T\u030c","\u1e6a":"T\u0307","\u0162":"T\u0327","\xda":"U\u0301","\xd9":"U\u0300","\xdc":"U\u0308","\u01d7":"U\u0308\u0301","\u01db":"U\u0308\u0300","\u01d5":"U\u0308\u0304","\u01d9":"U\u0308\u030c","\u0168":"U\u0303","\u1e78":"U\u0303\u0301","\u016a":"U\u0304","\u1e7a":"U\u0304\u0308","\u016c":"U\u0306","\u01d3":"U\u030c","\xdb":"U\u0302","\u016e":"U\u030a","\u0170":"U\u030b","\u1e7c":"V\u0303","\u1e82":"W\u0301","\u1e80":"W\u0300","\u1e84":"W\u0308","\u0174":"W\u0302","\u1e86":"W\u0307","\u1e8c":"X\u0308","\u1e8a":"X\u0307","\xdd":"Y\u0301","\u1ef2":"Y\u0300","\u0178":"Y\u0308","\u1ef8":"Y\u0303","\u0232":"Y\u0304","\u0176":"Y\u0302","\u1e8e":"Y\u0307","\u0179":"Z\u0301","\u017d":"Z\u030c","\u1e90":"Z\u0302","\u017b":"Z\u0307","\u03ac":"\u03b1\u0301","\u1f70":"\u03b1\u0300","\u1fb1":"\u03b1\u0304","\u1fb0":"\u03b1\u0306","\u03ad":"\u03b5\u0301","\u1f72":"\u03b5\u0300","\u03ae":"\u03b7\u0301","\u1f74":"\u03b7\u0300","\u03af":"\u03b9\u0301","\u1f76":"\u03b9\u0300","\u03ca":"\u03b9\u0308","\u0390":"\u03b9\u0308\u0301","\u1fd2":"\u03b9\u0308\u0300","\u1fd1":"\u03b9\u0304","\u1fd0":"\u03b9\u0306","\u03cc":"\u03bf\u0301","\u1f78":"\u03bf\u0300","\u03cd":"\u03c5\u0301","\u1f7a":"\u03c5\u0300","\u03cb":"\u03c5\u0308","\u03b0":"\u03c5\u0308\u0301","\u1fe2":"\u03c5\u0308\u0300","\u1fe1":"\u03c5\u0304","\u1fe0":"\u03c5\u0306","\u03ce":"\u03c9\u0301","\u1f7c":"\u03c9\u0300","\u038e":"\u03a5\u0301","\u1fea":"\u03a5\u0300","\u03ab":"\u03a5\u0308","\u1fe9":"\u03a5\u0304","\u1fe8":"\u03a5\u0306","\u038f":"\u03a9\u0301","\u1ffa":"\u03a9\u0300"};class Br{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Rr(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new n("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new t("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,t){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.fetch();if(-1!==Br.endOfExpression.indexOf(r.text))break;if(t&&r.text===t)break;if(e&&wr[r.text]&&wr[r.text].infix)break;var i=this.parseAtom(t);if(!i)break;"internal"!==i.type&&n.push(i)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t,r=-1,i=0;i<e.length;i++)if("infix"===e[i].type){if(-1!==r)throw new n("only one infix operator per group",e[i].token);r=i,t=e[i].replaceWith}if(-1!==r&&t){var o,s,a=e.slice(0,r),l=e.slice(r+1);return o=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},s=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},[this.callFunction(t,"\\\\abovefrac"===t?[o,e[r],s]:[o,s],[])]}return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new n("Expected group after '"+r+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:t}]}}parseAtom(e){var t,r,i=this.parseGroup("atom",e);if("text"===this.mode)return i;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(i&&"op"===i.type)i.limits="\\limits"===o.text,i.alwaysHandleSupSub=!0;else{if(!i||"operatorname"!==i.type)throw new n("Limit controls must follow a math operator",o);i.alwaysHandleSupSub&&(i.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(t)throw new n("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(r)throw new n("Double subscript",o);r=this.handleSupSubscript("subscript")}else if("'"===o.text){if(t)throw new n("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},a=[s];for(this.consume();"'"===this.fetch().text;)a.push(s),this.consume();"^"===this.fetch().text&&a.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:a}}else{if(!Fr[o.text])break;var l=Fr[o.text],c=Dr.test(o.text);for(this.consume();;){var u=this.fetch().text;if(!Fr[u])break;if(Dr.test(u)!==c)break;this.consume(),l+=Fr[u]}var h=new Br(l,this.settings).parse();c?r={type:"ordgroup",mode:"math",body:h}:t={type:"ordgroup",mode:"math",body:h}}}return t||r?{type:"supsub",mode:this.mode,base:i,sup:t,sub:r}:i}parseFunction(e,t){var r=this.fetch(),i=r.text,o=wr[i];if(!o)return null;if(this.consume(),t&&"atom"!==t&&!o.allowedInArgument)throw new n("Got function '"+i+"' with no arguments"+(t?" as "+t:""),r);if("text"===this.mode&&!o.allowedInText)throw new n("Can't use function '"+i+"' in text mode",r);if("math"===this.mode&&!1===o.allowedInMath)throw new n("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:a}=this.parseArguments(i,o);return this.callFunction(i,s,a,r,e)}callFunction(e,t,r,i,o){var s=wr[e];if(s&&s.handler)return s.handler({funcName:e,parser:this,token:i,breakOnTokenText:o},t,r);throw new n("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(0===r)return{args:[],optArgs:[]};for(var i=[],o=[],s=0;s<r;s++){var a=t.argTypes&&t.argTypes[s],l=s<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===s&&null==o[0])&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)o.push(c);else{if(null==c)throw new n("Null argument, please report this as a bug");i.push(c)}}return{args:i,optArgs:o}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":var i=this.parseArgumentGroup(r,"text");return null!=i?{type:"styling",mode:i.mode,body:[i],style:"text"}:null;case"raw":var o=this.parseStringGroup("raw",r);return null!=o?{type:"raw",mode:"text",string:o.text}:null;case"primitive":if(r)throw new n("A primitive argument cannot be optional");var s=this.parseGroup(e);if(null==s)throw new n("Expected group as "+e,this.fetch());return s;case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new n("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(null==n)return null;for(var r,i="";"EOF"!==(r=this.fetch()).text;)i+=r.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,t){for(var r,i=this.fetch(),o=i,s="";"EOF"!==(r=this.fetch()).text&&e.test(s+r.text);)s+=(o=r).text,this.consume();if(""===s)throw new n("Invalid "+t+": '"+i.text+"'",i);return i.range(o,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new n("Invalid color: '"+t.text+"'",t);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new n("Invalid size: '"+t.text+"'",t);var o={number:+(i[1]+i[2]),unit:i[3]};if(!z(o))throw new n("Invalid unit: '"+o.unit+"'",t);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(null==n)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return t&&this.switchMode(r),o}parseGroup(t,r){var i,o=this.fetch(),s=o.text;if("{"===s||"\\begingroup"===s){this.consume();var a="{"===s?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),c=this.fetch();this.expect(a),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:e.range(o,c),body:l,semisimple:"\\begingroup"===s||void 0}}else if(null==(i=this.parseFunction(r,t)||this.parseSymbol())&&"\\"===s[0]&&!Lr.hasOwnProperty(s)){if(this.settings.throwOnError)throw new n("Undefined control sequence: "+s,o);i=this.formatUnsupportedCmd(s),this.consume()}return i}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],o=i.text;"-"===o&&"-"===t[r+1].text&&(r+1<n&&"-"===t[r+2].text?(t.splice(r,3,{type:"textord",mode:"text",loc:e.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:e.range(i,t[r+1]),text:"--"}),n-=1)),"'"!==o&&"`"!==o||t[r+1].text!==o||(t.splice(r,2,{type:"textord",mode:"text",loc:e.range(i,t[r+1]),text:o+o}),n-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var i=r.slice(5),o="*"===i.charAt(0);if(o&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new n("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:i=i.slice(1,-1),star:o}}qr.hasOwnProperty(r[0])&&!oe[this.mode][r[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=qr[r[0]]+r.slice(1));var s,a=Nr.exec(r);if(a&&("i"===(r=r.substring(0,a.index))?r="\u0131":"j"===r&&(r="\u0237")),oe[this.mode][r]){this.settings.strict&&"math"===this.mode&&"\xd0\xde\xfe".indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var l=oe[this.mode][r].group,c=e.range(t);s=re.hasOwnProperty(l)?{type:"atom",mode:this.mode,family:l,loc:c,text:r}:{type:l,mode:this.mode,loc:c,text:r}}else{if(!(r.charCodeAt(0)>=128))return null;this.settings.strict&&(C(r.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'" ('+r.charCodeAt(0)+")",t)),s={type:"textord",mode:"text",loc:e.range(t),text:r}}if(this.consume(),a)for(var u=0;u<a[0].length;u++){var h=a[0][u];if(!Pr[h])throw new n("Unknown accent ' "+h+"'",t);var d=Pr[h][this.mode]||Pr[h].text;if(!d)throw new n("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:e.range(t),label:d,isStretchy:!1,isShifty:!0,base:s}}return s}}Br.endOfExpression=["}","\\endgroup","\\end","\\right","&"],"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&"undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype.");var jr,zr=__webpack_require__(143);!function(e){e[e.R=0]="R",e[e.L=1]="L"}(jr||(jr={}));const Hr=function(){function e(){}return e.getInterface=function(){return MathQuill.getInterface(2)},e.convertLatexToMathML=function(e){var r,i,o=new DOMParser,s="",a="",l="",c=!1;try{var u=function(e,r){return function(e,r){var i=new m({displayMode:!0});try{return function(e,t,n){var r,i=function(e){return new q({style:e.displayMode?E.DISPLAY:E.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})}(n);if("mathml"===n.output)return It(e,t,i,n.displayMode,!0);if("html"===n.output){var o=St(e,i);r=Xe.makeSpan(["katex"],[o])}else{var s=It(e,t,i,n.displayMode,!1),a=St(e,i);r=Xe.makeSpan(["katex"],[s,a])}return function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Xe.makeSpan(n,[e])}return e}(r,n)}(function(e,r){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new Br(e,r);delete i.gullet.macros.current["\\df@tag"];var o=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new n("\\tag works only in display equations");o=[{type:"tag",mode:"text",body:o,tag:i.subparse([new t("\\df@tag")])}]}return o}(e,i),e,i)}catch(r){return function(e,t,r){if(r.throwOnError||!(e instanceof n))throw e;var i=Xe.makeSpan(["katex-error"],[new Z(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i}(r,e,i)}}(e,{displayMode:!0}).toMarkup()}(e),h=o.parseFromString(u,"text/html");h&&!c&&(a=null===(r=h.querySelector(".katex .katex-mathml"))||void 0===r?void 0:r.innerHTML,s=null===(i=h.querySelector(".katex .katex-html"))||void 0===i?void 0:i.innerHTML)}catch(e){c=!0}try{l=zr.toSpeech(a)}catch(e){l="Incomplete math entry"}return{htmlString:s,mathJaxString:a,mathSpeechOutput:l,katexError:c}},e}()})(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})(),module.exports=u()});const MathEditor=Object(_commonjsHelpers_ba3f0406_js__WEBPACK_IMPORTED_MODULE_0__.c)(dist)}}]);